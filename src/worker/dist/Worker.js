/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "../../node_modules/node-fetch/browser.js":
/*!********************************************************************************!*\
  !*** /home/oxen/work/shaw/three-volumetric/node_modules/node-fetch/browser.js ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n// ref: https://github.com/tc39/proposal-global\nvar getGlobal = function () {\n\t// the only reliable means to get the global object is\n\t// `Function('return this')()`\n\t// However, this causes CSP violations in Chrome apps.\n\tif (typeof self !== 'undefined') { return self; }\n\tif (typeof window !== 'undefined') { return window; }\n\tif (typeof global !== 'undefined') { return global; }\n\tthrow new Error('unable to locate global object');\n}\n\nvar global = getGlobal();\n\nmodule.exports = exports = global.fetch;\n\n// Needed for TypeScript and Webpack.\nexports.default = global.fetch.bind(global);\n\nexports.Headers = global.Headers;\nexports.Request = global.Request;\nexports.Response = global.Response;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL25vZGUtZmV0Y2gvYnJvd3Nlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vaG9tZS9veGVuL3dvcmsvc2hhdy90aHJlZS12b2x1bWV0cmljL25vZGVfbW9kdWxlcy9ub2RlLWZldGNoL2Jyb3dzZXIuanM/NWRjNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLy8gcmVmOiBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1nbG9iYWxcbnZhciBnZXRHbG9iYWwgPSBmdW5jdGlvbiAoKSB7XG5cdC8vIHRoZSBvbmx5IHJlbGlhYmxlIG1lYW5zIHRvIGdldCB0aGUgZ2xvYmFsIG9iamVjdCBpc1xuXHQvLyBgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKWBcblx0Ly8gSG93ZXZlciwgdGhpcyBjYXVzZXMgQ1NQIHZpb2xhdGlvbnMgaW4gQ2hyb21lIGFwcHMuXG5cdGlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcpIHsgcmV0dXJuIHNlbGY7IH1cblx0aWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7IHJldHVybiB3aW5kb3c7IH1cblx0aWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7IHJldHVybiBnbG9iYWw7IH1cblx0dGhyb3cgbmV3IEVycm9yKCd1bmFibGUgdG8gbG9jYXRlIGdsb2JhbCBvYmplY3QnKTtcbn1cblxudmFyIGdsb2JhbCA9IGdldEdsb2JhbCgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBnbG9iYWwuZmV0Y2g7XG5cbi8vIE5lZWRlZCBmb3IgVHlwZVNjcmlwdCBhbmQgV2VicGFjay5cbmV4cG9ydHMuZGVmYXVsdCA9IGdsb2JhbC5mZXRjaC5iaW5kKGdsb2JhbCk7XG5cbmV4cG9ydHMuSGVhZGVycyA9IGdsb2JhbC5IZWFkZXJzO1xuZXhwb3J0cy5SZXF1ZXN0ID0gZ2xvYmFsLlJlcXVlc3Q7XG5leHBvcnRzLlJlc3BvbnNlID0gZ2xvYmFsLlJlc3BvbnNlOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/node-fetch/browser.js\n");

/***/ }),

/***/ "./node_modules/ring-buffer-ts/dist/index.js":
/*!***************************************************!*\
  !*** ./node_modules/ring-buffer-ts/dist/index.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("!function(e,t){if(true)module.exports=t();else { var i, r; }}(this,(function(){return function(e){var t={};function r(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var s in e)r.d(i,s,function(t){return e[t]}.bind(null,s));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=0)}([function(e,t,r){\"use strict\";r.r(t);class i{constructor(e){if(this.buffer=[],this.pos=0,e<0)throw new RangeError(\"The size does not allow negative values.\");this.size=e}static fromArray(e,t=0){const r=new i(t);return r.fromArray(e,0===t),r}getSize(){return this.size}getPos(){return this.pos}getBufferLength(){return this.buffer.length}add(...e){e.forEach(e=>{this.buffer[this.pos]=e,this.pos=(this.pos+1)%this.size})}get(e){if(e<0&&(e+=this.buffer.length),!(e<0||e>this.buffer.length))return this.buffer.length<this.size?this.buffer[e]:this.buffer[(this.pos+e)%this.size]}getFirst(){return this.get(0)}getLast(){return this.get(-1)}remove(e,t=1){if(e<0&&(e+=this.buffer.length),e<0||e>this.buffer.length)return[];const r=this.toArray(),i=r.splice(e,t);return this.fromArray(r),i}removeFirst(){return this.remove(0)[0]}removeLast(){return this.remove(-1)[0]}toArray(){return this.buffer.slice(this.pos).concat(this.buffer.slice(0,this.pos))}fromArray(e,t=!1){if(!Array.isArray(e))throw new TypeError(\"Input value is not an array.\");t&&this.resize(e.length),0!==this.size&&(this.buffer=e.slice(-this.size),this.pos=this.buffer.length%this.size)}clear(){this.buffer=[],this.pos=0}resize(e){if(e<0)throw new RangeError(\"The size does not allow negative values.\");if(0===e)this.clear();else if(e!==this.size){const t=this.toArray();this.fromArray(t.slice(-e)),this.pos=this.buffer.length%e}this.size=e}isFull(){return this.buffer.length===this.size}isEmpty(){return 0===this.buffer.length}}r.d(t,\"RingBuffer\",(function(){return i}))}])}));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmluZy1idWZmZXItdHMvZGlzdC9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yaW5nLWJ1ZmZlci10cy9kaXN0L2luZGV4LmpzPzY1NGMiXSwic291cmNlc0NvbnRlbnQiOlsiIWZ1bmN0aW9uKGUsdCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9dCgpO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSx0KTtlbHNle3ZhciByPXQoKTtmb3IodmFyIGkgaW4gcikoXCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0czplKVtpXT1yW2ldfX0odGhpcywoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9e307ZnVuY3Rpb24gcihpKXtpZih0W2ldKXJldHVybiB0W2ldLmV4cG9ydHM7dmFyIHM9dFtpXT17aTppLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIGVbaV0uY2FsbChzLmV4cG9ydHMscyxzLmV4cG9ydHMscikscy5sPSEwLHMuZXhwb3J0c31yZXR1cm4gci5tPWUsci5jPXQsci5kPWZ1bmN0aW9uKGUsdCxpKXtyLm8oZSx0KXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6aX0pfSxyLnI9ZnVuY3Rpb24oZSl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sci50PWZ1bmN0aW9uKGUsdCl7aWYoMSZ0JiYoZT1yKGUpKSw4JnQpcmV0dXJuIGU7aWYoNCZ0JiZcIm9iamVjdFwiPT10eXBlb2YgZSYmZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciBpPU9iamVjdC5jcmVhdGUobnVsbCk7aWYoci5yKGkpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOmV9KSwyJnQmJlwic3RyaW5nXCIhPXR5cGVvZiBlKWZvcih2YXIgcyBpbiBlKXIuZChpLHMsZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19LmJpbmQobnVsbCxzKSk7cmV0dXJuIGl9LHIubj1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4gci5kKHQsXCJhXCIsdCksdH0sci5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxyLnA9XCJcIixyKHIucz0wKX0oW2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtyLnIodCk7Y2xhc3MgaXtjb25zdHJ1Y3RvcihlKXtpZih0aGlzLmJ1ZmZlcj1bXSx0aGlzLnBvcz0wLGU8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlRoZSBzaXplIGRvZXMgbm90IGFsbG93IG5lZ2F0aXZlIHZhbHVlcy5cIik7dGhpcy5zaXplPWV9c3RhdGljIGZyb21BcnJheShlLHQ9MCl7Y29uc3Qgcj1uZXcgaSh0KTtyZXR1cm4gci5mcm9tQXJyYXkoZSwwPT09dCkscn1nZXRTaXplKCl7cmV0dXJuIHRoaXMuc2l6ZX1nZXRQb3MoKXtyZXR1cm4gdGhpcy5wb3N9Z2V0QnVmZmVyTGVuZ3RoKCl7cmV0dXJuIHRoaXMuYnVmZmVyLmxlbmd0aH1hZGQoLi4uZSl7ZS5mb3JFYWNoKGU9Pnt0aGlzLmJ1ZmZlclt0aGlzLnBvc109ZSx0aGlzLnBvcz0odGhpcy5wb3MrMSkldGhpcy5zaXplfSl9Z2V0KGUpe2lmKGU8MCYmKGUrPXRoaXMuYnVmZmVyLmxlbmd0aCksIShlPDB8fGU+dGhpcy5idWZmZXIubGVuZ3RoKSlyZXR1cm4gdGhpcy5idWZmZXIubGVuZ3RoPHRoaXMuc2l6ZT90aGlzLmJ1ZmZlcltlXTp0aGlzLmJ1ZmZlclsodGhpcy5wb3MrZSkldGhpcy5zaXplXX1nZXRGaXJzdCgpe3JldHVybiB0aGlzLmdldCgwKX1nZXRMYXN0KCl7cmV0dXJuIHRoaXMuZ2V0KC0xKX1yZW1vdmUoZSx0PTEpe2lmKGU8MCYmKGUrPXRoaXMuYnVmZmVyLmxlbmd0aCksZTwwfHxlPnRoaXMuYnVmZmVyLmxlbmd0aClyZXR1cm5bXTtjb25zdCByPXRoaXMudG9BcnJheSgpLGk9ci5zcGxpY2UoZSx0KTtyZXR1cm4gdGhpcy5mcm9tQXJyYXkociksaX1yZW1vdmVGaXJzdCgpe3JldHVybiB0aGlzLnJlbW92ZSgwKVswXX1yZW1vdmVMYXN0KCl7cmV0dXJuIHRoaXMucmVtb3ZlKC0xKVswXX10b0FycmF5KCl7cmV0dXJuIHRoaXMuYnVmZmVyLnNsaWNlKHRoaXMucG9zKS5jb25jYXQodGhpcy5idWZmZXIuc2xpY2UoMCx0aGlzLnBvcykpfWZyb21BcnJheShlLHQ9ITEpe2lmKCFBcnJheS5pc0FycmF5KGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnB1dCB2YWx1ZSBpcyBub3QgYW4gYXJyYXkuXCIpO3QmJnRoaXMucmVzaXplKGUubGVuZ3RoKSwwIT09dGhpcy5zaXplJiYodGhpcy5idWZmZXI9ZS5zbGljZSgtdGhpcy5zaXplKSx0aGlzLnBvcz10aGlzLmJ1ZmZlci5sZW5ndGgldGhpcy5zaXplKX1jbGVhcigpe3RoaXMuYnVmZmVyPVtdLHRoaXMucG9zPTB9cmVzaXplKGUpe2lmKGU8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlRoZSBzaXplIGRvZXMgbm90IGFsbG93IG5lZ2F0aXZlIHZhbHVlcy5cIik7aWYoMD09PWUpdGhpcy5jbGVhcigpO2Vsc2UgaWYoZSE9PXRoaXMuc2l6ZSl7Y29uc3QgdD10aGlzLnRvQXJyYXkoKTt0aGlzLmZyb21BcnJheSh0LnNsaWNlKC1lKSksdGhpcy5wb3M9dGhpcy5idWZmZXIubGVuZ3RoJWV9dGhpcy5zaXplPWV9aXNGdWxsKCl7cmV0dXJuIHRoaXMuYnVmZmVyLmxlbmd0aD09PXRoaXMuc2l6ZX1pc0VtcHR5KCl7cmV0dXJuIDA9PT10aGlzLmJ1ZmZlci5sZW5ndGh9fXIuZCh0LFwiUmluZ0J1ZmZlclwiLChmdW5jdGlvbigpe3JldHVybiBpfSkpfV0pfSkpOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/ring-buffer-ts/dist/index.js\n");

/***/ }),

/***/ "./src/Enums.ts":
/*!**********************!*\
  !*** ./src/Enums.ts ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MessageType = void 0;\nvar MessageType;\n(function (MessageType) {\n    MessageType[MessageType[\"InitializationRequest\"] = 0] = \"InitializationRequest\";\n    MessageType[MessageType[\"InitializationResponse\"] = 1] = \"InitializationResponse\";\n    MessageType[MessageType[\"DataRequest\"] = 2] = \"DataRequest\";\n    MessageType[MessageType[\"DataResponse\"] = 3] = \"DataResponse\";\n    MessageType[MessageType[\"SetLoopRequest\"] = 4] = \"SetLoopRequest\";\n    MessageType[MessageType[\"SetStartFrameRequest\"] = 5] = \"SetStartFrameRequest\";\n    MessageType[MessageType[\"SetEndFrameRequest\"] = 6] = \"SetEndFrameRequest\";\n})(MessageType = exports.MessageType || (exports.MessageType = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvRW51bXMudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0VudW1zLnRzPzVlNjEiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGVudW0gTWVzc2FnZVR5cGUge1xuICAgIEluaXRpYWxpemF0aW9uUmVxdWVzdCxcbiAgICBJbml0aWFsaXphdGlvblJlc3BvbnNlLFxuICAgIERhdGFSZXF1ZXN0LFxuICAgIERhdGFSZXNwb25zZSxcbiAgICBTZXRMb29wUmVxdWVzdCxcbiAgICBTZXRTdGFydEZyYW1lUmVxdWVzdCxcbiAgICBTZXRFbmRGcmFtZVJlcXVlc3QsXG59XG5cbiJdLCJtYXBwaW5ncyI6Ijs7O0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Enums.ts\n");

/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ring_buffer_ts_1 = __webpack_require__(/*! ring-buffer-ts */ \"./node_modules/ring-buffer-ts/dist/index.js\");\nconst Enums_1 = __webpack_require__(/*! ./Enums */ \"./src/Enums.ts\");\nconst fetch = __webpack_require__(/*! node-fetch */ \"../../node_modules/node-fetch/browser.js\");\nlet fileHeader;\nlet filePath;\nlet fileReadStream;\nlet isInitialized = false;\nconst bufferSize = 100;\nconst ringBuffer = new ring_buffer_ts_1.RingBuffer(bufferSize);\nlet tempBufferObject;\nlet readStreamOffset = 0;\nlet startFrame = 0;\nlet endFrame = 0;\nlet loop = true;\nlet message;\n// let _decoderModule = draco3d.createDecoderModule({});\n// const decoderModule = draco3d.createDecoderModule({});\n// console.log('31 decoder', decoderModule);\nself.addEventListener('message', (event) => {\n    const data = event.data;\n    console.log(data);\n    const type = event.data.type;\n    switch (type) {\n        case Enums_1.MessageType.InitializationRequest:\n            initialize(data);\n            break;\n        case Enums_1.MessageType.DataRequest:\n            fetchData(event.data);\n            break;\n        case Enums_1.MessageType.SetLoopRequest:\n            loop = data.value;\n            break;\n        case Enums_1.MessageType.SetStartFrameRequest:\n            startFrame = data.values.startFrame;\n            break;\n        case Enums_1.MessageType.SetEndFrameRequest:\n            endFrame = data.values.endFrame;\n            break;\n        default:\n            console.error(data.action + ' was not understood by the worker');\n    }\n});\nfunction initialize(data) {\n    if (isInitialized)\n        return console.error('Worker has already been initialized for file ' + data.filePath);\n    isInitialized = true;\n    fileHeader = data.fileHeader;\n    filePath = data.filePath;\n    endFrame = data.endFrame;\n    startFrame = data.startFrame;\n    loop = data.loop;\n    // Create readstream starting from after the file header and long\n    // fileReadStream = new ReadStream(filePath, { start: data.readStreamOffset });\n    readStreamOffset = data.readStreamOffset;\n    postMessage({\n        type: Enums_1.MessageType.InitializationResponse,\n        isInitialized: isInitialized,\n    });\n}\nasync function fetchData(data) {\n    // Clear Ring Buffer\n    ringBuffer.clear();\n    // Make a list of buffers to transfer\n    let transferableBuffers = [];\n    let lastFrame = -1;\n    let endOfRangeReached = false;\n    tempBufferObject = {\n        frameNumber: 1,\n        bufferGeometry: null,\n        compressedTexture: null,\n    };\n    let count = 0;\n    // var loader = new FileLoader();\n    // loader.setResponseType('arraybuffer');\n    // loader.load(\n    //   filePath,\n    //   function (data) {\n    //     const startBytePosition = 1299;\n    //     const meshLength = 428890;\n    //     console.log('hello');\n    //     console.log(typeof data);\n    //     // const startData = Buffer.alloc(startBytePosition);\n    //     // @ts-ignore\n    //     // data.copy(startData, 0, 0, startBytePosition);\n    //     // console.log('124', data.length);\n    //     // console.log('125', data);\n    //   },\n    //   // onProgress callback\n    //   function (xhr) {\n    //     console.log((xhr.loaded / xhr.total) * 100 + '% loaded');\n    //   },\n    //   // onError callback\n    //   function (err) {\n    //     console.error('An error happened');\n    //   }\n    // );\n    // fetch('http://localhost:8000/dracosis-file')\n    //   .then((res) => {\n    //     console.log(res.status);\n    //     console.log(res.statusText);\n    //     console.log(res.headers.get('content-type'));\n    //     // @ts-ignore\n    //     return res.buffer();\n    //   })\n    //   .then((buffer) => {\n    //     // const geometryString = text.substring(startBytePosition, meshLength);\n    //     // const bufferGeom = Buffer.from(geometryString);\n    //     // console.log(hexdump(buffer));\n    //     const bufferGeom = Buffer.alloc(meshLength);\n    //     buffer.copy(bufferGeom, 0, startBytePosition, meshLength);\n    //     const decoder = new decoderModule.Decoder();\n    //     const decodedGeometry = decodeDracoData(bufferGeom);\n    //     encodeMeshToFile(decodedGeometry, decoder);\n    //     decoderModule.destroy(decoder);\n    //     decoderModule.destroy(decodedGeometry);\n    //   });\n    // Iterate over values in ascending order...\n    data.framesToFetch.sort().forEach((frame) => {\n        //  If this frame > end frame...\n        // ... warn the dev, since this might be unexpected\n        if (frame > endFrame) {\n            console.warn('Frame fetched outside of loop range');\n            // If loop is off, flag end reached\n            if (!loop) {\n                endOfRangeReached = true;\n                return;\n            }\n            // If loop is on, make sure the frame request fits within start and end frame range\n            frame %= endFrame;\n            // If the start frame is not zero, add to the current frame number\n            if (frame < startFrame)\n                frame += startFrame;\n        }\n        const body = {\n            startByte: readStreamOffset + fileHeader.frameData[frame].startBytePosition,\n            meshLength: fileHeader.frameData[frame].meshLength,\n            textureLength: fileHeader.frameData[frame].textureLength,\n        };\n        console.log('Body', body);\n        fetch('http://localhost:8000/dracosis-stream', {\n            method: 'POST',\n            body: JSON.stringify(body),\n            headers: { 'Content-Type': 'application/json' },\n        })\n            .then((res) => {\n            console.log(res.status);\n            console.log(res);\n            // @ts-ignore\n            return res.arrayBuffer();\n            // return res.buffer();\n        })\n            .then((buffer) => {\n            // const geometryString = text.substring(startBytePosition, meshLength);\n            // const bufferGeom = Buffer.from(geometryString);\n            // console.log(hexdump(buffer));\n            console.log('202 inside fetch');\n            console.log(buffer.byteLength);\n            const bufferGeom = buffer.slice(0, fileHeader.frameData[frame].meshLength);\n            const bufferTex = buffer.slice(fileHeader.frameData[frame].meshLength, fileHeader.frameData[frame].textureLength);\n            // const bufferGeom = Buffer.alloc(fileHeader.frameData[frame].meshLength);\n            // const bufferTex = Buffer.alloc(\n            //   fileHeader.frameData[frame].textureLength\n            // );\n            // buffer.copy(bufferGeom, 0, 0, fileHeader.frameData[frame].meshLength);\n            // buffer.copy(bufferTex, 0, fileHeader.frameData[frame].meshLength);\n            tempBufferObject.frameNumber = frame;\n            tempBufferObject.bufferGeometry = bufferGeom;\n            tempBufferObject.compressedTexture = bufferTex;\n            ringBuffer.add(tempBufferObject);\n            // Add buffers to transferableBuffers\n            transferableBuffers.push(tempBufferObject.bufferGeometry);\n            transferableBuffers.push(tempBufferObject.compressedTexture);\n            tempBufferObject = {\n                frameNumber: 0,\n                bufferGeometry: null,\n                compressedTexture: null,\n            };\n            count++;\n            // Set whether end was reached\n            if (count == ringBuffer.getSize()) {\n                // Post message\n                message = {\n                    type: Enums_1.MessageType.DataResponse,\n                    buffers: ringBuffer.toArray(),\n                    endReached: endOfRangeReached,\n                };\n                console.log('RingBuffer', ringBuffer);\n                // postMessage(message);\n                postMessage(message);\n            }\n        });\n        // axios\n        //   .post('http://localhost:8000/dracosis-stream', {\n        //     startByte:\n        //       readStreamOffset + fileHeader.frameData[frame].startBytePosition,\n        //     meshLength: fileHeader.frameData[frame].meshLength,\n        //     textureLength: fileHeader.frameData[frame].textureLength,\n        //   })\n        //   .then(function (response) {\n        //     // If we're not reading from the position of the last frame, seek to start frame\n        //     if (!(frame == lastFrame + 1 && frame != startFrame)) {\n        //       // Get frame start byte pose\n        //       // fileReadStream.seek(fileHeader.frameData[frame].startBytePosition);\n        //     }\n        //     const bufferGeom = Buffer.alloc(fileHeader.frameData[frame].meshLength);\n        //     const bufferTex = Buffer.alloc(\n        //       fileHeader.frameData[frame].textureLength\n        //     );\n        //     const buffer = Buffer.from(<any>response.data);\n        //     buffer.copy(bufferGeom, 0, 0, fileHeader.frameData[frame].meshLength);\n        //     buffer.copy(bufferTex, 0, fileHeader.frameData[frame].meshLength);\n        //     console.log('Buffer Geomtery', bufferGeom);\n        //     // bufferTex.write(<any>response.data, fileHeader.frameData[frame].meshLength, )\n        //     // tell the stream reader to read out the next bytes..\n        //     // Set temp buffer object frame number\n        //     tempBufferObject.frameNumber = frame;\n        //     // Then mesh\n        //     // tempBufferObject.bufferGeometry = fileReadStream.read(\n        //     //   fileHeader.frameData[frame].meshLength\n        //     // );\n        //     tempBufferObject.bufferGeometry = bufferGeom;\n        //     // Then texture\n        //     // tempBufferObject.compressedTexture = fileReadStream.read(\n        //     //   fileHeader.frameData[frame].textureLength\n        //     // );\n        //     tempBufferObject.compressedTexture = bufferTex;\n        //     // Add it to the ring buffer\n        //     ringBuffer.add(tempBufferObject);\n        //     // Add buffers to transferableBuffers\n        //     transferableBuffers.push(tempBufferObject.bufferGeometry);\n        //     transferableBuffers.push(tempBufferObject.compressedTexture);\n        //     tempBufferObject = {\n        //       frameNumber: 0,\n        //       bufferGeometry: null,\n        //       compressedTexture: null,\n        //     };\n        //     count++;\n        //     // Set whether end was reached\n        //     if (count == ringBuffer.getSize()) {\n        //       // Post message\n        //       message = {\n        //         type: MessageType.DataResponse,\n        //         buffers: ringBuffer.toArray(),\n        //         endReached: endOfRangeReached,\n        //       };\n        //       console.log('RingBuffer', ringBuffer);\n        //       // postMessage(message);\n        //       postMessage(message);\n        //     }\n        //   });\n        // Set the last frame\n        lastFrame = frame;\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXgudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2luZGV4LnRzP2M2YWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWRTdHJlYW0gZnJvbSAnZnMtcmVhZHN0cmVhbS1zZWVrJztcbi8vIGltcG9ydCAqIGFzIHBhdGhUb1JlZ0V4cCBmcm9tICdwYXRoLXRvLXJlZ2V4cCc7XG5pbXBvcnQge1xuICBJRmlsZUhlYWRlcixcbiAgV29ya2VyRGF0YVJlcXVlc3QsXG4gIElCdWZmZXIsXG4gIFdvcmtlckRhdGFSZXNwb25zZSxcbiAgV29ya2VySW5pdGlhbGl6YXRpb25SZXNwb25zZSxcbiAgV29ya2VySW5pdGlhbGl6YXRpb25SZXF1ZXN0LFxufSBmcm9tICcuL0ludGVyZmFjZXMnO1xuaW1wb3J0IHsgUmluZ0J1ZmZlciB9IGZyb20gJ3JpbmctYnVmZmVyLXRzJztcbmltcG9ydCB7IE1lc3NhZ2VUeXBlIH0gZnJvbSAnLi9FbnVtcyc7XG5pbXBvcnQgeyBkZWNvZGVEcmFjb0RhdGEgfSBmcm9tICcuL0RlY29kZUNvZGVjSGVscGVycyc7XG4vLyBpbXBvcnQgKiBhcyBkcmFjbzNkIGZyb20gJ2RyYWNvM2QnO1xuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcbmNvbnN0IGZldGNoID0gcmVxdWlyZSgnbm9kZS1mZXRjaCcpO1xuXG5pbXBvcnQge1xuICBTY2VuZSxcbiAgQnVmZmVyR2VvbWV0cnksXG4gIFNwaGVyZUJ1ZmZlckdlb21ldHJ5LFxuICBDb21wcmVzc2VkVGV4dHVyZSxcbiAgQm94QnVmZmVyR2VvbWV0cnksXG4gIE1lc2hCYXNpY01hdGVyaWFsLFxuICBNZXNoU3RhbmRhcmRNYXRlcmlhbCxcbiAgTWVzaFBob25nTWF0ZXJpYWwsXG4gIE1lc2gsXG4gIEZpbGVMb2FkZXIsXG59IGZyb20gJ3RocmVlJztcblxubGV0IGZpbGVIZWFkZXI6IElGaWxlSGVhZGVyO1xubGV0IGZpbGVQYXRoOiBzdHJpbmc7XG5sZXQgZmlsZVJlYWRTdHJlYW06IFJlYWRTdHJlYW07XG5sZXQgaXNJbml0aWFsaXplZCA9IGZhbHNlO1xuY29uc3QgYnVmZmVyU2l6ZSA9IDEwMDtcbmNvbnN0IHJpbmdCdWZmZXIgPSBuZXcgUmluZ0J1ZmZlcjxJQnVmZmVyPihidWZmZXJTaXplKTtcbmxldCB0ZW1wQnVmZmVyT2JqZWN0OiBJQnVmZmVyO1xubGV0IHJlYWRTdHJlYW1PZmZzZXQgPSAwO1xuXG5sZXQgc3RhcnRGcmFtZSA9IDA7XG5sZXQgZW5kRnJhbWUgPSAwO1xubGV0IGxvb3AgPSB0cnVlO1xubGV0IG1lc3NhZ2U6IFdvcmtlckRhdGFSZXNwb25zZTtcbi8vIGxldCBfZGVjb2Rlck1vZHVsZSA9IGRyYWNvM2QuY3JlYXRlRGVjb2Rlck1vZHVsZSh7fSk7XG5cbi8vIGNvbnN0IGRlY29kZXJNb2R1bGUgPSBkcmFjbzNkLmNyZWF0ZURlY29kZXJNb2R1bGUoe30pO1xuLy8gY29uc29sZS5sb2coJzMxIGRlY29kZXInLCBkZWNvZGVyTW9kdWxlKTtcblxuc2VsZi5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgKGV2ZW50KSA9PiB7XG4gIGNvbnN0IGRhdGEgPSAoPGFueT5ldmVudCkuZGF0YTtcbiAgY29uc29sZS5sb2coZGF0YSk7XG4gIGNvbnN0IHR5cGUgPSAoPGFueT5ldmVudCkuZGF0YS50eXBlO1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlIE1lc3NhZ2VUeXBlLkluaXRpYWxpemF0aW9uUmVxdWVzdDpcbiAgICAgIGluaXRpYWxpemUoZGF0YSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIE1lc3NhZ2VUeXBlLkRhdGFSZXF1ZXN0OlxuICAgICAgZmV0Y2hEYXRhKGV2ZW50LmRhdGEpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBNZXNzYWdlVHlwZS5TZXRMb29wUmVxdWVzdDpcbiAgICAgIGxvb3AgPSBkYXRhLnZhbHVlO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBNZXNzYWdlVHlwZS5TZXRTdGFydEZyYW1lUmVxdWVzdDpcbiAgICAgIHN0YXJ0RnJhbWUgPSBkYXRhLnZhbHVlcy5zdGFydEZyYW1lO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBNZXNzYWdlVHlwZS5TZXRFbmRGcmFtZVJlcXVlc3Q6XG4gICAgICBlbmRGcmFtZSA9IGRhdGEudmFsdWVzLmVuZEZyYW1lO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGNvbnNvbGUuZXJyb3IoZGF0YS5hY3Rpb24gKyAnIHdhcyBub3QgdW5kZXJzdG9vZCBieSB0aGUgd29ya2VyJyk7XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBpbml0aWFsaXplKGRhdGE6IFdvcmtlckluaXRpYWxpemF0aW9uUmVxdWVzdCk6IHZvaWQge1xuICBpZiAoaXNJbml0aWFsaXplZClcbiAgICByZXR1cm4gY29uc29sZS5lcnJvcihcbiAgICAgICdXb3JrZXIgaGFzIGFscmVhZHkgYmVlbiBpbml0aWFsaXplZCBmb3IgZmlsZSAnICsgZGF0YS5maWxlUGF0aFxuICAgICk7XG5cbiAgaXNJbml0aWFsaXplZCA9IHRydWU7XG4gIGZpbGVIZWFkZXIgPSBkYXRhLmZpbGVIZWFkZXI7XG4gIGZpbGVQYXRoID0gZGF0YS5maWxlUGF0aDtcbiAgZW5kRnJhbWUgPSBkYXRhLmVuZEZyYW1lO1xuICBzdGFydEZyYW1lID0gZGF0YS5zdGFydEZyYW1lO1xuICBsb29wID0gZGF0YS5sb29wO1xuICAvLyBDcmVhdGUgcmVhZHN0cmVhbSBzdGFydGluZyBmcm9tIGFmdGVyIHRoZSBmaWxlIGhlYWRlciBhbmQgbG9uZ1xuICAvLyBmaWxlUmVhZFN0cmVhbSA9IG5ldyBSZWFkU3RyZWFtKGZpbGVQYXRoLCB7IHN0YXJ0OiBkYXRhLnJlYWRTdHJlYW1PZmZzZXQgfSk7XG5cbiAgcmVhZFN0cmVhbU9mZnNldCA9IGRhdGEucmVhZFN0cmVhbU9mZnNldDtcblxuICBwb3N0TWVzc2FnZSh7XG4gICAgdHlwZTogTWVzc2FnZVR5cGUuSW5pdGlhbGl6YXRpb25SZXNwb25zZSxcbiAgICBpc0luaXRpYWxpemVkOiBpc0luaXRpYWxpemVkLFxuICB9IGFzIFdvcmtlckluaXRpYWxpemF0aW9uUmVzcG9uc2UpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBmZXRjaERhdGEoZGF0YTogV29ya2VyRGF0YVJlcXVlc3QpOiBQcm9taXNlPHZvaWQ+IHtcbiAgLy8gQ2xlYXIgUmluZyBCdWZmZXJcbiAgcmluZ0J1ZmZlci5jbGVhcigpO1xuICAvLyBNYWtlIGEgbGlzdCBvZiBidWZmZXJzIHRvIHRyYW5zZmVyXG4gIGxldCB0cmFuc2ZlcmFibGVCdWZmZXJzOiBCdWZmZXJbXSA9IFtdO1xuICBsZXQgbGFzdEZyYW1lID0gLTE7XG4gIGxldCBlbmRPZlJhbmdlUmVhY2hlZCA9IGZhbHNlO1xuXG4gIHRlbXBCdWZmZXJPYmplY3QgPSB7XG4gICAgZnJhbWVOdW1iZXI6IDEsXG4gICAgYnVmZmVyR2VvbWV0cnk6IG51bGwsXG4gICAgY29tcHJlc3NlZFRleHR1cmU6IG51bGwsXG4gIH07XG5cbiAgbGV0IGNvdW50ID0gMDtcblxuICAvLyB2YXIgbG9hZGVyID0gbmV3IEZpbGVMb2FkZXIoKTtcbiAgLy8gbG9hZGVyLnNldFJlc3BvbnNlVHlwZSgnYXJyYXlidWZmZXInKTtcbiAgLy8gbG9hZGVyLmxvYWQoXG4gIC8vICAgZmlsZVBhdGgsXG5cbiAgLy8gICBmdW5jdGlvbiAoZGF0YSkge1xuICAvLyAgICAgY29uc3Qgc3RhcnRCeXRlUG9zaXRpb24gPSAxMjk5O1xuICAvLyAgICAgY29uc3QgbWVzaExlbmd0aCA9IDQyODg5MDtcbiAgLy8gICAgIGNvbnNvbGUubG9nKCdoZWxsbycpO1xuICAvLyAgICAgY29uc29sZS5sb2codHlwZW9mIGRhdGEpO1xuICAvLyAgICAgLy8gY29uc3Qgc3RhcnREYXRhID0gQnVmZmVyLmFsbG9jKHN0YXJ0Qnl0ZVBvc2l0aW9uKTtcbiAgLy8gICAgIC8vIEB0cy1pZ25vcmVcbiAgLy8gICAgIC8vIGRhdGEuY29weShzdGFydERhdGEsIDAsIDAsIHN0YXJ0Qnl0ZVBvc2l0aW9uKTtcbiAgLy8gICAgIC8vIGNvbnNvbGUubG9nKCcxMjQnLCBkYXRhLmxlbmd0aCk7XG4gIC8vICAgICAvLyBjb25zb2xlLmxvZygnMTI1JywgZGF0YSk7XG4gIC8vICAgfSxcblxuICAvLyAgIC8vIG9uUHJvZ3Jlc3MgY2FsbGJhY2tcbiAgLy8gICBmdW5jdGlvbiAoeGhyKSB7XG4gIC8vICAgICBjb25zb2xlLmxvZygoeGhyLmxvYWRlZCAvIHhoci50b3RhbCkgKiAxMDAgKyAnJSBsb2FkZWQnKTtcbiAgLy8gICB9LFxuXG4gIC8vICAgLy8gb25FcnJvciBjYWxsYmFja1xuICAvLyAgIGZ1bmN0aW9uIChlcnIpIHtcbiAgLy8gICAgIGNvbnNvbGUuZXJyb3IoJ0FuIGVycm9yIGhhcHBlbmVkJyk7XG4gIC8vICAgfVxuICAvLyApO1xuXG4gIC8vIGZldGNoKCdodHRwOi8vbG9jYWxob3N0OjgwMDAvZHJhY29zaXMtZmlsZScpXG4gIC8vICAgLnRoZW4oKHJlcykgPT4ge1xuICAvLyAgICAgY29uc29sZS5sb2cocmVzLnN0YXR1cyk7XG4gIC8vICAgICBjb25zb2xlLmxvZyhyZXMuc3RhdHVzVGV4dCk7XG4gIC8vICAgICBjb25zb2xlLmxvZyhyZXMuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpKTtcbiAgLy8gICAgIC8vIEB0cy1pZ25vcmVcbiAgLy8gICAgIHJldHVybiByZXMuYnVmZmVyKCk7XG4gIC8vICAgfSlcbiAgLy8gICAudGhlbigoYnVmZmVyKSA9PiB7XG4gIC8vICAgICAvLyBjb25zdCBnZW9tZXRyeVN0cmluZyA9IHRleHQuc3Vic3RyaW5nKHN0YXJ0Qnl0ZVBvc2l0aW9uLCBtZXNoTGVuZ3RoKTtcbiAgLy8gICAgIC8vIGNvbnN0IGJ1ZmZlckdlb20gPSBCdWZmZXIuZnJvbShnZW9tZXRyeVN0cmluZyk7XG4gIC8vICAgICAvLyBjb25zb2xlLmxvZyhoZXhkdW1wKGJ1ZmZlcikpO1xuICAvLyAgICAgY29uc3QgYnVmZmVyR2VvbSA9IEJ1ZmZlci5hbGxvYyhtZXNoTGVuZ3RoKTtcbiAgLy8gICAgIGJ1ZmZlci5jb3B5KGJ1ZmZlckdlb20sIDAsIHN0YXJ0Qnl0ZVBvc2l0aW9uLCBtZXNoTGVuZ3RoKTtcbiAgLy8gICAgIGNvbnN0IGRlY29kZXIgPSBuZXcgZGVjb2Rlck1vZHVsZS5EZWNvZGVyKCk7XG4gIC8vICAgICBjb25zdCBkZWNvZGVkR2VvbWV0cnkgPSBkZWNvZGVEcmFjb0RhdGEoYnVmZmVyR2VvbSk7XG5cbiAgLy8gICAgIGVuY29kZU1lc2hUb0ZpbGUoZGVjb2RlZEdlb21ldHJ5LCBkZWNvZGVyKTtcbiAgLy8gICAgIGRlY29kZXJNb2R1bGUuZGVzdHJveShkZWNvZGVyKTtcbiAgLy8gICAgIGRlY29kZXJNb2R1bGUuZGVzdHJveShkZWNvZGVkR2VvbWV0cnkpO1xuICAvLyAgIH0pO1xuXG4gIC8vIEl0ZXJhdGUgb3ZlciB2YWx1ZXMgaW4gYXNjZW5kaW5nIG9yZGVyLi4uXG4gIGRhdGEuZnJhbWVzVG9GZXRjaC5zb3J0KCkuZm9yRWFjaCgoZnJhbWUpID0+IHtcbiAgICAvLyAgSWYgdGhpcyBmcmFtZSA+IGVuZCBmcmFtZS4uLlxuICAgIC8vIC4uLiB3YXJuIHRoZSBkZXYsIHNpbmNlIHRoaXMgbWlnaHQgYmUgdW5leHBlY3RlZFxuXG4gICAgaWYgKGZyYW1lID4gZW5kRnJhbWUpIHtcbiAgICAgIGNvbnNvbGUud2FybignRnJhbWUgZmV0Y2hlZCBvdXRzaWRlIG9mIGxvb3AgcmFuZ2UnKTtcbiAgICAgIC8vIElmIGxvb3AgaXMgb2ZmLCBmbGFnIGVuZCByZWFjaGVkXG4gICAgICBpZiAoIWxvb3ApIHtcbiAgICAgICAgZW5kT2ZSYW5nZVJlYWNoZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBJZiBsb29wIGlzIG9uLCBtYWtlIHN1cmUgdGhlIGZyYW1lIHJlcXVlc3QgZml0cyB3aXRoaW4gc3RhcnQgYW5kIGVuZCBmcmFtZSByYW5nZVxuICAgICAgZnJhbWUgJT0gZW5kRnJhbWU7XG4gICAgICAvLyBJZiB0aGUgc3RhcnQgZnJhbWUgaXMgbm90IHplcm8sIGFkZCB0byB0aGUgY3VycmVudCBmcmFtZSBudW1iZXJcbiAgICAgIGlmIChmcmFtZSA8IHN0YXJ0RnJhbWUpIGZyYW1lICs9IHN0YXJ0RnJhbWU7XG4gICAgfVxuXG4gICAgY29uc3QgYm9keSA9IHtcbiAgICAgIHN0YXJ0Qnl0ZTpcbiAgICAgICAgcmVhZFN0cmVhbU9mZnNldCArIGZpbGVIZWFkZXIuZnJhbWVEYXRhW2ZyYW1lXS5zdGFydEJ5dGVQb3NpdGlvbixcbiAgICAgIG1lc2hMZW5ndGg6IGZpbGVIZWFkZXIuZnJhbWVEYXRhW2ZyYW1lXS5tZXNoTGVuZ3RoLFxuICAgICAgdGV4dHVyZUxlbmd0aDogZmlsZUhlYWRlci5mcmFtZURhdGFbZnJhbWVdLnRleHR1cmVMZW5ndGgsXG4gICAgfTtcblxuICAgIGNvbnNvbGUubG9nKCdCb2R5JywgYm9keSk7XG5cbiAgICBmZXRjaCgnaHR0cDovL2xvY2FsaG9zdDo4MDAwL2RyYWNvc2lzLXN0cmVhbScsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXMuc3RhdHVzKTtcbiAgICAgICAgY29uc29sZS5sb2cocmVzKTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICByZXR1cm4gcmVzLmFycmF5QnVmZmVyKCk7XG4gICAgICAgIC8vIHJldHVybiByZXMuYnVmZmVyKCk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKGJ1ZmZlcikgPT4ge1xuICAgICAgICAvLyBjb25zdCBnZW9tZXRyeVN0cmluZyA9IHRleHQuc3Vic3RyaW5nKHN0YXJ0Qnl0ZVBvc2l0aW9uLCBtZXNoTGVuZ3RoKTtcbiAgICAgICAgLy8gY29uc3QgYnVmZmVyR2VvbSA9IEJ1ZmZlci5mcm9tKGdlb21ldHJ5U3RyaW5nKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coaGV4ZHVtcChidWZmZXIpKTtcbiAgICAgICAgY29uc29sZS5sb2coJzIwMiBpbnNpZGUgZmV0Y2gnKTtcbiAgICAgICAgY29uc29sZS5sb2coYnVmZmVyLmJ5dGVMZW5ndGgpO1xuXG4gICAgICAgIGNvbnN0IGJ1ZmZlckdlb20gPSBidWZmZXIuc2xpY2UoXG4gICAgICAgICAgMCxcbiAgICAgICAgICBmaWxlSGVhZGVyLmZyYW1lRGF0YVtmcmFtZV0ubWVzaExlbmd0aFxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IGJ1ZmZlclRleCA9IGJ1ZmZlci5zbGljZShcbiAgICAgICAgICBmaWxlSGVhZGVyLmZyYW1lRGF0YVtmcmFtZV0ubWVzaExlbmd0aCxcbiAgICAgICAgICBmaWxlSGVhZGVyLmZyYW1lRGF0YVtmcmFtZV0udGV4dHVyZUxlbmd0aFxuICAgICAgICApO1xuICAgICAgICAvLyBjb25zdCBidWZmZXJHZW9tID0gQnVmZmVyLmFsbG9jKGZpbGVIZWFkZXIuZnJhbWVEYXRhW2ZyYW1lXS5tZXNoTGVuZ3RoKTtcbiAgICAgICAgLy8gY29uc3QgYnVmZmVyVGV4ID0gQnVmZmVyLmFsbG9jKFxuICAgICAgICAvLyAgIGZpbGVIZWFkZXIuZnJhbWVEYXRhW2ZyYW1lXS50ZXh0dXJlTGVuZ3RoXG4gICAgICAgIC8vICk7XG5cbiAgICAgICAgLy8gYnVmZmVyLmNvcHkoYnVmZmVyR2VvbSwgMCwgMCwgZmlsZUhlYWRlci5mcmFtZURhdGFbZnJhbWVdLm1lc2hMZW5ndGgpO1xuICAgICAgICAvLyBidWZmZXIuY29weShidWZmZXJUZXgsIDAsIGZpbGVIZWFkZXIuZnJhbWVEYXRhW2ZyYW1lXS5tZXNoTGVuZ3RoKTtcblxuICAgICAgICB0ZW1wQnVmZmVyT2JqZWN0LmZyYW1lTnVtYmVyID0gZnJhbWU7XG4gICAgICAgIHRlbXBCdWZmZXJPYmplY3QuYnVmZmVyR2VvbWV0cnkgPSBidWZmZXJHZW9tO1xuICAgICAgICB0ZW1wQnVmZmVyT2JqZWN0LmNvbXByZXNzZWRUZXh0dXJlID0gYnVmZmVyVGV4O1xuXG4gICAgICAgIHJpbmdCdWZmZXIuYWRkKHRlbXBCdWZmZXJPYmplY3QpO1xuXG4gICAgICAgIC8vIEFkZCBidWZmZXJzIHRvIHRyYW5zZmVyYWJsZUJ1ZmZlcnNcbiAgICAgICAgdHJhbnNmZXJhYmxlQnVmZmVycy5wdXNoKHRlbXBCdWZmZXJPYmplY3QuYnVmZmVyR2VvbWV0cnkpO1xuICAgICAgICB0cmFuc2ZlcmFibGVCdWZmZXJzLnB1c2godGVtcEJ1ZmZlck9iamVjdC5jb21wcmVzc2VkVGV4dHVyZSk7XG5cbiAgICAgICAgdGVtcEJ1ZmZlck9iamVjdCA9IHtcbiAgICAgICAgICBmcmFtZU51bWJlcjogMCxcbiAgICAgICAgICBidWZmZXJHZW9tZXRyeTogbnVsbCxcbiAgICAgICAgICBjb21wcmVzc2VkVGV4dHVyZTogbnVsbCxcbiAgICAgICAgfTtcblxuICAgICAgICBjb3VudCsrO1xuXG4gICAgICAgIC8vIFNldCB3aGV0aGVyIGVuZCB3YXMgcmVhY2hlZFxuICAgICAgICBpZiAoY291bnQgPT0gcmluZ0J1ZmZlci5nZXRTaXplKCkpIHtcbiAgICAgICAgICAvLyBQb3N0IG1lc3NhZ2VcbiAgICAgICAgICBtZXNzYWdlID0ge1xuICAgICAgICAgICAgdHlwZTogTWVzc2FnZVR5cGUuRGF0YVJlc3BvbnNlLFxuICAgICAgICAgICAgYnVmZmVyczogcmluZ0J1ZmZlci50b0FycmF5KCksXG4gICAgICAgICAgICBlbmRSZWFjaGVkOiBlbmRPZlJhbmdlUmVhY2hlZCxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdSaW5nQnVmZmVyJywgcmluZ0J1ZmZlcik7XG4gICAgICAgICAgLy8gcG9zdE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICAgICAgcG9zdE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgLy8gYXhpb3NcbiAgICAvLyAgIC5wb3N0KCdodHRwOi8vbG9jYWxob3N0OjgwMDAvZHJhY29zaXMtc3RyZWFtJywge1xuICAgIC8vICAgICBzdGFydEJ5dGU6XG4gICAgLy8gICAgICAgcmVhZFN0cmVhbU9mZnNldCArIGZpbGVIZWFkZXIuZnJhbWVEYXRhW2ZyYW1lXS5zdGFydEJ5dGVQb3NpdGlvbixcbiAgICAvLyAgICAgbWVzaExlbmd0aDogZmlsZUhlYWRlci5mcmFtZURhdGFbZnJhbWVdLm1lc2hMZW5ndGgsXG4gICAgLy8gICAgIHRleHR1cmVMZW5ndGg6IGZpbGVIZWFkZXIuZnJhbWVEYXRhW2ZyYW1lXS50ZXh0dXJlTGVuZ3RoLFxuICAgIC8vICAgfSlcbiAgICAvLyAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgIC8vICAgICAvLyBJZiB3ZSdyZSBub3QgcmVhZGluZyBmcm9tIHRoZSBwb3NpdGlvbiBvZiB0aGUgbGFzdCBmcmFtZSwgc2VlayB0byBzdGFydCBmcmFtZVxuICAgIC8vICAgICBpZiAoIShmcmFtZSA9PSBsYXN0RnJhbWUgKyAxICYmIGZyYW1lICE9IHN0YXJ0RnJhbWUpKSB7XG4gICAgLy8gICAgICAgLy8gR2V0IGZyYW1lIHN0YXJ0IGJ5dGUgcG9zZVxuICAgIC8vICAgICAgIC8vIGZpbGVSZWFkU3RyZWFtLnNlZWsoZmlsZUhlYWRlci5mcmFtZURhdGFbZnJhbWVdLnN0YXJ0Qnl0ZVBvc2l0aW9uKTtcbiAgICAvLyAgICAgfVxuXG4gICAgLy8gICAgIGNvbnN0IGJ1ZmZlckdlb20gPSBCdWZmZXIuYWxsb2MoZmlsZUhlYWRlci5mcmFtZURhdGFbZnJhbWVdLm1lc2hMZW5ndGgpO1xuICAgIC8vICAgICBjb25zdCBidWZmZXJUZXggPSBCdWZmZXIuYWxsb2MoXG4gICAgLy8gICAgICAgZmlsZUhlYWRlci5mcmFtZURhdGFbZnJhbWVdLnRleHR1cmVMZW5ndGhcbiAgICAvLyAgICAgKTtcblxuICAgIC8vICAgICBjb25zdCBidWZmZXIgPSBCdWZmZXIuZnJvbSg8YW55PnJlc3BvbnNlLmRhdGEpO1xuICAgIC8vICAgICBidWZmZXIuY29weShidWZmZXJHZW9tLCAwLCAwLCBmaWxlSGVhZGVyLmZyYW1lRGF0YVtmcmFtZV0ubWVzaExlbmd0aCk7XG4gICAgLy8gICAgIGJ1ZmZlci5jb3B5KGJ1ZmZlclRleCwgMCwgZmlsZUhlYWRlci5mcmFtZURhdGFbZnJhbWVdLm1lc2hMZW5ndGgpO1xuXG4gICAgLy8gICAgIGNvbnNvbGUubG9nKCdCdWZmZXIgR2VvbXRlcnknLCBidWZmZXJHZW9tKTtcblxuICAgIC8vICAgICAvLyBidWZmZXJUZXgud3JpdGUoPGFueT5yZXNwb25zZS5kYXRhLCBmaWxlSGVhZGVyLmZyYW1lRGF0YVtmcmFtZV0ubWVzaExlbmd0aCwgKVxuXG4gICAgLy8gICAgIC8vIHRlbGwgdGhlIHN0cmVhbSByZWFkZXIgdG8gcmVhZCBvdXQgdGhlIG5leHQgYnl0ZXMuLlxuICAgIC8vICAgICAvLyBTZXQgdGVtcCBidWZmZXIgb2JqZWN0IGZyYW1lIG51bWJlclxuICAgIC8vICAgICB0ZW1wQnVmZmVyT2JqZWN0LmZyYW1lTnVtYmVyID0gZnJhbWU7XG5cbiAgICAvLyAgICAgLy8gVGhlbiBtZXNoXG4gICAgLy8gICAgIC8vIHRlbXBCdWZmZXJPYmplY3QuYnVmZmVyR2VvbWV0cnkgPSBmaWxlUmVhZFN0cmVhbS5yZWFkKFxuICAgIC8vICAgICAvLyAgIGZpbGVIZWFkZXIuZnJhbWVEYXRhW2ZyYW1lXS5tZXNoTGVuZ3RoXG4gICAgLy8gICAgIC8vICk7XG4gICAgLy8gICAgIHRlbXBCdWZmZXJPYmplY3QuYnVmZmVyR2VvbWV0cnkgPSBidWZmZXJHZW9tO1xuXG4gICAgLy8gICAgIC8vIFRoZW4gdGV4dHVyZVxuICAgIC8vICAgICAvLyB0ZW1wQnVmZmVyT2JqZWN0LmNvbXByZXNzZWRUZXh0dXJlID0gZmlsZVJlYWRTdHJlYW0ucmVhZChcbiAgICAvLyAgICAgLy8gICBmaWxlSGVhZGVyLmZyYW1lRGF0YVtmcmFtZV0udGV4dHVyZUxlbmd0aFxuICAgIC8vICAgICAvLyApO1xuICAgIC8vICAgICB0ZW1wQnVmZmVyT2JqZWN0LmNvbXByZXNzZWRUZXh0dXJlID0gYnVmZmVyVGV4O1xuXG4gICAgLy8gICAgIC8vIEFkZCBpdCB0byB0aGUgcmluZyBidWZmZXJcbiAgICAvLyAgICAgcmluZ0J1ZmZlci5hZGQodGVtcEJ1ZmZlck9iamVjdCk7XG5cbiAgICAvLyAgICAgLy8gQWRkIGJ1ZmZlcnMgdG8gdHJhbnNmZXJhYmxlQnVmZmVyc1xuICAgIC8vICAgICB0cmFuc2ZlcmFibGVCdWZmZXJzLnB1c2godGVtcEJ1ZmZlck9iamVjdC5idWZmZXJHZW9tZXRyeSk7XG4gICAgLy8gICAgIHRyYW5zZmVyYWJsZUJ1ZmZlcnMucHVzaCh0ZW1wQnVmZmVyT2JqZWN0LmNvbXByZXNzZWRUZXh0dXJlKTtcblxuICAgIC8vICAgICB0ZW1wQnVmZmVyT2JqZWN0ID0ge1xuICAgIC8vICAgICAgIGZyYW1lTnVtYmVyOiAwLFxuICAgIC8vICAgICAgIGJ1ZmZlckdlb21ldHJ5OiBudWxsLFxuICAgIC8vICAgICAgIGNvbXByZXNzZWRUZXh0dXJlOiBudWxsLFxuICAgIC8vICAgICB9O1xuXG4gICAgLy8gICAgIGNvdW50Kys7XG5cbiAgICAvLyAgICAgLy8gU2V0IHdoZXRoZXIgZW5kIHdhcyByZWFjaGVkXG4gICAgLy8gICAgIGlmIChjb3VudCA9PSByaW5nQnVmZmVyLmdldFNpemUoKSkge1xuICAgIC8vICAgICAgIC8vIFBvc3QgbWVzc2FnZVxuICAgIC8vICAgICAgIG1lc3NhZ2UgPSB7XG4gICAgLy8gICAgICAgICB0eXBlOiBNZXNzYWdlVHlwZS5EYXRhUmVzcG9uc2UsXG4gICAgLy8gICAgICAgICBidWZmZXJzOiByaW5nQnVmZmVyLnRvQXJyYXkoKSxcbiAgICAvLyAgICAgICAgIGVuZFJlYWNoZWQ6IGVuZE9mUmFuZ2VSZWFjaGVkLFxuICAgIC8vICAgICAgIH07XG4gICAgLy8gICAgICAgY29uc29sZS5sb2coJ1JpbmdCdWZmZXInLCByaW5nQnVmZmVyKTtcbiAgICAvLyAgICAgICAvLyBwb3N0TWVzc2FnZShtZXNzYWdlKTtcbiAgICAvLyAgICAgICBwb3N0TWVzc2FnZShtZXNzYWdlKTtcbiAgICAvLyAgICAgfVxuICAgIC8vICAgfSk7XG4gICAgLy8gU2V0IHRoZSBsYXN0IGZyYW1lXG4gICAgbGFzdEZyYW1lID0gZnJhbWU7XG4gIH0pO1xufVxuIl0sIm1hcHBpbmdzIjoiOztBQVVBO0FBQ0E7QUFJQTtBQWVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/index.ts\n");

/***/ })

/******/ });