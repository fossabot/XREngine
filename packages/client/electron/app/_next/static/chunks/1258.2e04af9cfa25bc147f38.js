(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1258],{29350:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},68373:function(e){e.exports=function(e){if(Array.isArray(e))return e}},95391:function(e,t,n){var r=n(29350);e.exports=function(e){if(Array.isArray(e))return r(e)}},4884:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},2619:function(e,t,n){var r=n(28379);e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}},53218:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},71532:function(e){e.exports=function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}},99736:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},88378:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},28379:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(n,r)}e.exports=t},4600:function(e,t,n){var r=n(68373),o=n(71532),i=n(37519),a=n(99736);e.exports=function(e,t){return r(e)||o(e,t)||i(e,t)||a()}},26885:function(e){e.exports=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}},20770:function(e,t,n){var r=n(95391),o=n(53218),i=n(37519),a=n(88378);e.exports=function(e){return r(e)||o(e)||i(e)||a()}},86698:function(e){function t(n){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=t=function(e){return typeof e}:e.exports=t=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(n)}e.exports=t},37519:function(e,t,n){var r=n(29350);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},64432:function(e,t,n){"use strict";var r=n(87400),o=n(68625),i=n(27878),a=n(10101),s=n(31451),c=n(27674),l=i.forwardRef((function(e,t){var n=e.children,s=e.classes,l=e.className,u=e.invisible,f=void 0!==u&&u,d=e.open,h=e.transitionDuration,p=e.TransitionComponent,v=void 0===p?c.Z:p,m=(0,o.Z)(e,["children","classes","className","invisible","open","transitionDuration","TransitionComponent"]);return i.createElement(v,(0,r.Z)({in:d,timeout:h},m),i.createElement("div",{className:(0,a.Z)(s.root,l,f&&s.invisible),"aria-hidden":!0,ref:t},n))}));t.Z=(0,s.Z)({root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},{name:"MuiBackdrop"})(l)},27674:function(e,t,n){"use strict";var r=n(87400),o=n(42380),i=n(68625),a=n(27878),s=n(96840),c=n(37530),l=n(19858),u=n(22078),f=n(93467),d={entering:{opacity:1},entered:{opacity:1}},h={enter:c.x9.enteringScreen,exit:c.x9.leavingScreen},p=a.forwardRef((function(e,t){var n=e.children,c=e.disableStrictModeCompat,p=void 0!==c&&c,v=e.in,m=e.onEnter,g=e.onEntered,y=e.onEntering,b=e.onExit,w=e.onExited,x=e.onExiting,S=e.style,C=e.TransitionComponent,k=void 0===C?s.ZP:C,O=e.timeout,P=void 0===O?h:O,M=(0,i.Z)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),R=(0,l.Z)(),E=R.unstable_strictMode&&!p,Z=a.useRef(null),j=(0,f.Z)(n.ref,t),D=(0,f.Z)(E?Z:void 0,j),T=function(e){return function(t,n){if(e){var r=E?[Z.current,t]:[t,n],i=(0,o.Z)(r,2),a=i[0],s=i[1];void 0===s?e(a):e(a,s)}}},A=T(y),_=T((function(e,t){(0,u.n)(e);var n=(0,u.C)({style:S,timeout:P},{mode:"enter"});e.style.webkitTransition=R.transitions.create("opacity",n),e.style.transition=R.transitions.create("opacity",n),m&&m(e,t)})),I=T(g),N=T(x),L=T((function(e){var t=(0,u.C)({style:S,timeout:P},{mode:"exit"});e.style.webkitTransition=R.transitions.create("opacity",t),e.style.transition=R.transitions.create("opacity",t),b&&b(e)})),z=T(w);return a.createElement(k,(0,r.Z)({appear:!0,in:v,nodeRef:E?Z:void 0,onEnter:_,onEntered:I,onEntering:A,onExit:L,onExited:z,onExiting:N,timeout:P},M),(function(e,t){return a.cloneElement(n,(0,r.Z)({style:(0,r.Z)({opacity:0,visibility:"exited"!==e||v?void 0:"hidden"},d[e],S,n.props.style),ref:D},t))}))}));t.Z=p},17144:function(e,t,n){"use strict";var r=n(87400),o=n(68625),i=n(27878),a=n(10101),s=n(2993),c=n(31451),l=n(66226),u=n(81879),f=i.forwardRef((function(e,t){e.checked;var n=e.classes,c=e.className,f=e.control,d=e.disabled,h=(e.inputRef,e.label),p=e.labelPlacement,v=void 0===p?"end":p,m=(e.name,e.onChange,e.value,(0,o.Z)(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"])),g=(0,s.Z)(),y=d;"undefined"===typeof y&&"undefined"!==typeof f.props.disabled&&(y=f.props.disabled),"undefined"===typeof y&&g&&(y=g.disabled);var b={disabled:y};return["checked","name","onChange","value","inputRef"].forEach((function(t){"undefined"===typeof f.props[t]&&"undefined"!==typeof e[t]&&(b[t]=e[t])})),i.createElement("label",(0,r.Z)({className:(0,a.Z)(n.root,c,"end"!==v&&n["labelPlacement".concat((0,u.Z)(v))],y&&n.disabled),ref:t},m),i.cloneElement(f,b),i.createElement(l.Z,{component:"span",className:(0,a.Z)(n.label,y&&n.disabled)},h))}));t.Z=(0,c.Z)((function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}}),{name:"MuiFormControlLabel"})(f)},49348:function(e,t,n){"use strict";var r=n(87400),o=n(68625),i=n(27878),a=n(10101),s=n(31451),c=n(23868),l=n(6930),u=n(81879),f=i.forwardRef((function(e,t){var n=e.edge,s=void 0!==n&&n,c=e.children,f=e.classes,d=e.className,h=e.color,p=void 0===h?"default":h,v=e.disabled,m=void 0!==v&&v,g=e.disableFocusRipple,y=void 0!==g&&g,b=e.size,w=void 0===b?"medium":b,x=(0,o.Z)(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return i.createElement(l.Z,(0,r.Z)({className:(0,a.Z)(f.root,d,"default"!==p&&f["color".concat((0,u.Z)(p))],m&&f.disabled,"small"===w&&f["size".concat((0,u.Z)(w))],{start:f.edgeStart,end:f.edgeEnd}[s]),centerRipple:!0,focusRipple:!y,disabled:m,ref:t},x),i.createElement("span",{className:f.label},c))}));t.Z=(0,s.Z)((function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:(0,c.U1)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,c.U1)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,c.U1)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(f)},39627:function(e,t,n){"use strict";var r=n(87400),o=n(68625),i=n(27878),a=n(10101),s=n(31451),c=n(6930),l=n(70423),u=n(93467),f=n(25677),d=n(9531),h="undefined"===typeof window?i.useEffect:i.useLayoutEffect,p=i.forwardRef((function(e,t){var n=e.alignItems,s=void 0===n?"center":n,p=e.autoFocus,v=void 0!==p&&p,m=e.button,g=void 0!==m&&m,y=e.children,b=e.classes,w=e.className,x=e.component,S=e.ContainerComponent,C=void 0===S?"li":S,k=e.ContainerProps,O=(k=void 0===k?{}:k).className,P=(0,o.Z)(k,["className"]),M=e.dense,R=void 0!==M&&M,E=e.disabled,Z=void 0!==E&&E,j=e.disableGutters,D=void 0!==j&&j,T=e.divider,A=void 0!==T&&T,_=e.focusVisibleClassName,I=e.selected,N=void 0!==I&&I,L=(0,o.Z)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),z=i.useContext(f.Z),F={dense:R||z.dense||!1,alignItems:s},U=i.useRef(null);h((function(){v&&U.current&&U.current.focus()}),[v]);var V=i.Children.toArray(y),B=V.length&&(0,l.Z)(V[V.length-1],["ListItemSecondaryAction"]),H=i.useCallback((function(e){U.current=d.findDOMNode(e)}),[]),W=(0,u.Z)(H,t),G=(0,r.Z)({className:(0,a.Z)(b.root,w,F.dense&&b.dense,!D&&b.gutters,A&&b.divider,Z&&b.disabled,g&&b.button,"center"!==s&&b.alignItemsFlexStart,B&&b.secondaryAction,N&&b.selected),disabled:Z},L),q=x||"li";return g&&(G.component=x||"div",G.focusVisibleClassName=(0,a.Z)(b.focusVisible,_),q=c.Z),B?(q=G.component||x?q:"div","li"===C&&("li"===q?q="div":"li"===G.component&&(G.component="div")),i.createElement(f.Z.Provider,{value:F},i.createElement(C,(0,r.Z)({className:(0,a.Z)(b.container,O),ref:W},P),i.createElement(q,G,V),V.pop()))):i.createElement(f.Z.Provider,{value:F},i.createElement(q,(0,r.Z)({ref:W},G),V))}));t.Z=(0,s.Z)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(p)},59838:function(e,t,n){"use strict";var r=n(68625),o=n(26395),i=n(87400),a=n(27878),s=n(10101),c=n(31451),l=n(39627),u=a.forwardRef((function(e,t){var n,o=e.classes,c=e.className,u=e.component,f=void 0===u?"li":u,d=e.disableGutters,h=void 0!==d&&d,p=e.ListItemClasses,v=e.role,m=void 0===v?"menuitem":v,g=e.selected,y=e.tabIndex,b=(0,r.Z)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(n=void 0!==y?y:-1),a.createElement(l.Z,(0,i.Z)({button:!0,role:m,tabIndex:n,component:f,selected:g,disableGutters:h,classes:(0,i.Z)({dense:o.dense},p),className:(0,s.Z)(o.root,c,g&&o.selected,!h&&o.gutters),ref:t},b))}));t.Z=(0,c.Z)((function(e){return{root:(0,i.Z)({},e.typography.body1,(0,o.Z)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:(0,i.Z)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(u)},70607:function(e,t,n){"use strict";var r=n(87400),o=n(42380),i=n(68625),a=n(27878),s=n(10101),c=n(39051),l=n(2993),u=n(31451),f=n(49348),d=a.forwardRef((function(e,t){var n=e.autoFocus,u=e.checked,d=e.checkedIcon,h=e.classes,p=e.className,v=e.defaultChecked,m=e.disabled,g=e.icon,y=e.id,b=e.inputProps,w=e.inputRef,x=e.name,S=e.onBlur,C=e.onChange,k=e.onFocus,O=e.readOnly,P=e.required,M=e.tabIndex,R=e.type,E=e.value,Z=(0,i.Z)(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),j=(0,c.Z)({controlled:u,default:Boolean(v),name:"SwitchBase",state:"checked"}),D=(0,o.Z)(j,2),T=D[0],A=D[1],_=(0,l.Z)(),I=m;_&&"undefined"===typeof I&&(I=_.disabled);var N="checkbox"===R||"radio"===R;return a.createElement(f.Z,(0,r.Z)({component:"span",className:(0,s.Z)(h.root,p,T&&h.checked,I&&h.disabled),disabled:I,tabIndex:null,role:void 0,onFocus:function(e){k&&k(e),_&&_.onFocus&&_.onFocus(e)},onBlur:function(e){S&&S(e),_&&_.onBlur&&_.onBlur(e)},ref:t},Z),a.createElement("input",(0,r.Z)({autoFocus:n,checked:u,defaultChecked:v,className:h.input,disabled:I,id:N&&y,name:x,onChange:function(e){var t=e.target.checked;A(t),C&&C(e,t)},readOnly:O,ref:w,required:P,tabIndex:M,type:R,value:E},b)),T?d:g)}));t.Z=(0,u.Z)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},{name:"PrivateSwitchBase"})(d)},90858:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)&&n.length){var a=o.apply(null,n);a&&e.push(a)}else if("object"===i)for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},75138:function(e,t,n){var r;!function(){"use strict";var o=!("undefined"===typeof window||!window.document||!window.document.createElement),i={canUseDOM:o,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:o&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:o&&!!window.screen};void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}()},36633:function(e,t,n){var r=n(38416)(n(61680),"DataView");e.exports=r},223:function(e,t,n){var r=n(39652),o=n(86218),i=n(90614),a=n(78190),s=n(93233);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},13650:function(e,t,n){var r=n(2390),o=n(99151),i=n(68572),a=n(9576),s=n(27714);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},41507:function(e,t,n){var r=n(38416)(n(61680),"Map");e.exports=r},89392:function(e,t,n){var r=n(46344),o=n(44594),i=n(99582),a=n(82193),s=n(5472);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},26642:function(e,t,n){var r=n(38416)(n(61680),"Promise");e.exports=r},14469:function(e,t,n){var r=n(38416)(n(61680),"Set");e.exports=r},83625:function(e,t,n){var r=n(89392),o=n(34590),i=n(16595);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},49055:function(e,t,n){var r=n(13650),o=n(72126),i=n(41584),a=n(58055),s=n(41817),c=n(21480);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=o,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=s,l.prototype.set=c,e.exports=l},53393:function(e,t,n){var r=n(61680).Symbol;e.exports=r},82972:function(e,t,n){var r=n(61680).Uint8Array;e.exports=r},61830:function(e,t,n){var r=n(38416)(n(61680),"WeakMap");e.exports=r},66605:function(e){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},17665:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},30244:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},92114:function(e,t,n){var r=n(50775),o=n(27101),i=n(25311),a=n(55693),s=n(7501),c=n(86145),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),u=!n&&o(e),f=!n&&!u&&a(e),d=!n&&!u&&!f&&c(e),h=n||u||f||d,p=h?r(e.length,String):[],v=p.length;for(var m in e)!t&&!l.call(e,m)||h&&("length"==m||f&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,v))||p.push(m);return p}},22517:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},7585:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},71225:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},95405:function(e,t,n){var r=n(94234),o=n(76171);e.exports=function(e,t,n){(void 0!==n&&!o(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},94472:function(e,t,n){var r=n(94234),o=n(76171),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},37704:function(e,t,n){var r=n(76171);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},95149:function(e,t,n){var r=n(76559),o=n(78722);e.exports=function(e,t){return e&&r(t,o(t),e)}},35457:function(e,t,n){var r=n(76559),o=n(24560);e.exports=function(e,t){return e&&r(t,o(t),e)}},94234:function(e,t,n){var r=n(19965);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},43216:function(e,t,n){var r=n(49055),o=n(17665),i=n(94472),a=n(95149),s=n(35457),c=n(61019),l=n(56765),u=n(40657),f=n(38388),d=n(68059),h=n(87563),p=n(83942),v=n(55850),m=n(82149),g=n(67601),y=n(25311),b=n(55693),w=n(86050),x=n(25772),S=n(52104),C=n(78722),k=n(24560),O="[object Arguments]",P="[object Function]",M="[object Object]",R={};R[O]=R["[object Array]"]=R["[object ArrayBuffer]"]=R["[object DataView]"]=R["[object Boolean]"]=R["[object Date]"]=R["[object Float32Array]"]=R["[object Float64Array]"]=R["[object Int8Array]"]=R["[object Int16Array]"]=R["[object Int32Array]"]=R["[object Map]"]=R["[object Number]"]=R[M]=R["[object RegExp]"]=R["[object Set]"]=R["[object String]"]=R["[object Symbol]"]=R["[object Uint8Array]"]=R["[object Uint8ClampedArray]"]=R["[object Uint16Array]"]=R["[object Uint32Array]"]=!0,R["[object Error]"]=R[P]=R["[object WeakMap]"]=!1,e.exports=function e(t,n,E,Z,j,D){var T,A=1&n,_=2&n,I=4&n;if(E&&(T=j?E(t,Z,j,D):E(t)),void 0!==T)return T;if(!x(t))return t;var N=y(t);if(N){if(T=v(t),!A)return l(t,T)}else{var L=p(t),z=L==P||"[object GeneratorFunction]"==L;if(b(t))return c(t,A);if(L==M||L==O||z&&!j){if(T=_||z?{}:g(t),!A)return _?f(t,s(T,t)):u(t,a(T,t))}else{if(!R[L])return j?t:{};T=m(t,L,A)}}D||(D=new r);var F=D.get(t);if(F)return F;D.set(t,T),S(t)?t.forEach((function(r){T.add(e(r,n,E,r,t,D))})):w(t)&&t.forEach((function(r,o){T.set(o,e(r,n,E,o,t,D))}));var U=N?void 0:(I?_?h:d:_?k:C)(t);return o(U||t,(function(r,o){U&&(r=t[o=r]),i(T,o,e(r,n,E,o,t,D))})),T}},640:function(e,t,n){var r=n(25772),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},39759:function(e,t,n){var r=n(27572),o=n(8028)(r);e.exports=o},48706:function(e,t,n){var r=n(17610)();e.exports=r},27572:function(e,t,n){var r=n(48706),o=n(78722);e.exports=function(e,t){return e&&r(e,t,o)}},50118:function(e,t,n){var r=n(65204),o=n(23870);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},17531:function(e,t,n){var r=n(7585),o=n(25311);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},38240:function(e,t,n){var r=n(53393),o=n(60198),i=n(84573),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},32024:function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},12218:function(e,t,n){var r=n(38240),o=n(19004);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},33292:function(e,t,n){var r=n(1054),o=n(19004);e.exports=function e(t,n,i,a,s){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!==t&&n!==n:r(t,n,i,a,e,s))}},1054:function(e,t,n){var r=n(49055),o=n(28896),i=n(39690),a=n(13123),s=n(83942),c=n(25311),l=n(55693),u=n(86145),f="[object Arguments]",d="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,m,g){var y=c(e),b=c(t),w=y?d:s(e),x=b?d:s(t),S=(w=w==f?h:w)==h,C=(x=x==f?h:x)==h,k=w==x;if(k&&l(e)){if(!l(t))return!1;y=!0,S=!1}if(k&&!S)return g||(g=new r),y||u(e)?o(e,t,n,v,m,g):i(e,t,w,n,v,m,g);if(!(1&n)){var O=S&&p.call(e,"__wrapped__"),P=C&&p.call(t,"__wrapped__");if(O||P){var M=O?e.value():e,R=P?t.value():t;return g||(g=new r),m(M,R,n,v,g)}}return!!k&&(g||(g=new r),a(e,t,n,v,m,g))}},1051:function(e,t,n){var r=n(83942),o=n(19004);e.exports=function(e){return o(e)&&"[object Map]"==r(e)}},79326:function(e,t,n){var r=n(49055),o=n(33292);e.exports=function(e,t,n,i){var a=n.length,s=a,c=!i;if(null==e)return!s;for(e=Object(e);a--;){var l=n[a];if(c&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){var u=(l=n[a])[0],f=e[u],d=l[1];if(c&&l[2]){if(void 0===f&&!(u in e))return!1}else{var h=new r;if(i)var p=i(f,d,u,e,t,h);if(!(void 0===p?o(d,f,3,i,h):p))return!1}}return!0}},35286:function(e,t,n){var r=n(54802),o=n(47125),i=n(25772),a=n(81803),s=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,f=l.hasOwnProperty,d=RegExp("^"+u.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?d:s).test(a(e))}},68024:function(e,t,n){var r=n(83942),o=n(19004);e.exports=function(e){return o(e)&&"[object Set]"==r(e)}},28760:function(e,t,n){var r=n(38240),o=n(63564),i=n(19004),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},41314:function(e,t,n){var r=n(52770),o=n(11810),i=n(108),a=n(25311),s=n(44761);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?o(e[0],e[1]):r(e):s(e)}},69116:function(e,t,n){var r=n(15395),o=n(70733),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},20617:function(e,t,n){var r=n(25772),o=n(15395),i=n(35545),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=o(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},32039:function(e,t,n){var r=n(39759),o=n(49684);e.exports=function(e,t){var n=-1,i=o(e)?Array(e.length):[];return r(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}},52770:function(e,t,n){var r=n(79326),o=n(82606),i=n(2776);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},11810:function(e,t,n){var r=n(33292),o=n(53151),i=n(10766),a=n(3462),s=n(77890),c=n(2776),l=n(23870);e.exports=function(e,t){return a(e)&&s(t)?c(l(e),t):function(n){var a=o(n,e);return void 0===a&&a===t?i(n,e):r(t,a,3)}}},77182:function(e,t,n){var r=n(49055),o=n(95405),i=n(48706),a=n(4296),s=n(25772),c=n(24560),l=n(69562);e.exports=function e(t,n,u,f,d){t!==n&&i(n,(function(i,c){if(d||(d=new r),s(i))a(t,n,c,u,e,f,d);else{var h=f?f(l(t,c),i,c+"",t,n,d):void 0;void 0===h&&(h=i),o(t,c,h)}}),c)}},4296:function(e,t,n){var r=n(95405),o=n(61019),i=n(53556),a=n(56765),s=n(67601),c=n(27101),l=n(25311),u=n(91007),f=n(55693),d=n(54802),h=n(25772),p=n(44362),v=n(86145),m=n(69562),g=n(5668);e.exports=function(e,t,n,y,b,w,x){var S=m(e,n),C=m(t,n),k=x.get(C);if(k)r(e,n,k);else{var O=w?w(S,C,n+"",e,t,x):void 0,P=void 0===O;if(P){var M=l(C),R=!M&&f(C),E=!M&&!R&&v(C);O=C,M||R||E?l(S)?O=S:u(S)?O=a(S):R?(P=!1,O=o(C,!0)):E?(P=!1,O=i(C,!0)):O=[]:p(C)||c(C)?(O=S,c(S)?O=g(S):h(S)&&!d(S)||(O=s(C))):P=!1}P&&(x.set(C,O),b(O,C,y,w,x),x.delete(C)),r(e,n,O)}}},84271:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},90466:function(e,t,n){var r=n(50118);e.exports=function(e){return function(t){return r(t,e)}}},91190:function(e,t,n){var r=n(108),o=n(52530),i=n(4388);e.exports=function(e,t){return i(o(e,t,r),e+"")}},7693:function(e,t,n){var r=n(3106),o=n(19965),i=n(108),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=a},50775:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},3105:function(e,t,n){var r=n(53393),o=n(22517),i=n(25311),a=n(94548),s=r?r.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},94165:function(e){e.exports=function(e){return function(t){return e(t)}}},19057:function(e){e.exports=function(e,t){return e.has(t)}},41298:function(e,t,n){var r=n(108);e.exports=function(e){return"function"==typeof e?e:r}},65204:function(e,t,n){var r=n(25311),o=n(3462),i=n(50169),a=n(63264);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},2265:function(e,t,n){var r=n(82972);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},61019:function(e,t,n){e=n.nmd(e);var r=n(61680),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},10764:function(e,t,n){var r=n(2265);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},30921:function(e){var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},19443:function(e,t,n){var r=n(53393),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},53556:function(e,t,n){var r=n(2265);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},56765:function(e){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},76559:function(e,t,n){var r=n(94472),o=n(94234);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var l=t[s],u=i?i(n[l],e[l],l,n,e):void 0;void 0===u&&(u=e[l]),a?o(n,l,u):r(n,l,u)}return n}},40657:function(e,t,n){var r=n(76559),o=n(56342);e.exports=function(e,t){return r(e,o(e),t)}},38388:function(e,t,n){var r=n(76559),o=n(30843);e.exports=function(e,t){return r(e,o(e),t)}},5707:function(e,t,n){var r=n(61680)["__core-js_shared__"];e.exports=r},13442:function(e,t,n){var r=n(91190),o=n(88827);e.exports=function(e){return r((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var c=n[r];c&&e(t,c,r,a)}return t}))}},8028:function(e,t,n){var r=n(49684);e.exports=function(e,t){return function(n,o){if(null==n)return n;if(!r(n))return e(n,o);for(var i=n.length,a=t?i:-1,s=Object(n);(t?a--:++a<i)&&!1!==o(s[a],a,s););return n}}},17610:function(e){e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var c=a[e?s:++o];if(!1===n(i[c],c,i))break}return t}}},19965:function(e,t,n){var r=n(38416),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=o},28896:function(e,t,n){var r=n(83625),o=n(71225),i=n(19057);e.exports=function(e,t,n,a,s,c){var l=1&n,u=e.length,f=t.length;if(u!=f&&!(l&&f>u))return!1;var d=c.get(e),h=c.get(t);if(d&&h)return d==t&&h==e;var p=-1,v=!0,m=2&n?new r:void 0;for(c.set(e,t),c.set(t,e);++p<u;){var g=e[p],y=t[p];if(a)var b=l?a(y,g,p,t,e,c):a(g,y,p,e,t,c);if(void 0!==b){if(b)continue;v=!1;break}if(m){if(!o(t,(function(e,t){if(!i(m,t)&&(g===e||s(g,e,n,a,c)))return m.push(t)}))){v=!1;break}}else if(g!==y&&!s(g,y,n,a,c)){v=!1;break}}return c.delete(e),c.delete(t),v}},39690:function(e,t,n){var r=n(53393),o=n(82972),i=n(76171),a=n(28896),s=n(53963),c=n(66911),l=r?r.prototype:void 0,u=l?l.valueOf:void 0;e.exports=function(e,t,n,r,l,f,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var p=1&r;if(h||(h=c),e.size!=t.size&&!p)return!1;var v=d.get(e);if(v)return v==t;r|=2,d.set(e,t);var m=a(h(e),h(t),r,l,f,d);return d.delete(e),m;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},13123:function(e,t,n){var r=n(68059),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,a,s){var c=1&n,l=r(e),u=l.length;if(u!=r(t).length&&!c)return!1;for(var f=u;f--;){var d=l[f];if(!(c?d in t:o.call(t,d)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var v=!0;s.set(e,t),s.set(t,e);for(var m=c;++f<u;){var g=e[d=l[f]],y=t[d];if(i)var b=c?i(y,g,d,t,e,s):i(g,y,d,e,t,s);if(!(void 0===b?g===y||a(g,y,n,i,s):b)){v=!1;break}m||(m="constructor"==d)}if(v&&!m){var w=e.constructor,x=t.constructor;w==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(v=!1)}return s.delete(e),s.delete(t),v}},20688:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},68059:function(e,t,n){var r=n(17531),o=n(56342),i=n(78722);e.exports=function(e){return r(e,i,o)}},87563:function(e,t,n){var r=n(17531),o=n(30843),i=n(24560);e.exports=function(e){return r(e,i,o)}},25937:function(e,t,n){var r=n(33182);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},82606:function(e,t,n){var r=n(77890),o=n(78722);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,r(a)]}return t}},38416:function(e,t,n){var r=n(35286),o=n(69383);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},28635:function(e,t,n){var r=n(60342)(Object.getPrototypeOf,Object);e.exports=r},60198:function(e,t,n){var r=n(53393),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(c){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},56342:function(e,t,n){var r=n(30244),o=n(22405),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return i.call(e,t)})))}:o;e.exports=s},30843:function(e,t,n){var r=n(7585),o=n(28635),i=n(56342),a=n(22405),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=o(e);return t}:a;e.exports=s},83942:function(e,t,n){var r=n(36633),o=n(41507),i=n(26642),a=n(14469),s=n(61830),c=n(38240),l=n(81803),u="[object Map]",f="[object Promise]",d="[object Set]",h="[object WeakMap]",p="[object DataView]",v=l(r),m=l(o),g=l(i),y=l(a),b=l(s),w=c;(r&&w(new r(new ArrayBuffer(1)))!=p||o&&w(new o)!=u||i&&w(i.resolve())!=f||a&&w(new a)!=d||s&&w(new s)!=h)&&(w=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case v:return p;case m:return u;case g:return f;case y:return d;case b:return h}return t}),e.exports=w},69383:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},82408:function(e,t,n){var r=n(65204),o=n(27101),i=n(25311),a=n(7501),s=n(63564),c=n(23870);e.exports=function(e,t,n){for(var l=-1,u=(t=r(t,e)).length,f=!1;++l<u;){var d=c(t[l]);if(!(f=null!=e&&n(e,d)))break;e=e[d]}return f||++l!=u?f:!!(u=null==e?0:e.length)&&s(u)&&a(d,u)&&(i(e)||o(e))}},39652:function(e,t,n){var r=n(62138);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},86218:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},90614:function(e,t,n){var r=n(62138),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},78190:function(e,t,n){var r=n(62138),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},93233:function(e,t,n){var r=n(62138);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},55850:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},82149:function(e,t,n){var r=n(2265),o=n(10764),i=n(30921),a=n(19443),s=n(53556);e.exports=function(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return o(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return i(e);case"[object Set]":return new c;case"[object Symbol]":return a(e)}}},67601:function(e,t,n){var r=n(640),o=n(28635),i=n(15395);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},7501:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},88827:function(e,t,n){var r=n(76171),o=n(49684),i=n(7501),a=n(25772);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?o(n)&&i(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},3462:function(e,t,n){var r=n(25311),o=n(94548),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(a.test(e)||!i.test(e)||null!=t&&e in Object(t))}},33182:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},47125:function(e,t,n){var r=n(5707),o=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!o&&o in e}},15395:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},77890:function(e,t,n){var r=n(25772);e.exports=function(e){return e===e&&!r(e)}},2390:function(e){e.exports=function(){this.__data__=[],this.size=0}},99151:function(e,t,n){var r=n(37704),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},68572:function(e,t,n){var r=n(37704);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},9576:function(e,t,n){var r=n(37704);e.exports=function(e){return r(this.__data__,e)>-1}},27714:function(e,t,n){var r=n(37704);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},46344:function(e,t,n){var r=n(223),o=n(13650),i=n(41507);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},44594:function(e,t,n){var r=n(25937);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},99582:function(e,t,n){var r=n(25937);e.exports=function(e){return r(this,e).get(e)}},82193:function(e,t,n){var r=n(25937);e.exports=function(e){return r(this,e).has(e)}},5472:function(e,t,n){var r=n(25937);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},53963:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},2776:function(e){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},57655:function(e,t,n){var r=n(1717);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},62138:function(e,t,n){var r=n(38416)(Object,"create");e.exports=r},70733:function(e,t,n){var r=n(60342)(Object.keys,Object);e.exports=r},35545:function(e){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},32628:function(e,t,n){e=n.nmd(e);var r=n(20688),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},84573:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},60342:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},52530:function(e,t,n){var r=n(66605),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),c=Array(s);++a<s;)c[a]=i[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=i[a];return l[t]=n(c),r(e,this,l)}}},61680:function(e,t,n){var r=n(20688),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},69562:function(e){e.exports=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}},34590:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},16595:function(e){e.exports=function(e){return this.__data__.has(e)}},66911:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},4388:function(e,t,n){var r=n(7693),o=n(11993)(r);e.exports=o},11993:function(e){var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var o=t(),i=16-(o-r);if(r=o,i>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},72126:function(e,t,n){var r=n(13650);e.exports=function(){this.__data__=new r,this.size=0}},41584:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},58055:function(e){e.exports=function(e){return this.__data__.get(e)}},41817:function(e){e.exports=function(e){return this.__data__.has(e)}},21480:function(e,t,n){var r=n(13650),o=n(41507),i=n(89392);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(e,t),this.size=n.size,this}},50169:function(e,t,n){var r=n(57655),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));e.exports=a},23870:function(e,t,n){var r=n(94548);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},81803:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},62011:function(e,t,n){var r=n(43216);e.exports=function(e){return r(e,5)}},3106:function(e){e.exports=function(e){return function(){return e}}},14925:function(e,t,n){var r=n(25772),o=n(53648),i=n(65362),a=Math.max,s=Math.min;e.exports=function(e,t,n){var c,l,u,f,d,h,p=0,v=!1,m=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=c,r=l;return c=l=void 0,p=t,f=e.apply(r,n)}function b(e){return p=e,d=setTimeout(x,t),v?y(e):f}function w(e){var n=e-h;return void 0===h||n>=t||n<0||m&&e-p>=u}function x(){var e=o();if(w(e))return S(e);d=setTimeout(x,function(e){var n=t-(e-h);return m?s(n,u-(e-p)):n}(e))}function S(e){return d=void 0,g&&c?y(e):(c=l=void 0,f)}function C(){var e=o(),n=w(e);if(c=arguments,l=this,h=e,n){if(void 0===d)return b(h);if(m)return clearTimeout(d),d=setTimeout(x,t),y(h)}return void 0===d&&(d=setTimeout(x,t)),f}return t=i(t)||0,r(n)&&(v=!!n.leading,u=(m="maxWait"in n)?a(i(n.maxWait)||0,t):u,g="trailing"in n?!!n.trailing:g),C.cancel=function(){void 0!==d&&clearTimeout(d),p=0,c=h=l=d=void 0},C.flush=function(){return void 0===d?f:S(o())},C}},51772:function(e,t,n){e.exports=n(56476)},76171:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},56476:function(e,t,n){var r=n(17665),o=n(39759),i=n(41298),a=n(25311);e.exports=function(e,t){return(a(e)?r:o)(e,i(t))}},8817:function(e,t,n){var r=n(27572),o=n(41298);e.exports=function(e,t){return e&&r(e,o(t))}},53151:function(e,t,n){var r=n(50118);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},10766:function(e,t,n){var r=n(32024),o=n(82408);e.exports=function(e,t){return null!=e&&o(e,t,r)}},108:function(e){e.exports=function(e){return e}},27101:function(e,t,n){var r=n(12218),o=n(19004),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},25311:function(e){var t=Array.isArray;e.exports=t},49684:function(e,t,n){var r=n(54802),o=n(63564);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},91007:function(e,t,n){var r=n(49684),o=n(19004);e.exports=function(e){return o(e)&&r(e)}},55693:function(e,t,n){e=n.nmd(e);var r=n(61680),o=n(43840),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||o;e.exports=c},54802:function(e,t,n){var r=n(38240),o=n(25772);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},63564:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},86050:function(e,t,n){var r=n(1051),o=n(94165),i=n(32628),a=i&&i.isMap,s=a?o(a):r;e.exports=s},25772:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},19004:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},44362:function(e,t,n){var r=n(38240),o=n(28635),i=n(19004),a=Function.prototype,s=Object.prototype,c=a.toString,l=s.hasOwnProperty,u=c.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==u}},52104:function(e,t,n){var r=n(68024),o=n(94165),i=n(32628),a=i&&i.isSet,s=a?o(a):r;e.exports=s},66943:function(e,t,n){var r=n(38240),o=n(25311),i=n(19004);e.exports=function(e){return"string"==typeof e||!o(e)&&i(e)&&"[object String]"==r(e)}},94548:function(e,t,n){var r=n(38240),o=n(19004);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},86145:function(e,t,n){var r=n(28760),o=n(94165),i=n(32628),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},78722:function(e,t,n){var r=n(92114),o=n(69116),i=n(49684);e.exports=function(e){return i(e)?r(e):o(e)}},24560:function(e,t,n){var r=n(92114),o=n(20617),i=n(49684);e.exports=function(e){return i(e)?r(e,!0):o(e)}},92065:function(e,t,n){var r=n(22517),o=n(41314),i=n(32039),a=n(25311);e.exports=function(e,t){return(a(e)?r:i)(e,o(t,3))}},1717:function(e,t,n){var r=n(89392);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},70686:function(e,t,n){var r=n(77182),o=n(13442)((function(e,t,n){r(e,t,n)}));e.exports=o},53648:function(e,t,n){var r=n(61680);e.exports=function(){return r.Date.now()}},44761:function(e,t,n){var r=n(84271),o=n(90466),i=n(3462),a=n(23870);e.exports=function(e){return i(e)?r(a(e)):o(e)}},22405:function(e){e.exports=function(){return[]}},43840:function(e){e.exports=function(){return!1}},34827:function(e,t,n){var r=n(14925),o=n(25772);e.exports=function(e,t,n){var i=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:i,maxWait:t,trailing:a})}},65362:function(e,t,n){var r=n(25772),o=n(94548),i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=s.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):a.test(e)?NaN:+e}},5668:function(e,t,n){var r=n(76559),o=n(24560);e.exports=function(e){return r(e,o(e))}},63264:function(e,t,n){var r=n(3105);e.exports=function(e){return null==e?"":r(e)}},17038:function(e,t,n){var r;!function(o,i,a){if(o){for(var s,c={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},l={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},u={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},f={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},d=1;d<20;++d)c[111+d]="f"+d;for(d=0;d<=9;++d)c[d+96]=d.toString();b.prototype.bind=function(e,t,n){var r=this;return e=e instanceof Array?e:[e],r._bindMultiple.call(r,e,t,n),r},b.prototype.unbind=function(e,t){return this.bind.call(this,e,(function(){}),t)},b.prototype.trigger=function(e,t){var n=this;return n._directMap[e+":"+t]&&n._directMap[e+":"+t]({},e),n},b.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},b.prototype.stopCallback=function(e,t){if((" "+t.className+" ").indexOf(" mousetrap ")>-1)return!1;if(y(t,this.target))return!1;if("composedPath"in e&&"function"===typeof e.composedPath){var n=e.composedPath()[0];n!==e.target&&(t=n)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},b.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},b.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(c[t]=e[t]);s=null},b.init=function(){var e=b(i);for(var t in e)"_"!==t.charAt(0)&&(b[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},b.init(),o.Mousetrap=b,e.exports&&(e.exports=b),void 0===(r=function(){return b}.call(t,n,t,e))||(e.exports=r)}function h(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function p(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return c[e.which]?c[e.which]:l[e.which]?l[e.which]:String.fromCharCode(e.which).toLowerCase()}function v(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function m(e,t,n){return n||(n=function(){if(!s)for(var e in s={},c)e>95&&e<112||c.hasOwnProperty(e)&&(s[c[e]]=e);return s}()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function g(e,t){var n,r,o,i=[];for(n=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),o=0;o<n.length;++o)r=n[o],f[r]&&(r=f[r]),t&&"keypress"!=t&&u[r]&&(r=u[r],i.push("shift")),v(r)&&i.push(r);return{key:r,modifiers:i,action:t=m(r,i,t)}}function y(e,t){return null!==e&&e!==i&&(e===t||y(e.parentNode,t))}function b(e){var t=this;if(e=e||i,!(t instanceof b))return new b(e);t.target=e,t._callbacks={},t._directMap={};var n,r={},o=!1,a=!1,s=!1;function c(e){e=e||{};var t,n=!1;for(t in r)e[t]?n=!0:r[t]=0;n||(s=!1)}function l(e,n,o,i,a,s){var c,l,u,f,d=[],h=o.type;if(!t._callbacks[e])return[];for("keyup"==h&&v(e)&&(n=[e]),c=0;c<t._callbacks[e].length;++c)if(l=t._callbacks[e][c],(i||!l.seq||r[l.seq]==l.level)&&h==l.action&&("keypress"==h&&!o.metaKey&&!o.ctrlKey||(u=n,f=l.modifiers,u.sort().join(",")===f.sort().join(",")))){var p=!i&&l.combo==a,m=i&&l.seq==i&&l.level==s;(p||m)&&t._callbacks[e].splice(c,1),d.push(l)}return d}function u(e,n,r,o){t.stopCallback(n,n.target||n.srcElement,r,o)||!1===e(n,r)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(n),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(n))}function f(e){"number"!==typeof e.which&&(e.which=e.keyCode);var n=p(e);n&&("keyup"!=e.type||o!==n?t.handleKey(n,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):o=!1)}function d(e,t,i,a){function l(t){return function(){s=t,++r[e],clearTimeout(n),n=setTimeout(c,1e3)}}function f(t){u(i,t,e),"keyup"!==a&&(o=p(t)),setTimeout(c,10)}r[e]=0;for(var d=0;d<t.length;++d){var h=d+1===t.length?f:l(a||g(t[d+1]).action);m(t[d],h,a,e,d)}}function m(e,n,r,o,i){t._directMap[e+":"+r]=n;var a,s=(e=e.replace(/\s+/g," ")).split(" ");s.length>1?d(e,s,n,r):(a=g(e,r),t._callbacks[a.key]=t._callbacks[a.key]||[],l(a.key,a.modifiers,{type:a.action},o,e,i),t._callbacks[a.key][o?"unshift":"push"]({callback:n,modifiers:a.modifiers,action:a.action,seq:o,level:i,combo:e}))}t._handleKey=function(e,t,n){var r,o=l(e,t,n),i={},f=0,d=!1;for(r=0;r<o.length;++r)o[r].seq&&(f=Math.max(f,o[r].level));for(r=0;r<o.length;++r)if(o[r].seq){if(o[r].level!=f)continue;d=!0,i[o[r].seq]=1,u(o[r].callback,n,o[r].combo,o[r].seq)}else d||u(o[r].callback,n,o[r].combo);var h="keypress"==n.type&&a;n.type!=s||v(e)||h||c(i),a=d&&"keydown"==n.type},t._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)m(e[r],t,n)},h(e,"keypress",f),h(e,"keydown",f),h(e,"keyup",f)}}("undefined"!==typeof window?window:null,"undefined"!==typeof window?document:null)},23568:function(e,t,n){e.exports=n(99514)},64362:function(e,t,n){"use strict";t.Z=void 0;var r,o=n(3119),i=(r=o)&&r.__esModule?r:{default:r};t.Z=i.default},40232:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Alpha=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(27878),a=u(i),s=u(n(78862)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(30348)),l=u(n(38712));function u(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var h=t.Alpha=function(e){function t(){var e,n,r;f(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.handleChange=function(e){var t=c.calculateChange(e,r.props.hsl,r.props.direction,r.props.a,r.container);t&&"function"===typeof r.props.onChange&&r.props.onChange(t,e)},r.handleMouseDown=function(e){r.handleChange(e),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleChange),window.removeEventListener("mouseup",r.handleMouseUp)},d(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,n=(0,s.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*t.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)"},pointer:{left:0,top:100*t.a+"%"}},overwrite:r({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return a.default.createElement("div",{style:n.alpha},a.default.createElement("div",{style:n.checkboard},a.default.createElement(l.default,{renderers:this.props.renderers})),a.default.createElement("div",{style:n.gradient}),a.default.createElement("div",{style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},a.default.createElement("div",{style:n.pointer},this.props.pointer?a.default.createElement(this.props.pointer,this.props):a.default.createElement("div",{style:n.slider}))))}}]),t}(i.PureComponent||i.Component);t.default=h},38712:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Checkboard=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(27878),i=c(o),a=c(n(78862)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(66401));function c(e){return e&&e.__esModule?e:{default:e}}var l=t.Checkboard=function(e){var t=e.white,n=e.grey,c=e.size,l=e.renderers,u=e.borderRadius,f=e.boxShadow,d=e.children,h=(0,a.default)({default:{grid:{borderRadius:u,boxShadow:f,absolute:"0px 0px 0px 0px",background:"url("+s.get(t,n,c,l.canvas)+") center left"}}});return(0,o.isValidElement)(d)?i.default.cloneElement(d,r({},d.props,{style:r({},d.props.style,h.grid)})):i.default.createElement("div",{style:h.grid})};l.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}},t.default=l},64350:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorWrap=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(27878),a=l(i),s=l(n(14925)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(96541));function l(e){return e&&e.__esModule?e:{default:e}}var u=t.ColorWrap=function(e){var t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.handleChange=function(e,n){if(c.simpleCheckForValidColor(e)){var r=c.toState(e,e.h||t.state.oldHue);t.setState(r),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,r,n),t.props.onChange&&t.props.onChange(r,n)}},t.handleSwatchHover=function(e,n){if(c.simpleCheckForValidColor(e)){var r=c.toState(e,e.h||t.state.oldHue);t.props.onSwatchHover&&t.props.onSwatchHover(r,n)}},t.state=r({},c.toState(e.color,0)),t.debounce=(0,s.default)((function(e,t,n){e(t,n)}),100),t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),o(n,[{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),a.default.createElement(e,r({},this.props,this.state,{onChange:this.handleChange},t))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return r({},c.toState(e.color,t.oldHue))}}]),n}(i.PureComponent||i.Component);return t.propTypes=r({},e.propTypes),t.defaultProps=r({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t};t.default=u},13761:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditableInput=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(27878),i=s(o),a=s(n(78862));function s(e){return e&&e.__esModule?e:{default:e}}var c=[38,40],l=1,u=t.EditableInput=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(e){n.setUpdatedValue(e.target.value,e)},n.handleKeyDown=function(e){var t,r=function(e){return Number(String(e).replace(/%/g,""))}(e.target.value);if(!isNaN(r)&&(t=e.keyCode,c.indexOf(t)>-1)){var o=n.getArrowOffset(),i=38===e.keyCode?r+o:r-o;n.setUpdatedValue(i,e)}},n.handleDrag=function(e){if(n.props.dragLabel){var t=Math.round(n.props.value+e.movementX);t>=0&&t<=n.props.dragMax&&n.props.onChange&&n.props.onChange(n.getValueObjectWithLabel(t),e)}},n.handleMouseDown=function(e){n.props.dragLabel&&(e.preventDefault(),n.handleDrag(e),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},n.inputId="rc-editable-input-"+l++,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidUpdate",value:function(e,t){this.props.value===this.state.value||e.value===this.props.value&&t.value===this.state.value||(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(e){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},this.props.label,e)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||1}},{key:"setUpdatedValue",value:function(e,t){var n=this.props.label?this.getValueObjectWithLabel(e):e;this.props.onChange&&this.props.onChange(n,t),this.setState({value:e})}},{key:"render",value:function(){var e=this,t=(0,a.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return i.default.createElement("div",{style:t.wrap},i.default.createElement("input",{id:this.inputId,style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?i.default.createElement("label",{htmlFor:this.inputId,style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(o.PureComponent||o.Component);t.default=u},64221:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Hue=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(27878),i=c(o),a=c(n(78862)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(46418));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var f=t.Hue=function(e){function t(){var e,n,r;l(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.handleChange=function(e){var t=s.calculateChange(e,r.props.direction,r.props.hsl,r.container);t&&"function"===typeof r.props.onChange&&r.props.onChange(t,e)},r.handleMouseDown=function(e){r.handleChange(e),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},u(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,n=void 0===t?"horizontal":t,r=(0,a.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===n});return i.default.createElement("div",{style:r.hue},i.default.createElement("div",{className:"hue-"+n,style:r.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},i.default.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),i.default.createElement("div",{style:r.pointer},this.props.pointer?i.default.createElement(this.props.pointer,this.props):i.default.createElement("div",{style:r.slider}))))}}]),t}(o.PureComponent||o.Component);t.default=f},6274:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Raised=void 0;var r=s(n(27878)),o=s(n(77672)),i=s(n(78862)),a=s(n(70686));function s(e){return e&&e.__esModule?e:{default:e}}var c=t.Raised=function(e){var t=e.zDepth,n=e.radius,o=e.background,s=e.children,c=e.styles,l=void 0===c?{}:c,u=(0,i.default)((0,a.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+4*t+"px rgba(0,0,0,.24)",borderRadius:n,background:o}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},l),{"zDepth-1":1===t});return r.default.createElement("div",{style:u.wrap},r.default.createElement("div",{style:u.bg}),r.default.createElement("div",{style:u.content},s))};c.propTypes={background:o.default.string,zDepth:o.default.oneOf([0,1,2,3,4,5]),radius:o.default.number,styles:o.default.object},c.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}},t.default=c},26733:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Saturation=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(27878),i=l(o),a=l(n(78862)),s=l(n(34827)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(47378));function l(e){return e&&e.__esModule?e:{default:e}}var u=t.Saturation=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e){"function"===typeof n.props.onChange&&n.throttle(n.props.onChange,c.calculateChange(e,n.props.hsl,n.container),e)},n.handleMouseDown=function(e){n.handleChange(e);var t=n.getContainerRenderWindow();t.addEventListener("mousemove",n.handleChange),t.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=(0,s.default)((function(e,t,n){e(t,n)}),50),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var e=this.container,t=window;!t.document.contains(e)&&t.parent!==t;)t=t.parent;return t}},{key:"unbindEventListeners",value:function(){var e=this.getContainerRenderWindow();e.removeEventListener("mousemove",this.handleChange),e.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},n=t.color,r=t.white,o=t.black,s=t.pointer,c=t.circle,l=(0,a.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:n,white:r,black:o,pointer:s,circle:c}},{custom:!!this.props.style});return i.default.createElement("div",{style:l.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},i.default.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),i.default.createElement("div",{style:l.white,className:"saturation-white"},i.default.createElement("div",{style:l.black,className:"saturation-black"}),i.default.createElement("div",{style:l.pointer},this.props.pointer?i.default.createElement(this.props.pointer,this.props):i.default.createElement("div",{style:l.circle}))))}}]),t}(o.PureComponent||o.Component);t.default=u},2606:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Swatch=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=c(n(27878)),i=c(n(78862)),a=n(41573),s=c(n(38712));function c(e){return e&&e.__esModule?e:{default:e}}var l=t.Swatch=function(e){var t=e.color,n=e.style,a=e.onClick,c=void 0===a?function(){}:a,l=e.onHover,u=e.title,f=void 0===u?t:u,d=e.children,h=e.focus,p=e.focusStyle,v=void 0===p?{}:p,m="transparent"===t,g=(0,i.default)({default:{swatch:r({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,h?v:{})}}),y={};return l&&(y.onMouseOver=function(e){return l(t,e)}),o.default.createElement("div",r({style:g.swatch,onClick:function(e){return c(t,e)},title:f,tabIndex:0,onKeyDown:function(e){return 13===e.keyCode&&c(t,e)}},y),d,m&&o.default.createElement(s.default,{borderRadius:g.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};t.default=(0,a.handleFocus)(l)},1562:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(40232);Object.defineProperty(t,"Alpha",{enumerable:!0,get:function(){return f(r).default}});var o=n(38712);Object.defineProperty(t,"Checkboard",{enumerable:!0,get:function(){return f(o).default}});var i=n(13761);Object.defineProperty(t,"EditableInput",{enumerable:!0,get:function(){return f(i).default}});var a=n(64221);Object.defineProperty(t,"Hue",{enumerable:!0,get:function(){return f(a).default}});var s=n(6274);Object.defineProperty(t,"Raised",{enumerable:!0,get:function(){return f(s).default}});var c=n(26733);Object.defineProperty(t,"Saturation",{enumerable:!0,get:function(){return f(c).default}});var l=n(64350);Object.defineProperty(t,"ColorWrap",{enumerable:!0,get:function(){return f(l).default}});var u=n(2606);function f(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Swatch",{enumerable:!0,get:function(){return f(u).default}})},3119:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sketch=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=f(n(27878)),i=f(n(77672)),a=f(n(78862)),s=f(n(70686)),c=n(1562),l=f(n(2272)),u=f(n(63737));function f(e){return e&&e.__esModule?e:{default:e}}var d=t.Sketch=function(e){var t=e.width,n=e.rgb,i=e.hex,f=e.hsv,d=e.hsl,h=e.onChange,p=e.onSwatchHover,v=e.disableAlpha,m=e.presetColors,g=e.renderers,y=e.styles,b=void 0===y?{}:y,w=e.className,x=void 0===w?"":w,S=(0,a.default)((0,s.default)({default:r({picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},b),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},b),{disableAlpha:v});return o.default.createElement("div",{style:S.picker,className:"sketch-picker "+x},o.default.createElement("div",{style:S.saturation},o.default.createElement(c.Saturation,{style:S.Saturation,hsl:d,hsv:f,onChange:h})),o.default.createElement("div",{style:S.controls,className:"flexbox-fix"},o.default.createElement("div",{style:S.sliders},o.default.createElement("div",{style:S.hue},o.default.createElement(c.Hue,{style:S.Hue,hsl:d,onChange:h})),o.default.createElement("div",{style:S.alpha},o.default.createElement(c.Alpha,{style:S.Alpha,rgb:n,hsl:d,renderers:g,onChange:h}))),o.default.createElement("div",{style:S.color},o.default.createElement(c.Checkboard,null),o.default.createElement("div",{style:S.activeColor}))),o.default.createElement(l.default,{rgb:n,hsl:d,hex:i,onChange:h,disableAlpha:v}),o.default.createElement(u.default,{colors:m,onClick:h,onSwatchHover:p}))};d.propTypes={disableAlpha:i.default.bool,width:i.default.oneOfType([i.default.string,i.default.number]),styles:i.default.object},d.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]},t.default=(0,c.ColorWrap)(d)},2272:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SketchFields=void 0;var r=s(n(27878)),o=s(n(78862)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(96541)),a=n(1562);function s(e){return e&&e.__esModule?e:{default:e}}var c=t.SketchFields=function(e){var t=e.onChange,n=e.rgb,s=e.hsl,c=e.hex,l=e.disableAlpha,u=(0,o.default)({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:l}),f=function(e,r){e.hex?i.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},r):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,a:n.a,source:"rgb"},r):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:s.h,s:s.s,l:s.l,a:e.a,source:"rgb"},r))};return r.default.createElement("div",{style:u.fields,className:"flexbox-fix"},r.default.createElement("div",{style:u.double},r.default.createElement(a.EditableInput,{style:{input:u.input,label:u.label},label:"hex",value:c.replace("#",""),onChange:f})),r.default.createElement("div",{style:u.single},r.default.createElement(a.EditableInput,{style:{input:u.input,label:u.label},label:"r",value:n.r,onChange:f,dragLabel:"true",dragMax:"255"})),r.default.createElement("div",{style:u.single},r.default.createElement(a.EditableInput,{style:{input:u.input,label:u.label},label:"g",value:n.g,onChange:f,dragLabel:"true",dragMax:"255"})),r.default.createElement("div",{style:u.single},r.default.createElement(a.EditableInput,{style:{input:u.input,label:u.label},label:"b",value:n.b,onChange:f,dragLabel:"true",dragMax:"255"})),r.default.createElement("div",{style:u.alpha},r.default.createElement(a.EditableInput,{style:{input:u.input,label:u.label},label:"a",value:Math.round(100*n.a),onChange:f,dragLabel:"true",dragMax:"100"})))};t.default=c},63737:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SketchPresetColors=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=c(n(27878)),i=c(n(77672)),a=c(n(78862)),s=n(1562);function c(e){return e&&e.__esModule?e:{default:e}}var l=t.SketchPresetColors=function(e){var t=e.colors,n=e.onClick,i=void 0===n?function(){}:n,c=e.onSwatchHover,l=(0,a.default)({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),u=function(e,t){i({hex:e,source:"hex"},t)};return o.default.createElement("div",{style:l.colors,className:"flexbox-fix"},t.map((function(e){var t="string"===typeof e?{color:e}:e,n=""+t.color+(t.title||"");return o.default.createElement("div",{key:n,style:l.swatchWrap},o.default.createElement(s.Swatch,r({},t,{style:l.swatch,onClick:u,onHover:c,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+t.color}})))})))};l.propTypes={colors:i.default.arrayOf(i.default.oneOfType([i.default.string,i.default.shape({color:i.default.string,title:i.default.string})])).isRequired},t.default=l},30348:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n,r,o){var i=o.clientWidth,a=o.clientHeight,s="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,c="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,l=s-(o.getBoundingClientRect().left+window.pageXOffset),u=c-(o.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n){var f=void 0;if(f=u<0?0:u>a?1:Math.round(100*u/a)/100,t.a!==f)return{h:t.h,s:t.s,l:t.l,a:f,source:"rgb"}}else{var d=void 0;if(r!==(d=l<0?0:l>i?1:Math.round(100*l/i)/100))return{h:t.h,s:t.s,l:t.l,a:d,source:"rgb"}}return null}},66401:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={},r=t.render=function(e,t,n,r){if("undefined"===typeof document&&!r)return null;var o=r?new r:document.createElement("canvas");o.width=2*n,o.height=2*n;var i=o.getContext("2d");return i?(i.fillStyle=e,i.fillRect(0,0,o.width,o.height),i.fillStyle=t,i.fillRect(0,0,n,n),i.translate(n,n),i.fillRect(0,0,n,n),o.toDataURL()):null};t.get=function(e,t,o,i){var a=e+"-"+t+"-"+o+(i?"-server":"");if(n[a])return n[a];var s=r(e,t,o,i);return n[a]=s,s}},96541:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isvalidColorString=t.red=t.getContrastingColor=t.isValidHex=t.toState=t.simpleCheckForValidColor=void 0;var r=i(n(51772)),o=i(n(87947));function i(e){return e&&e.__esModule?e:{default:e}}t.simpleCheckForValidColor=function(e){var t=0,n=0;return(0,r.default)(["r","g","b","a","h","s","l","v"],(function(r){if(e[r]&&(t+=1,isNaN(e[r])||(n+=1),"s"===r||"l"===r)){/^\d+%$/.test(e[r])&&(n+=1)}})),t===n&&e};var a=t.toState=function(e,t){var n=e.hex?(0,o.default)(e.hex):(0,o.default)(e),r=n.toHsl(),i=n.toHsv(),a=n.toRgb(),s=n.toHex();return 0===r.s&&(r.h=t||0,i.h=t||0),{hsl:r,hex:"000000"===s&&0===a.a?"transparent":"#"+s,rgb:a,hsv:i,oldHue:e.h||t||r.h,source:e.source}};t.isValidHex=function(e){if("transparent"===e)return!0;var t="#"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&(0,o.default)(e).isValid()},t.getContrastingColor=function(e){if(!e)return"#fff";var t=a(e);return"transparent"===t.hex?"rgba(0,0,0,0.4)":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?"#000":"#fff"},t.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}},t.isvalidColorString=function(e,t){var n=e.replace("\xb0","");return(0,o.default)(t+" ("+n+")")._ok}},46418:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n,r){var o=r.clientWidth,i=r.clientHeight,a="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,c=a-(r.getBoundingClientRect().left+window.pageXOffset),l=s-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===t){var u=void 0;if(l<0)u=359;else if(l>i)u=0;else{u=360*(-100*l/i+100)/100}if(n.h!==u)return{h:u,s:n.s,l:n.l,a:n.a,source:"hsl"}}else{var f=void 0;if(c<0)f=0;else if(c>o)f=359;else{f=360*(100*c/o)/100}if(n.h!==f)return{h:f,s:n.s,l:n.l,a:n.a,source:"hsl"}}return null}},41573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleFocus=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(27878),s=(r=a)&&r.__esModule?r:{default:r};function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.handleFocus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var e,t,n;c(this,r);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=n=l(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(i))),n.state={focus:!1},n.handleFocus=function(){return n.setState({focus:!0})},n.handleBlur=function(){return n.setState({focus:!1})},l(n,t)}return u(r,n),i(r,[{key:"render",value:function(){return s.default.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},s.default.createElement(e,o({},this.props,this.state)))}}]),r}(s.default.Component)}},47378:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n){var r=n.getBoundingClientRect(),o=r.width,i=r.height,a="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,c=a-(n.getBoundingClientRect().left+window.pageXOffset),l=s-(n.getBoundingClientRect().top+window.pageYOffset);c<0?c=0:c>o&&(c=o),l<0?l=0:l>i&&(l=i);var u=c/o,f=1-l/i;return{h:t.h,s:u,v:f,a:t.a,source:"hsv"}}},6273:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(27878),i=s(o),a=s(n(77672));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.scrollListener=n.scrollListener.bind(n),n.eventListenerOptions=n.eventListenerOptions.bind(n),n.mousewheelListener=n.mousewheelListener.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this.pageLoaded=this.props.pageStart,this.options=this.eventListenerOptions(),this.attachScrollListener()}},{key:"componentDidUpdate",value:function(){if(this.props.isReverse&&this.loadMore){var e=this.getParentElement(this.scrollComponent);e.scrollTop=e.scrollHeight-this.beforeScrollHeight+this.beforeScrollTop,this.loadMore=!1}this.attachScrollListener()}},{key:"componentWillUnmount",value:function(){this.detachScrollListener(),this.detachMousewheelListener()}},{key:"isPassiveSupported",value:function(){var e=!1,t={get passive(){e=!0}};try{document.addEventListener("test",null,t),document.removeEventListener("test",null,t)}catch(n){}return e}},{key:"eventListenerOptions",value:function(){var e=this.props.useCapture;return this.isPassiveSupported()&&(e={useCapture:this.props.useCapture,passive:!0}),e}},{key:"setDefaultLoader",value:function(e){this.defaultLoader=e}},{key:"detachMousewheelListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.scrollComponent.parentNode),e.removeEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture)}},{key:"detachScrollListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.getParentElement(this.scrollComponent)),e.removeEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),e.removeEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture)}},{key:"getParentElement",value:function(e){var t=this.props.getScrollParent&&this.props.getScrollParent();return null!=t?t:e&&e.parentNode}},{key:"filterProps",value:function(e){return e}},{key:"attachScrollListener",value:function(){var e=this.getParentElement(this.scrollComponent);if(this.props.hasMore&&e){var t=window;!1===this.props.useWindow&&(t=e),t.addEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture),t.addEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),t.addEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture),this.props.initialLoad&&this.scrollListener()}}},{key:"mousewheelListener",value:function(e){1!==e.deltaY||this.isPassiveSupported()||e.preventDefault()}},{key:"scrollListener",value:function(){var e=this.scrollComponent,t=window,n=this.getParentElement(e),r=void 0;if(this.props.useWindow){var o=document.documentElement||document.body.parentNode||document.body,i=void 0!==t.pageYOffset?t.pageYOffset:o.scrollTop;r=this.props.isReverse?i:this.calculateOffset(e,i)}else r=this.props.isReverse?n.scrollTop:e.scrollHeight-n.scrollTop-n.clientHeight;r<Number(this.props.threshold)&&e&&null!==e.offsetParent&&(this.detachScrollListener(),this.beforeScrollHeight=n.scrollHeight,this.beforeScrollTop=n.scrollTop,"function"===typeof this.props.loadMore&&(this.props.loadMore(this.pageLoaded+=1),this.loadMore=!0))}},{key:"calculateOffset",value:function(e,t){return e?this.calculateTopPosition(e)+(e.offsetHeight-t-window.innerHeight):0}},{key:"calculateTopPosition",value:function(e){return e?e.offsetTop+this.calculateTopPosition(e.offsetParent):0}},{key:"render",value:function(){var e=this,t=this.filterProps(this.props),n=t.children,r=t.element,o=t.hasMore,a=(t.initialLoad,t.isReverse),s=t.loader,c=(t.loadMore,t.pageStart,t.ref),l=(t.threshold,t.useCapture,t.useWindow,t.getScrollParent,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["children","element","hasMore","initialLoad","isReverse","loader","loadMore","pageStart","ref","threshold","useCapture","useWindow","getScrollParent"]));l.ref=function(t){e.scrollComponent=t,c&&c(t)};var u=[n];return o&&(s?a?u.unshift(s):u.push(s):this.defaultLoader&&(a?u.unshift(this.defaultLoader):u.push(this.defaultLoader))),i.default.createElement(r,l,u)}}]),t}(o.Component);c.propTypes={children:a.default.node.isRequired,element:a.default.node,hasMore:a.default.bool,initialLoad:a.default.bool,isReverse:a.default.bool,loader:a.default.node,loadMore:a.default.func.isRequired,pageStart:a.default.number,ref:a.default.func,getScrollParent:a.default.func,threshold:a.default.number,useCapture:a.default.bool,useWindow:a.default.bool},c.defaultProps={element:"div",hasMore:!1,initialLoad:!0,pageStart:0,ref:null,threshold:250,useWindow:!0,isReverse:!1,useCapture:!1,loader:null,getScrollParent:null},t.default=c,e.exports=t.default},87521:function(e,t,n){e.exports=n(6273)},98581:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(27878),a=c(i),s=c(n(77672));function c(e){return e&&e.__esModule?e:{default:e}}var l={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},u=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],f=function(e,t){t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,t.style.fontWeight=e.fontWeight,t.style.fontStyle=e.fontStyle,t.style.letterSpacing=e.letterSpacing,t.style.textTransform=e.textTransform},d=!("undefined"===typeof window||!window.navigator)&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent),h=function(){return d?"_"+Math.random().toString(36).substr(2,12):void 0},p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.inputRef=function(e){n.input=e,"function"===typeof n.props.inputRef&&n.props.inputRef(e)},n.placeHolderSizerRef=function(e){n.placeHolderSizer=e},n.sizerRef=function(e){n.sizer=e},n.state={inputWidth:e.minWidth,inputId:e.id||h(),prevId:e.id},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.id;return n!==t.prevId?{inputId:n||h(),prevId:n}:null}}]),o(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentDidUpdate",value:function(e,t){t.inputWidth!==this.state.inputWidth&&"function"===typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(this.mounted&&window.getComputedStyle){var e=this.input&&window.getComputedStyle(this.input);e&&(f(e,this.sizer),this.placeHolderSizer&&f(e,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(this.mounted&&this.sizer&&"undefined"!==typeof this.sizer.scrollWidth){var e=void 0;e=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2,(e+="number"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0)<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var e=this.props.injectStyles;return d&&e?a.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var e=[this.props.defaultValue,this.props.value,""].reduce((function(e,t){return null!==e&&void 0!==e?e:t})),t=r({},this.props.style);t.display||(t.display="inline-block");var n=r({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(this.props,[]);return function(e){u.forEach((function(t){return delete e[t]}))}(o),o.className=this.props.inputClassName,o.id=this.state.inputId,o.style=n,a.default.createElement("div",{className:this.props.className,style:t},this.renderStyles(),a.default.createElement("input",r({},o,{ref:this.inputRef})),a.default.createElement("div",{ref:this.sizerRef,style:l},e),this.props.placeholder?a.default.createElement("div",{ref:this.placeHolderSizerRef,style:l},this.props.placeholder):null)}}]),t}(i.Component);p.propTypes={className:s.default.string,defaultValue:s.default.any,extraWidth:s.default.oneOfType([s.default.number,s.default.string]),id:s.default.string,injectStyles:s.default.bool,inputClassName:s.default.string,inputRef:s.default.func,inputStyle:s.default.object,minWidth:s.default.oneOfType([s.default.number,s.default.string]),onAutosize:s.default.func,onChange:s.default.func,placeholder:s.default.string,placeholderIsMinWidth:s.default.bool,style:s.default.object,value:s.default.any},p.defaultProps={minWidth:1,injectStyles:!0},t.Z=p},98336:function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function o(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function i(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?s="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var c=e.displayName||e.name,l="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+c+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=o),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=i;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;u.call(this,e,t,r)}}return e}n.r(t),n.d(t,{polyfill:function(){return a}}),r.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0},79221:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(27878),a=p(i),s=p(n(9531)),c=p(n(77672)),l=p(n(81165)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(23202)),f=n(28108),d=p(f),h=n(98336);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var g=t.portalClassName="ReactModalPortal",y=t.bodyOpenClassName="ReactModal__Body--open",b=f.canUseDOM&&void 0!==s.default.createPortal,w=function(){return b?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer};function x(e){return e()}var S=function(e){function t(){var e,n,o;v(this,t);for(var i=arguments.length,c=Array(i),u=0;u<i;u++)c[u]=arguments[u];return n=o=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o.removePortal=function(){!b&&s.default.unmountComponentAtNode(o.node);var e=x(o.props.parentSelector);e&&e.contains(o.node)?e.removeChild(o.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},o.portalRef=function(e){o.portal=e},o.renderPortal=function(e){var n=w()(o,a.default.createElement(l.default,r({defaultStyles:t.defaultStyles},e)),o.node);o.portalRef(n)},m(o,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){f.canUseDOM&&(b||(this.node=document.createElement("div")),this.node.className=this.props.portalClassName,x(this.props.parentSelector).appendChild(this.node),!b&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:x(e.parentSelector),nextParent:x(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,n){if(f.canUseDOM){var r=this.props,o=r.isOpen,i=r.portalClassName;e.portalClassName!==i&&(this.node.className=i);var a=n.prevParent,s=n.nextParent;s!==a&&(a.removeChild(this.node),s.appendChild(this.node)),(e.isOpen||o)&&!b&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(f.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return f.canUseDOM&&b?(!this.node&&b&&(this.node=document.createElement("div")),w()(a.default.createElement(l.default,r({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){u.setElement(e)}}]),t}(i.Component);S.propTypes={isOpen:c.default.bool.isRequired,style:c.default.shape({content:c.default.object,overlay:c.default.object}),portalClassName:c.default.string,bodyOpenClassName:c.default.string,htmlOpenClassName:c.default.string,className:c.default.oneOfType([c.default.string,c.default.shape({base:c.default.string.isRequired,afterOpen:c.default.string.isRequired,beforeClose:c.default.string.isRequired})]),overlayClassName:c.default.oneOfType([c.default.string,c.default.shape({base:c.default.string.isRequired,afterOpen:c.default.string.isRequired,beforeClose:c.default.string.isRequired})]),appElement:c.default.instanceOf(d.default),onAfterOpen:c.default.func,onRequestClose:c.default.func,closeTimeoutMS:c.default.number,ariaHideApp:c.default.bool,shouldFocusAfterRender:c.default.bool,shouldCloseOnOverlayClick:c.default.bool,shouldReturnFocusAfterClose:c.default.bool,preventScroll:c.default.bool,parentSelector:c.default.func,aria:c.default.object,data:c.default.object,role:c.default.string,contentLabel:c.default.string,shouldCloseOnEsc:c.default.bool,overlayRef:c.default.func,contentRef:c.default.func,id:c.default.string,overlayElement:c.default.func,contentElement:c.default.func},S.defaultProps={isOpen:!1,portalClassName:g,bodyOpenClassName:y,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,t){return a.default.createElement("div",e,t)},contentElement:function(e,t){return a.default.createElement("div",e,t)}},S.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,h.polyfill)(S),t.default=S},81165:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(27878),s=v(n(77672)),c=p(n(57475)),l=v(n(19320)),u=p(n(23202)),f=p(n(25719)),d=v(n(28108)),h=v(n(7533));function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function v(e){return e&&e.__esModule?e:{default:e}}n(85319);var m={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},g=0,y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverlayRef=function(e){n.overlay=e,n.props.overlayRef&&n.props.overlayRef(e)},n.setContentRef=function(e){n.content=e,n.props.contentRef&&n.props.contentRef(e)},n.afterClose=function(){var e=n.props,t=e.appElement,r=e.ariaHideApp,o=e.htmlOpenClassName,i=e.bodyOpenClassName;i&&f.remove(document.body,i),o&&f.remove(document.getElementsByTagName("html")[0],o),r&&g>0&&0===(g-=1)&&u.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(c.returnFocus(n.props.preventScroll),c.teardownScopedFocus()):c.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose(),h.default.deregister(n)},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(c.setupScopedFocus(n.node),c.markForFocusLater()),n.setState({isOpen:!0},(function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen({overlayEl:n.overlay,contentEl:n.content})})))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus({preventScroll:!0})},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},(function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())}))},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){9===e.keyCode&&(0,l.default)(n.content,e),n.props.shouldCloseOnEsc&&27===e.keyCode&&(e.stopPropagation(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){n.props.shouldCloseOnOverlayClick||e.target!=n.overlay||e.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var r="object"===("undefined"===typeof t?"undefined":o(t))?t:{base:m[e],afterOpen:m[e]+"--after-open",beforeClose:m[e]+"--before-close"},i=r.base;return n.state.afterOpen&&(i=i+" "+r.afterOpen),n.state.beforeClose&&(i=i+" "+r.beforeClose),"string"===typeof t&&t?i+" "+t:i},n.attributesFromObject=function(e,t){return Object.keys(t).reduce((function(n,r){return n[e+"-"+r]=t[r],n}),{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,r=e.htmlOpenClassName,o=e.bodyOpenClassName;o&&f.add(document.body,o),r&&f.add(document.getElementsByTagName("html")[0],r),n&&(g+=1,u.hide(t)),h.default.register(this)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,o=e.overlayClassName,i=e.defaultStyles,a=e.children,s=n?{}:i.content,c=o?{}:i.overlay;if(this.shouldBeClosed())return null;var l={ref:this.setOverlayRef,className:this.buildClassName("overlay",o),style:r({},c,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},u=r({id:t,ref:this.setContentRef,style:r({},s,this.props.style.content),className:this.buildClassName("content",n),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",r({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),f=this.props.contentElement(u,a);return this.props.overlayElement(l,f)}}]),t}(a.Component);y.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},y.propTypes={isOpen:s.default.bool.isRequired,defaultStyles:s.default.shape({content:s.default.object,overlay:s.default.object}),style:s.default.shape({content:s.default.object,overlay:s.default.object}),className:s.default.oneOfType([s.default.string,s.default.object]),overlayClassName:s.default.oneOfType([s.default.string,s.default.object]),bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,ariaHideApp:s.default.bool,appElement:s.default.instanceOf(d.default),onAfterOpen:s.default.func,onAfterClose:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,role:s.default.string,contentLabel:s.default.string,aria:s.default.object,data:s.default.object,children:s.default.node,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func,testId:s.default.string},t.default=y,e.exports=t.default},23202:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertNodeList=c,t.setElement=function(e){var t=e;if("string"===typeof t&&a.canUseDOM){var n=document.querySelectorAll(t);c(n,t),t="length"in n?n[0]:n}return s=t||s},t.validateElement=l,t.hide=function(e){l(e)&&(e||s).setAttribute("aria-hidden","true")},t.show=function(e){l(e)&&(e||s).removeAttribute("aria-hidden")},t.documentNotReadyOrSSRTesting=function(){s=null},t.resetForTesting=function(){s=null};var r,o=n(102),i=(r=o)&&r.__esModule?r:{default:r},a=n(28108);var s=null;function c(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function l(e){return!(!e&&!s)||((0,i.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),!1)}},85319:function(e,t,n){"use strict";var r,o=n(7533),i=(r=o)&&r.__esModule?r:{default:r};var a=void 0,s=void 0,c=[];function l(){0!==c.length&&c[c.length-1].focusContent()}i.default.subscribe((function(e,t){a&&s||((a=document.createElement("div")).setAttribute("data-react-modal-body-trap",""),a.style.position="absolute",a.style.opacity="0",a.setAttribute("tabindex","0"),a.addEventListener("focus",l),(s=a.cloneNode()).addEventListener("focus",l)),(c=t).length>0?(document.body.firstChild!==a&&document.body.insertBefore(a,document.body.firstChild),document.body.lastChild!==s&&document.body.appendChild(s)):(a.parentElement&&a.parentElement.removeChild(a),s.parentElement&&s.parentElement.removeChild(s))}))},25719:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dumpClassLists=function(){0};var n={},r={};t.add=function(e,t){return o=e.classList,i="html"==e.nodeName.toLowerCase()?n:r,void t.split(" ").forEach((function(e){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(i,e),o.add(e)}));var o,i},t.remove=function(e,t){return o=e.classList,i="html"==e.nodeName.toLowerCase()?n:r,void t.split(" ").forEach((function(e){!function(e,t){e[t]&&(e[t]-=1)}(i,e),0===i[e]&&o.remove(e)}));var o,i}},57475:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleBlur=l,t.handleFocus=u,t.markForFocusLater=function(){a.push(document.activeElement)},t.returnFocus=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=null;try{return void(0!==a.length&&(t=a.pop()).focus({preventScroll:e}))}catch(n){console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){a.length>0&&a.pop()},t.setupScopedFocus=function(e){s=e,window.addEventListener?(window.addEventListener("blur",l,!1),document.addEventListener("focus",u,!0)):(window.attachEvent("onBlur",l),document.attachEvent("onFocus",u))},t.teardownScopedFocus=function(){s=null,window.addEventListener?(window.removeEventListener("blur",l),document.removeEventListener("focus",u)):(window.detachEvent("onBlur",l),document.detachEvent("onFocus",u))};var r,o=n(57883),i=(r=o)&&r.__esModule?r:{default:r};var a=[],s=null,c=!1;function l(){c=!0}function u(){if(c){if(c=!1,!s)return;setTimeout((function(){s.contains(document.activeElement)||((0,i.default)(s)[0]||s).focus()}),0)}}},7533:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.register=function(e){-1===t.openInstances.indexOf(e)&&(t.openInstances.push(e),t.emit("register"))},this.deregister=function(e){var n=t.openInstances.indexOf(e);-1!==n&&(t.openInstances.splice(n,1),t.emit("deregister"))},this.subscribe=function(e){t.subscribers.push(e)},this.emit=function(e){t.subscribers.forEach((function(n){return n(e,t.openInstances.slice())}))},this.openInstances=[],this.subscribers=[]};t.default=n,e.exports=t.default},28108:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=void 0;var r,o=n(75138);var i=((r=o)&&r.__esModule?r:{default:r}).default,a=i.canUseDOM?window.HTMLElement:{};t.canUseDOM=i.canUseDOM;t.default=a},19320:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,i.default)(e);if(!n.length)return void t.preventDefault();var r=void 0,o=t.shiftKey,a=n[0],s=n[n.length-1];if(e===document.activeElement){if(!o)return;r=s}s!==document.activeElement||o||(r=a);a===document.activeElement&&o&&(r=s);if(r)return t.preventDefault(),void r.focus();var c=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==c||"Chrome"==c[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var l=n.indexOf(document.activeElement);l>-1&&(l+=o?-1:1);if("undefined"===typeof(r=n[l]))return t.preventDefault(),void(r=o?s:a).focus();t.preventDefault(),r.focus()};var r,o=n(57883),i=(r=o)&&r.__esModule?r:{default:r};e.exports=t.default},57883:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return[].slice.call(e.querySelectorAll("*"),0).filter(i)};var n=/input|select|textarea|button|object/;function r(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;var n=window.getComputedStyle(e);return t?"visible"!==n.getPropertyValue("overflow")||e.scrollWidth<=0&&e.scrollHeight<=0:"none"==n.getPropertyValue("display")}function o(e,t){var o=e.nodeName.toLowerCase();return(n.test(o)&&!e.disabled||"a"===o&&e.href||t)&&function(e){for(var t=e;t&&t!==document.body;){if(r(t))return!1;t=t.parentNode}return!0}(e)}function i(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&o(e,!n)}e.exports=t.default},43449:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(79221),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default,e.exports=t.default},75142:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoprefix=void 0;var r,o=n(8817),i=(r=o)&&r.__esModule?r:{default:r},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var s={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var n=t[e];return n||{extend:e}}},c=t.autoprefix=function(e){var t={};return(0,i.default)(e,(function(e,n){var r={};(0,i.default)(e,(function(e,t){var n=s[t];n?r=a({},r,n(e)):r[t]=e})),t[n]=r})),t};t.default=c},54026:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.active=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(27878),a=(r=i)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=t.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,i,l;s(this,r);for(var u=arguments.length,f=Array(u),d=0;d<u;d++)f[d]=arguments[d];return i=l=c(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(f))),l.state={active:!1},l.handleMouseDown=function(){return l.setState({active:!0})},l.handleMouseUp=function(){return l.setState({active:!1})},l.render=function(){return a.default.createElement(t,{onMouseDown:l.handleMouseDown,onMouseUp:l.handleMouseUp},a.default.createElement(e,o({},l.props,l.state)))},c(l,i)}return l(r,n),r}(a.default.Component)};t.default=u},14149:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hover=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(27878),a=(r=i)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,i,l;s(this,r);for(var u=arguments.length,f=Array(u),d=0;d<u;d++)f[d]=arguments[d];return i=l=c(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(f))),l.state={hover:!1},l.handleMouseOver=function(){return l.setState({hover:!0})},l.handleMouseOut=function(){return l.setState({hover:!1})},l.render=function(){return a.default.createElement(t,{onMouseOver:l.handleMouseOver,onMouseOut:l.handleMouseOut},a.default.createElement(e,o({},l.props,l.state)))},c(l,i)}return l(r,n),r}(a.default.Component)};t.default=u},64873:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenNames=void 0;var r=s(n(66943)),o=s(n(8817)),i=s(n(44362)),a=s(n(92065));function s(e){return e&&e.__esModule?e:{default:e}}var c=t.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,a.default)(t,(function(t){Array.isArray(t)?e(t).map((function(e){return n.push(e)})):(0,i.default)(t)?(0,o.default)(t,(function(e,t){!0===e&&n.push(t),n.push(t+"-"+e)})):(0,r.default)(t)&&n.push(t)})),n};t.default=c},78862:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReactCSS=t.loop=t.handleActive=t.handleHover=t.hover=void 0;var r=l(n(64873)),o=l(n(80069)),i=l(n(75142)),a=l(n(14149)),s=l(n(54026)),c=l(n(40175));function l(e){return e&&e.__esModule?e:{default:e}}t.hover=a.default,t.handleHover=a.default,t.handleActive=s.default,t.loop=c.default;var u=t.ReactCSS=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var s=(0,r.default)(n),c=(0,o.default)(e,s);return(0,i.default)(c)};t.default=u},40175:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n={},r=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n[e]=t};return 0===e&&r("first-child"),e===t-1&&r("last-child"),(0===e||e%2===0)&&r("even"),1===Math.abs(e%2)&&r("odd"),r("nth-child",e),n}},80069:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeClasses=void 0;var r=a(n(8817)),o=a(n(62011)),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function a(e){return e&&e.__esModule?e:{default:e}}var s=t.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.default&&(0,o.default)(e.default)||{};return t.map((function(t){var o=e[t];return o&&(0,r.default)(o,(function(e,t){n[t]||(n[t]={}),n[t]=i({},n[t],o[t])})),t})),n};t.default=s},87947:function(e,t,n){var r;!function(o){var i=/^\s+/,a=/\s+$/,s=0,c=o.round,l=o.min,u=o.max,f=o.random;function d(e,t){if(t=t||{},(e=e||"")instanceof d)return e;if(!(this instanceof d))return new d(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,s=null,c=null,f=!1,d=!1;"string"==typeof e&&(e=function(e){e=e.replace(i,"").replace(a,"").toLowerCase();var t,n=!1;if(Z[e])e=Z[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=F.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=F.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=F.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=F.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=F.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=F.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=F.hex8.exec(e))return{r:_(t[1]),g:_(t[2]),b:_(t[3]),a:z(t[4]),format:n?"name":"hex8"};if(t=F.hex6.exec(e))return{r:_(t[1]),g:_(t[2]),b:_(t[3]),format:n?"name":"hex"};if(t=F.hex4.exec(e))return{r:_(t[1]+""+t[1]),g:_(t[2]+""+t[2]),b:_(t[3]+""+t[3]),a:z(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=F.hex3.exec(e))return{r:_(t[1]+""+t[1]),g:_(t[2]+""+t[2]),b:_(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==typeof e&&(U(e.r)&&U(e.g)&&U(e.b)?(h=e.r,p=e.g,v=e.b,t={r:255*T(h,255),g:255*T(p,255),b:255*T(v,255)},f=!0,d="%"===String(e.r).substr(-1)?"prgb":"rgb"):U(e.h)&&U(e.s)&&U(e.v)?(r=N(e.s),s=N(e.v),t=function(e,t,n){e=6*T(e,360),t=T(t,100),n=T(n,100);var r=o.floor(e),i=e-r,a=n*(1-t),s=n*(1-i*t),c=n*(1-(1-i)*t),l=r%6;return{r:255*[n,s,a,a,c,n][l],g:255*[c,n,n,s,a,a][l],b:255*[a,a,c,n,n,s][l]}}(e.h,r,s),f=!0,d="hsv"):U(e.h)&&U(e.s)&&U(e.l)&&(r=N(e.s),c=N(e.l),t=function(e,t,n){var r,o,i;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=T(e,360),t=T(t,100),n=T(n,100),0===t)r=o=i=n;else{var s=n<.5?n*(1+t):n+t-n*t,c=2*n-s;r=a(c,s,e+1/3),o=a(c,s,e),i=a(c,s,e-1/3)}return{r:255*r,g:255*o,b:255*i}}(e.h,r,c),f=!0,d="hsl"),e.hasOwnProperty("a")&&(n=e.a));var h,p,v;return n=D(n),{ok:f,format:e.format||d,r:l(255,u(t.r,0)),g:l(255,u(t.g,0)),b:l(255,u(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=c(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=c(this._r)),this._g<1&&(this._g=c(this._g)),this._b<1&&(this._b=c(this._b)),this._ok=n.ok,this._tc_id=s++}function h(e,t,n){e=T(e,255),t=T(t,255),n=T(n,255);var r,o,i=u(e,t,n),a=l(e,t,n),s=(i+a)/2;if(i==a)r=o=0;else{var c=i-a;switch(o=s>.5?c/(2-i-a):c/(i+a),i){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}r/=6}return{h:r,s:o,l:s}}function p(e,t,n){e=T(e,255),t=T(t,255),n=T(n,255);var r,o,i=u(e,t,n),a=l(e,t,n),s=i,c=i-a;if(o=0===i?0:c/i,i==a)r=0;else{switch(i){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}r/=6}return{h:r,s:o,v:s}}function v(e,t,n,r){var o=[I(c(e).toString(16)),I(c(t).toString(16)),I(c(n).toString(16))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function m(e,t,n,r){return[I(L(r)),I(c(e).toString(16)),I(c(t).toString(16)),I(c(n).toString(16))].join("")}function g(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.s-=t/100,n.s=A(n.s),d(n)}function y(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.s+=t/100,n.s=A(n.s),d(n)}function b(e){return d(e).desaturate(100)}function w(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.l+=t/100,n.l=A(n.l),d(n)}function x(e,t){t=0===t?0:t||10;var n=d(e).toRgb();return n.r=u(0,l(255,n.r-c(-t/100*255))),n.g=u(0,l(255,n.g-c(-t/100*255))),n.b=u(0,l(255,n.b-c(-t/100*255))),d(n)}function S(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.l-=t/100,n.l=A(n.l),d(n)}function C(e,t){var n=d(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,d(n)}function k(e){var t=d(e).toHsl();return t.h=(t.h+180)%360,d(t)}function O(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+120)%360,s:t.s,l:t.l}),d({h:(n+240)%360,s:t.s,l:t.l})]}function P(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+90)%360,s:t.s,l:t.l}),d({h:(n+180)%360,s:t.s,l:t.l}),d({h:(n+270)%360,s:t.s,l:t.l})]}function M(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+72)%360,s:t.s,l:t.l}),d({h:(n+216)%360,s:t.s,l:t.l})]}function R(e,t,n){t=t||6,n=n||30;var r=d(e).toHsl(),o=360/n,i=[d(e)];for(r.h=(r.h-(o*t>>1)+720)%360;--t;)r.h=(r.h+o)%360,i.push(d(r));return i}function E(e,t){t=t||6;for(var n=d(e).toHsv(),r=n.h,o=n.s,i=n.v,a=[],s=1/t;t--;)a.push(d({h:r,s:o,v:i})),i=(i+s)%1;return a}d.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:o.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:o.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:o.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=D(e),this._roundA=c(100*this._a)/100,this},toHsv:function(){var e=p(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=p(this._r,this._g,this._b),t=c(360*e.h),n=c(100*e.s),r=c(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=h(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=h(this._r,this._g,this._b),t=c(360*e.h),n=c(100*e.s),r=c(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return v(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,o){var i=[I(c(e).toString(16)),I(c(t).toString(16)),I(c(n).toString(16)),I(L(r))];if(o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1))return i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0);return i.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:c(this._r),g:c(this._g),b:c(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+c(this._r)+", "+c(this._g)+", "+c(this._b)+")":"rgba("+c(this._r)+", "+c(this._g)+", "+c(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:c(100*T(this._r,255))+"%",g:c(100*T(this._g,255))+"%",b:c(100*T(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+c(100*T(this._r,255))+"%, "+c(100*T(this._g,255))+"%, "+c(100*T(this._b,255))+"%)":"rgba("+c(100*T(this._r,255))+"%, "+c(100*T(this._g,255))+"%, "+c(100*T(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(j[v(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+m(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var o=d(e);n="#"+m(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return d(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(w,arguments)},brighten:function(){return this._applyModification(x,arguments)},darken:function(){return this._applyModification(S,arguments)},desaturate:function(){return this._applyModification(g,arguments)},saturate:function(){return this._applyModification(y,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(C,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(R,arguments)},complement:function(){return this._applyCombination(k,arguments)},monochromatic:function(){return this._applyCombination(E,arguments)},splitcomplement:function(){return this._applyCombination(M,arguments)},triad:function(){return this._applyCombination(O,arguments)},tetrad:function(){return this._applyCombination(P,arguments)}},d.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:N(e[r]));e=n}return d(e,t)},d.equals=function(e,t){return!(!e||!t)&&d(e).toRgbString()==d(t).toRgbString()},d.random=function(){return d.fromRatio({r:f(),g:f(),b:f()})},d.mix=function(e,t,n){n=0===n?0:n||50;var r=d(e).toRgb(),o=d(t).toRgb(),i=n/100;return d({r:(o.r-r.r)*i+r.r,g:(o.g-r.g)*i+r.g,b:(o.b-r.b)*i+r.b,a:(o.a-r.a)*i+r.a})},d.readability=function(e,t){var n=d(e),r=d(t);return(o.max(n.getLuminance(),r.getLuminance())+.05)/(o.min(n.getLuminance(),r.getLuminance())+.05)},d.isReadable=function(e,t,n){var r,o,i=d.readability(e,t);switch(o=!1,(r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":o=i>=4.5;break;case"AAlarge":o=i>=3;break;case"AAAsmall":o=i>=7}return o},d.mostReadable=function(e,t,n){var r,o,i,a,s=null,c=0;o=(n=n||{}).includeFallbackColors,i=n.level,a=n.size;for(var l=0;l<t.length;l++)(r=d.readability(e,t[l]))>c&&(c=r,s=d(t[l]));return d.isReadable(e,s,{level:i,size:a})||!o?s:(n.includeFallbackColors=!1,d.mostReadable(e,["#fff","#000"],n))};var Z=d.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},j=d.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(Z);function D(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function T(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!=e.indexOf("%")}(e);return e=l(t,u(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),o.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function A(e){return l(1,u(0,e))}function _(e){return parseInt(e,16)}function I(e){return 1==e.length?"0"+e:""+e}function N(e){return e<=1&&(e=100*e+"%"),e}function L(e){return o.round(255*parseFloat(e)).toString(16)}function z(e){return _(e)/255}var F=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function U(e){return!!F.CSS_UNIT.exec(e)}e.exports?e.exports=d:void 0===(r=function(){return d}.call(t,n,t,e))||(e.exports=r)}(Math)},102:function(e){"use strict";var t=function(){};e.exports=t},25430:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return WP}});var r={};n.r(r),n.d(r,{FILE:function(){return Ct},TEXT:function(){return Ot},URL:function(){return kt}});var o=n(20193),i=n(15194),a=n(48533),s=n.n(a),c=n(58700),l=n(49182),u=n(39337),f=n(13987),d=n(29569),h=n(89306),p=n(44807),v=n(21840),m=n(30573),g=n(23568),y=n(27878),b=n(69744),w="dnd-core/INIT_COORDS",x="dnd-core/BEGIN_DRAG",S="dnd-core/PUBLISH_DRAG_SOURCE",C="dnd-core/HOVER",k="dnd-core/DROP",O="dnd-core/END_DRAG",P=function(e,t){return e===t};function M(e,t){return!e&&!t||!(!e||!t)&&(e.x===t.x&&e.y===t.y)}function R(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case w:case x:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case C:return M(e.clientOffset,n.clientOffset)?e:Z({},e,{clientOffset:n.clientOffset});case O:case k:return D;default:return e}}var A="dnd-core/ADD_SOURCE",_="dnd-core/ADD_TARGET",I="dnd-core/REMOVE_SOURCE",N="dnd-core/REMOVE_TARGET";function L(e){return(L="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t,n){return t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:n||null}),e)}function F(e,t){return e.filter((function(e){return e!==t}))}function U(e){return"object"===L(e)}function V(e,t){var n=new Map,r=function(e){return n.set(e,n.has(e)?n.get(e)+1:1)};e.forEach(r),t.forEach(r);var o=[];return n.forEach((function(e,t){1===e&&o.push(t)})),o}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case x:return H({},e,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case S:return H({},e,{isSourcePublic:!0});case C:return H({},e,{targetIds:n.targetIds});case N:return-1===e.targetIds.indexOf(n.targetId)?e:H({},e,{targetIds:F(e.targetIds,n.targetId)});case k:return H({},e,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case O:return H({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:case _:return e+1;case I:case N:return e-1;default:return e}}var Y=[],X=[];function $(e,t){return e!==Y&&(e===X||"undefined"===typeof t||(n=e,t.filter((function(e){return n.indexOf(e)>-1}))).length>0);var n}function J(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case C:break;case A:case _:case N:case I:return Y;case x:case S:case O:case k:default:return X}var t=e.payload,n=t.targetIds,r=void 0===n?[]:n,o=t.prevTargetIds,i=void 0===o?[]:o,a=V(r,i),s=a.length>0||!R(r,i);if(!s)return Y;var c=i[i.length-1],l=r[r.length-1];return c!==l&&(c&&a.push(c),l&&a.push(l)),a}function Q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e+1}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:J(e.dirtyHandlerIds,{type:t.type,payload:te({},t.payload,{prevTargetIds:z(e,"dragOperation.targetIds",[])})}),dragOffset:T(e.dragOffset,t),refCount:K(e.refCount,t),dragOperation:q(e.dragOperation,t),stateId:Q(e.stateId)}}function oe(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(!e){var i;if(void 0===t)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;(i=new Error(t.replace(/%s/g,(function(){return r[a++]})))).name="Invariant Violation"}throw i.framesToPop=1,i}}function ie(e,t){return{type:w,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}Y.__IS_NONE__=!0,X.__IS_ALL__=!0;var ae={type:w,payload:{clientOffset:null,sourceClientOffset:null}};function se(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0},r=n.publishSource,o=void 0===r||r,i=n.clientOffset,a=n.getSourceClientOffset,s=e.getMonitor(),c=e.getRegistry();e.dispatch(ie(i)),ce(t,s,c);var l=fe(t,s);if(null!==l){var u=null;i&&(le(a),u=a(l)),e.dispatch(ie(i,u));var f=c.getSource(l),d=f.beginDrag(s,l);ue(d),c.pinSource(l);var h=c.getSourceType(l);return{type:x,payload:{itemType:h,item:d,sourceId:l,clientOffset:i||null,sourceClientOffset:u||null,isSourcePublic:!!o}}}e.dispatch(ae)}}function ce(e,t,n){oe(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){oe(n.getSource(e),"Expected sourceIds to be registered.")}))}function le(e){oe("function"===typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}function ue(e){oe(U(e),"Item must be an object.")}function fe(e,t){for(var n=null,r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}function de(e){return function(){if(e.getMonitor().isDragging())return{type:S}}}function he(e,t){return null===t?null===e:Array.isArray(e)?e.some((function(e){return e===t})):e===t}function pe(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.clientOffset;ve(t);var o=t.slice(0),i=e.getMonitor(),a=e.getRegistry();me(o,i,a);var s=i.getItemType();return ge(o,a,s),ye(o,i,a),{type:C,payload:{targetIds:o,clientOffset:r||null}}}}function ve(e){oe(Array.isArray(e),"Expected targetIds to be an array.")}function me(e,t,n){oe(t.isDragging(),"Cannot call hover while not dragging."),oe(!t.didDrop(),"Cannot call hover after drop.");for(var r=0;r<e.length;r++){var o=e[r];oe(e.lastIndexOf(o)===r,"Expected targetIds to be unique in the passed array."),oe(n.getTarget(o),"Expected targetIds to be registered.")}}function ge(e,t,n){for(var r=e.length-1;r>=0;r--){var o=e[r];he(t.getTargetType(o),n)||e.splice(r,1)}}function ye(e,t,n){e.forEach((function(e){n.getTarget(e).hover(t,e)}))}function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Se(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.getMonitor(),r=e.getRegistry();Ce(n);var o=Oe(n);o.forEach((function(o,i){var a=ke(o,i,r,n),s={type:k,payload:{dropResult:we({},t,{},a)}};e.dispatch(s)}))}}function Ce(e){oe(e.isDragging(),"Cannot call drop while not dragging."),oe(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function ke(e,t,n,r){var o=n.getTarget(e),i=o?o.drop(r,e):void 0;return function(e){oe("undefined"===typeof e||U(e),"Drop result must either be an object or undefined.")}(i),"undefined"===typeof i&&(i=0===t?{}:r.getDropResult()),i}function Oe(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function Pe(e){return function(){var t=e.getMonitor(),n=e.getRegistry();!function(e){oe(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);var r=t.getSourceId();return n.getSource(r,!0).endDrag(t,r),n.unpinSource(),{type:O}}}function Me(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ee,Ze=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.registry=n}var t,n,r;return t=e,(n=[{key:"subscribeToStateChange",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handlerIds:void 0},r=n.handlerIds;oe("function"===typeof e,"listener must be a function."),oe("undefined"===typeof r||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");var o=this.store.getState().stateId,i=function(){var n=t.store.getState(),i=n.stateId;try{i===o||i===o+1&&!$(n.dirtyHandlerIds,r)||e()}finally{o=i}};return this.store.subscribe(i)}},{key:"subscribeToOffsetChange",value:function(e){var t=this;oe("function"===typeof e,"listener must be a function.");var n=this.store.getState().dragOffset;return this.store.subscribe((function(){var r=t.store.getState().dragOffset;r!==n&&(n=r,e())}))}},{key:"canDragSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e);return oe(t,"Expected to find a valid source."),!this.isDragging()&&t.canDrag(this,e)}},{key:"canDropOnTarget",value:function(e){if(!e)return!1;var t=this.registry.getTarget(e);return oe(t,"Expected to find a valid target."),!(!this.isDragging()||this.didDrop())&&he(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return oe(t,"Expected to find a valid source."),!(!this.isDragging()||!this.isSourcePublic())&&this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}},{key:"isOverTarget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1};if(!e)return!1;var n=t.shallow;if(!this.isDragging())return!1;var r=this.registry.getTargetType(e),o=this.getItemType();if(o&&!he(r,o))return!1;var i=this.getTargetIds();if(!i.length)return!1;var a=i.indexOf(e);return n?a===i.length-1:a>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return this.store.getState().dragOperation.isSourcePublic}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return function(e){var t,n,r=e.clientOffset,o=e.initialClientOffset,i=e.initialSourceClientOffset;return r&&o&&i?Me((n=i,{x:(t=r).x+n.x,y:t.y+n.y}),o):null}(this.store.getState().dragOffset)}},{key:"getDifferenceFromInitialOffset",value:function(){return function(e){var t=e.clientOffset,n=e.initialClientOffset;return t&&n?Me(t,n):null}(this.store.getState().dragOffset)}}])&&Re(t.prototype,n),r&&Re(t,r),e}(),je=0;function De(e){return(De="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e,t){t&&Array.isArray(e)?e.forEach((function(e){return Te(e,!1)})):oe("string"===typeof e||"symbol"===De(e),t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}function Ae(e){Ie.length||(_e(),!0),Ie[Ie.length]=e}!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(Ee||(Ee={}));var _e,Ie=[],Ne=0;function Le(){for(;Ne<Ie.length;){var e=Ne;if(Ne+=1,Ie[e].call(),Ne>1024){for(var t=0,n=Ie.length-Ne;t<n;t++)Ie[t]=Ie[t+Ne];Ie.length-=Ne,Ne=0}}Ie.length=0,Ne=0,!1}var ze="undefined"!==typeof n.g?n.g:self,Fe=ze.MutationObserver||ze.WebKitMutationObserver;function Ue(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}_e="function"===typeof Fe?function(e){var t=1,n=new Fe(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}(Le):Ue(Le),Ae.requestFlush=_e,Ae.makeRequestCallFromTimer=Ue;var Ve=[],Be=[],He=Ae.makeRequestCallFromTimer((function(){if(Be.length)throw Be.shift()}));function We(e){var t;(t=Ve.length?Ve.pop():new Ge).task=e,Ae(t)}var Ge=function(){function e(){}return e.prototype.call=function(){try{this.task.call()}catch(e){We.onerror?We.onerror(e):(Be.push(e),He())}finally{this.task=null,Ve[Ve.length]=this}},e}();function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ye(e){var t=(je++).toString();switch(e){case Ee.SOURCE:return"S".concat(t);case Ee.TARGET:return"T".concat(t);default:throw new Error("Unknown Handler Role: ".concat(e))}}function Xe(e){switch(e[0]){case"S":return Ee.SOURCE;case"T":return Ee.TARGET;default:oe(!1,"Cannot parse handler ID: ".concat(e))}}function $e(e,t){var n=e.entries(),r=!1;do{var o=n.next(),i=o.done;if(Ke(o.value,2)[1]===t)return!0;r=!!i}while(!r);return!1}var Je=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}var t,n,r;return t=e,(n=[{key:"addSource",value:function(e,t){Te(e),function(e){oe("function"===typeof e.canDrag,"Expected canDrag to be a function."),oe("function"===typeof e.beginDrag,"Expected beginDrag to be a function."),oe("function"===typeof e.endDrag,"Expected endDrag to be a function.")}(t);var n=this.addHandler(Ee.SOURCE,e,t);return this.store.dispatch(function(e){return{type:A,payload:{sourceId:e}}}(n)),n}},{key:"addTarget",value:function(e,t){Te(e,!0),function(e){oe("function"===typeof e.canDrop,"Expected canDrop to be a function."),oe("function"===typeof e.hover,"Expected hover to be a function."),oe("function"===typeof e.drop,"Expected beginDrag to be a function.")}(t);var n=this.addHandler(Ee.TARGET,e,t);return this.store.dispatch(function(e){return{type:_,payload:{targetId:e}}}(n)),n}},{key:"containsHandler",value:function(e){return $e(this.dragSources,e)||$e(this.dropTargets,e)}},{key:"getSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];oe(this.isSourceId(e),"Expected a valid source ID.");var n=t&&e===this.pinnedSourceId,r=n?this.pinnedSource:this.dragSources.get(e);return r}},{key:"getTarget",value:function(e){return oe(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}},{key:"getSourceType",value:function(e){return oe(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}},{key:"getTargetType",value:function(e){return oe(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}},{key:"isSourceId",value:function(e){return Xe(e)===Ee.SOURCE}},{key:"isTargetId",value:function(e){return Xe(e)===Ee.TARGET}},{key:"removeSource",value:function(e){var t=this;oe(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:I,payload:{sourceId:e}}}(e)),We((function(){t.dragSources.delete(e),t.types.delete(e)}))}},{key:"removeTarget",value:function(e){oe(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:N,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}},{key:"pinSource",value:function(e){var t=this.getSource(e);oe(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}},{key:"unpinSource",value:function(){oe(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(e,t,n){var r=Ye(e);return this.types.set(r,t),e===Ee.SOURCE?this.dragSources.set(r,n):e===Ee.TARGET&&this.dropTargets.set(r,n),r}}])&&qe(t.prototype,n),r&&qe(t,r),e}();function Qe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tt(e){var t="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return(0,b.MT)(re,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}var nt=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Qe(this,e),this.isSetUp=!1,this.handleRefCountChange=function(){var e=t.store.getState().refCount>0;t.backend&&(e&&!t.isSetUp?(t.backend.setup(),t.isSetUp=!0):!e&&t.isSetUp&&(t.backend.teardown(),t.isSetUp=!1))};var r=tt(n);this.store=r,this.monitor=new Ze(r,new Je(r)),r.subscribe(this.handleRefCountChange)}var t,n,r;return t=e,(n=[{key:"receiveBackend",value:function(e){this.backend=e}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var e=this,t=this.store.dispatch,n=function(e){return{beginDrag:se(e),publishDragSource:de(e),hover:pe(e),drop:Se(e),endDrag:Pe(e)}}(this);return Object.keys(n).reduce((function(r,o){var i,a=n[o];return r[o]=(i=a,function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var a=i.apply(e,r);"undefined"!==typeof a&&t(a)}),r}),{})}},{key:"dispatch",value:function(e){this.store.dispatch(e)}}])&&et(t.prototype,n),r&&et(t,r),e}();function rt(e,t,n,r){var o=new nt(r),i=e(o,t,n);return o.receiveBackend(i),o}var ot=y.createContext({dragDropManager:void 0});function it(e,t,n,r){return{dragDropManager:rt(e,t,n,r)}}function at(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function st(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var ct=0,lt=(0,y.memo)((function(e){var t=e.children,n=at(function(e){if("manager"in e){return[{dragDropManager:e.manager},!1]}var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ft(),n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=t;o[ut]||(o[ut]=it(e,t,n,r));return o[ut]}(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}(st(e,["children"])),2),r=n[0],o=n[1];return y.useEffect((function(){return o&&ct++,function(){o&&(0===--ct&&(ft()[ut]=null))}}),[]),y.createElement(ot.Provider,{value:r},t)}));lt.displayName="DndProvider";var ut=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");function ft(){return"undefined"!==typeof n.g?n.g:window}function dt(e){var t=null;return function(){return null==t&&(t=e()),t}}function ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var pt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.entered=[],this.isNodeInDocument=t}var t,n,r;return t=e,(n=[{key:"enter",value:function(e){var t=this,n=this.entered.length;return this.entered=function(e,t){var n=new Set,r=function(e){return n.add(e)};e.forEach(r),t.forEach(r);var o=[];return n.forEach((function(e){return o.push(e)})),o}(this.entered.filter((function(n){return t.isNodeInDocument(n)&&(!n.contains||n.contains(e))})),[e]),0===n&&this.entered.length>0}},{key:"leave",value:function(e){var t,n,r=this.entered.length;return this.entered=(t=this.entered.filter(this.isNodeInDocument),n=e,t.filter((function(e){return e!==n}))),r>0&&0===this.entered.length}},{key:"reset",value:function(){this.entered=[]}}])&&ht(t.prototype,n),r&&ht(t,r),e}(),vt=dt((function(){return/firefox/i.test(navigator.userAgent)})),mt=dt((function(){return Boolean(window.safari)}));function gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var yt=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=t.length,o=[],i=0;i<r;i++)o.push(i);o.sort((function(e,n){return t[e]<t[n]?-1:1}));for(var a,s,c=[],l=[],u=[],f=0;f<r-1;f++)a=t[f+1]-t[f],s=n[f+1]-n[f],l.push(a),c.push(s),u.push(s/a);for(var d=[u[0]],h=0;h<l.length-1;h++){var p=u[h],v=u[h+1];if(p*v<=0)d.push(0);else{a=l[h];var m=l[h+1],g=a+m;d.push(3*g/((g+m)/p+(g+a)/v))}}d.push(u[u.length-1]);for(var y,b=[],w=[],x=0;x<d.length-1;x++){y=u[x];var S=d[x],C=1/l[x],k=S+d[x+1]-y-y;b.push((y-S-k)*C),w.push(k*C*C)}this.xs=t,this.ys=n,this.c1s=d,this.c2s=b,this.c3s=w}var t,n,r;return t=e,(n=[{key:"interpolate",value:function(e){var t=this.xs,n=this.ys,r=this.c1s,o=this.c2s,i=this.c3s,a=t.length-1;if(e===t[a])return n[a];for(var s,c=0,l=i.length-1;c<=l;){var u=t[s=Math.floor(.5*(c+l))];if(u<e)c=s+1;else{if(!(u>e))return n[s];l=s-1}}var f=e-t[a=Math.max(0,l)],d=f*f;return n[a]+r[a]*f+o[a]*d+i[a]*f*d}}])&&gt(t.prototype,n),r&&gt(t,r),e}();function bt(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),r=n.top;return{x:n.left,y:r}}function wt(e){return{x:e.clientX,y:e.clientY}}function xt(e,t,n,r,o){var i=function(e){var t;return"IMG"===e.nodeName&&(vt()||!(null===(t=document.documentElement)||void 0===t?void 0:t.contains(e)))}(t),a=bt(i?e:t),s={x:n.x-a.x,y:n.y-a.y},c=e.offsetWidth,l=e.offsetHeight,u=r.anchorX,f=r.anchorY,d=function(e,t,n,r){var o=e?t.width:n,i=e?t.height:r;return mt()&&e&&(i/=window.devicePixelRatio,o/=window.devicePixelRatio),{dragPreviewWidth:o,dragPreviewHeight:i}}(i,t,c,l),h=d.dragPreviewWidth,p=d.dragPreviewHeight,v=o.offsetX,m=o.offsetY,g=0===m||m;return{x:0===v||v?v:new yt([0,.5,1],[s.x,s.x/c*h,s.x+h-c]).interpolate(u),y:g?m:function(){var e=new yt([0,.5,1],[s.y,s.y/l*p,s.y+p-l]).interpolate(f);return mt()&&i&&(e+=(window.devicePixelRatio-1)*p),e}()}}var St,Ct="__NATIVE_FILE__",kt="__NATIVE_URL__",Ot="__NATIVE_TEXT__";function Pt(e,t,n){var r=t.reduce((function(t,n){return t||e.getData(n)}),"");return null!=r?r:n}function Mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rt=(Mt(St={},Ct,{exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items}},matchesTypes:["Files"]}),Mt(St,kt,{exposeProperties:{urls:function(e,t){return Pt(e,t,"").split("\n")}},matchesTypes:["Url","text/uri-list"]}),Mt(St,Ot,{exposeProperties:{text:function(e,t){return Pt(e,t,"")}},matchesTypes:["Text","text/plain"]}),St);function Et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Zt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.item={},this.initializeExposedProperties()}var t,n,r;return t=e,(n=[{key:"initializeExposedProperties",value:function(){var e=this;Object.keys(this.config.exposeProperties).forEach((function(t){Object.defineProperty(e.item,t,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \"".concat(t,'" until the drop event.')),null}})}))}},{key:"loadDataTransfer",value:function(e){var t=this;if(e){var n={};Object.keys(this.config.exposeProperties).forEach((function(r){n[r]={value:t.config.exposeProperties[r](e,t.config.matchesTypes),configurable:!0,enumerable:!0}})),Object.defineProperties(this.item,n)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}])&&Et(t.prototype,n),r&&Et(t,r),e}();function jt(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(Rt).filter((function(e){return Rt[e].matchesTypes.some((function(e){return t.indexOf(e)>-1}))}))[0]||null}function Dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Tt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.globalContext=t}var t,n,r;return t=e,(n=[{key:"window",get:function(){return this.globalContext?this.globalContext:"undefined"!==typeof window?window:void 0}},{key:"document",get:function(){if(this.window)return this.window.document}}])&&Dt(t.prototype,n),r&&Dt(t,r),e}();function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?At(Object(n),!0).forEach((function(t){It(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function It(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Lt=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.getSourceClientOffset=function(e){var t=r.sourceNodes.get(e);return t&&bt(t)||null},this.endDragNativeItem=function(){r.isDraggingNativeItem()&&(r.actions.endDrag(),r.currentNativeHandle&&r.registry.removeSource(r.currentNativeHandle),r.currentNativeHandle=null,r.currentNativeSource=null)},this.isNodeInDocument=function(e){return Boolean(e&&r.document&&r.document.body&&document.body.contains(e))},this.endDragIfSourceWasRemovedFromDOM=function(){var e=r.currentDragSourceNode;r.isNodeInDocument(e)||r.clearCurrentDragSourceNode()&&r.actions.endDrag()},this.handleTopDragStartCapture=function(){r.clearCurrentDragSourceNode(),r.dragStartSourceIds=[]},this.handleTopDragStart=function(e){if(!e.defaultPrevented){var t=r.dragStartSourceIds;r.dragStartSourceIds=null;var n=wt(e);r.monitor.isDragging()&&r.actions.endDrag(),r.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:r.getSourceClientOffset,clientOffset:n});var o=e.dataTransfer,i=jt(o);if(r.monitor.isDragging()){if(o&&"function"===typeof o.setDragImage){var a=r.monitor.getSourceId(),s=r.sourceNodes.get(a),c=r.sourcePreviewNodes.get(a)||s;if(c){var l=r.getCurrentSourcePreviewNodeOptions(),u=xt(s,c,n,{anchorX:l.anchorX,anchorY:l.anchorY},{offsetX:l.offsetX,offsetY:l.offsetY});o.setDragImage(c,u.x,u.y)}}try{null===o||void 0===o||o.setData("application/json",{})}catch(f){}r.setCurrentDragSourceNode(e.target),r.getCurrentSourcePreviewNodeOptions().captureDraggingState?r.actions.publishDragSource():setTimeout((function(){return r.actions.publishDragSource()}),0)}else if(i)r.beginDragNativeItem(i);else{if(o&&!o.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}}},this.handleTopDragEndCapture=function(){r.clearCurrentDragSourceNode()&&r.actions.endDrag()},this.handleTopDragEnterCapture=function(e){if(r.dragEnterTargetIds=[],r.enterLeaveCounter.enter(e.target)&&!r.monitor.isDragging()){var t=e.dataTransfer,n=jt(t);n&&r.beginDragNativeItem(n,t)}},this.handleTopDragEnter=function(e){var t=r.dragEnterTargetIds;(r.dragEnterTargetIds=[],r.monitor.isDragging())&&(r.altKeyPressed=e.altKey,vt()||r.actions.hover(t,{clientOffset:wt(e)}),t.some((function(e){return r.monitor.canDropOnTarget(e)}))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=r.getCurrentDropEffect())))},this.handleTopDragOverCapture=function(){r.dragOverTargetIds=[]},this.handleTopDragOver=function(e){var t=r.dragOverTargetIds;if(r.dragOverTargetIds=[],!r.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));r.altKeyPressed=e.altKey,r.actions.hover(t||[],{clientOffset:wt(e)}),(t||[]).some((function(e){return r.monitor.canDropOnTarget(e)}))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=r.getCurrentDropEffect())):r.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=function(e){r.isDraggingNativeItem()&&e.preventDefault(),r.enterLeaveCounter.leave(e.target)&&r.isDraggingNativeItem()&&r.endDragNativeItem()},this.handleTopDropCapture=function(e){var t;(r.dropTargetIds=[],e.preventDefault(),r.isDraggingNativeItem())&&(null===(t=r.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer));r.enterLeaveCounter.reset()},this.handleTopDrop=function(e){var t=r.dropTargetIds;r.dropTargetIds=[],r.actions.hover(t,{clientOffset:wt(e)}),r.actions.drop({dropEffect:r.getCurrentDropEffect()}),r.isDraggingNativeItem()?r.endDragNativeItem():r.endDragIfSourceWasRemovedFromDOM()},this.handleSelectStart=function(e){var t=e.target;"function"===typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.options=new Tt(n),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new pt(this.isNodeInDocument)}var t,n,o;return t=e,(n=[{key:"profile",value:function(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}},{key:"setup",value:function(){if(void 0!==this.window){if(this.window.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");this.window.__isReactDndBackendSetUp=!0,this.addEventListeners(this.window)}}},{key:"teardown",value:function(){void 0!==this.window&&(this.window.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.window),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&this.window.cancelAnimationFrame(this.asyncEndDragFrameId))}},{key:"connectDragPreview",value:function(e,t,n){var r=this;return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),function(){r.sourcePreviewNodes.delete(e),r.sourcePreviewNodeOptions.delete(e)}}},{key:"connectDragSource",value:function(e,t,n){var r=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);var o=function(t){return r.handleDragStart(t,e)},i=function(e){return r.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",o),t.addEventListener("selectstart",i),function(){r.sourceNodes.delete(e),r.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",o),t.removeEventListener("selectstart",i),t.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(e,t){var n=this,r=function(t){return n.handleDragEnter(t,e)},o=function(t){return n.handleDragOver(t,e)},i=function(t){return n.handleDrop(t,e)};return t.addEventListener("dragenter",r),t.addEventListener("dragover",o),t.addEventListener("drop",i),function(){t.removeEventListener("dragenter",r),t.removeEventListener("dragover",o),t.removeEventListener("drop",i)}}},{key:"addEventListeners",value:function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return _t({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var e=this.monitor.getSourceId();return _t({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}},{key:"isDraggingNativeItem",value:function(){var e=this.monitor.getItemType();return Object.keys(r).some((function(t){return r[t]===e}))}},{key:"beginDragNativeItem",value:function(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){var n=new Zt(Rt[e]);return n.loadDataTransfer(t),n}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout((function(){return t.window&&t.window.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}},{key:"clearCurrentDragSourceNode",value:function(){return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.window&&(this.window.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)}},{key:"handleDragStart",value:function(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}},{key:"handleDragEnter",value:function(e,t){this.dragEnterTargetIds.unshift(t)}},{key:"handleDragOver",value:function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}},{key:"handleDrop",value:function(e,t){this.dropTargetIds.unshift(t)}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}}])&&Nt(t.prototype,n),o&&Nt(t,o),e}(),zt=function(e,t){return new Lt(e,t)},Ft=n(43449),Ut=n.n(Ft),Vt=n(98538),Bt=JSON.parse('{"version":4,"root":"2266BED7-6CC4-48A6-95DD-9BCD3CF9EAFC","metadata":{"name":"Crater"},"entities":{"2266BED7-6CC4-48A6-95DD-9BCD3CF9EAFC":{"name":"Crater"},"E8D3129B-68BF-473F-92B9-6DAEC83514BB":{"name":"Skybox","components":[{"name":"transform","props":{"position":{"x":0,"y":0,"z":0},"rotation":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1}}},{"name":"visible","props":{"visible":true}},{"name":"skybox","props":{"turbidity":6.09,"rayleigh":0.82,"luminance":1.055,"mieCoefficient":0.043,"mieDirectionalG":0.8,"inclination":0.10471975511965978,"azimuth":0.2333333333333333,"distance":8000}}],"parent":"2266BED7-6CC4-48A6-95DD-9BCD3CF9EAFC","index":0},"D8061EA5-F0C4-4452-ADFE-B179E2F20CB1":{"name":"Directional Light","components":[{"name":"transform","props":{"position":{"x":-1,"y":3,"z":0},"rotation":{"x":1.0256860445560714,"y":0.3490658503988659,"z":-0.4417643021697627},"scale":{"x":0.9999999999999996,"y":0.9999999999999998,"z":0.9999999999999997}}},{"name":"visible","props":{"visible":true}},{"name":"directional-light","props":{"color":"#ffffff","intensity":3,"castShadow":true,"shadowMapResolution":[1024,1024],"shadowBias":-0.000030000000000000004,"shadowRadius":1}}],"parent":"2266BED7-6CC4-48A6-95DD-9BCD3CF9EAFC","index":1},"633CD01A-BC2A-4584-99E2-2A3CFE2C8AD9":{"name":"Spawn Point","components":[{"name":"transform","props":{"position":{"x":2,"y":0,"z":2},"rotation":{"x":3.141592653589793,"y":-0.7853981633974483,"z":3.141592653589793},"scale":{"x":1,"y":1,"z":1}}},{"name":"visible","props":{"visible":true}},{"name":"spawn-point","props":{}}],"parent":"2266BED7-6CC4-48A6-95DD-9BCD3CF9EAFC","index":2},"2D490729-384D-49AF-A755-9D6F70D56325":{"name":"Floor Plan","components":[{"name":"transform","props":{"position":{"x":0,"y":0.005,"z":0},"rotation":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1}}},{"name":"visible","props":{"visible":true}},{"name":"floor-plan","props":{"autoCellSize":false,"cellSize":0.1200000000000001,"cellHeight":0.1,"agentHeight":1.7,"agentRadius":0.19999999999999996,"agentMaxClimb":0.5,"agentMaxSlope":60,"regionMinSize":4,"maxTriangles":1000,"forceTrimesh":false}}],"parent":"2266BED7-6CC4-48A6-95DD-9BCD3CF9EAFC","index":3}}}'),Ht=JSON.parse('{"version":4,"root":"2266BED7-6CC4-48A6-95DD-9BCD3CF9EAFC","metadata":{"name":"Crater"},"entities":{"2266BED7-6CC4-48A6-95DD-9BCD3CF9EAFC":{"name":"Crater"},"E8D3129B-68BF-473F-92B9-6DAEC83514BB":{"name":"Skybox","components":[{"name":"transform","props":{"position":{"x":0,"y":0,"z":0},"rotation":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1}}},{"name":"visible","props":{"visible":true}},{"name":"skybox","props":{"turbidity":6.09,"rayleigh":0.82,"luminance":1.055,"mieCoefficient":0.043,"mieDirectionalG":0.8,"inclination":0.10471975511965978,"azimuth":0.2333333333333333,"distance":8000}}],"parent":"2266BED7-6CC4-48A6-95DD-9BCD3CF9EAFC","index":0},"D8061EA5-F0C4-4452-ADFE-B179E2F20CB1":{"name":"Directional Light","components":[{"name":"transform","props":{"position":{"x":-1,"y":3,"z":0},"rotation":{"x":1.0256860445560714,"y":0.3490658503988659,"z":-0.4417643021697627},"scale":{"x":0.9999999999999996,"y":0.9999999999999998,"z":0.9999999999999997}}},{"name":"visible","props":{"visible":true}},{"name":"directional-light","props":{"color":"#ffffff","intensity":3,"castShadow":true,"shadowMapResolution":[512,512],"shadowBias":0,"shadowRadius":1}}],"parent":"2266BED7-6CC4-48A6-95DD-9BCD3CF9EAFC","index":1},"633CD01A-BC2A-4584-99E2-2A3CFE2C8AD9":{"name":"Spawn Point","components":[{"name":"transform","props":{"position":{"x":2,"y":0,"z":2},"rotation":{"x":3.141592653589793,"y":-0.7853981633974483,"z":3.141592653589793},"scale":{"x":1,"y":1,"z":1}}},{"name":"visible","props":{"visible":true}},{"name":"spawn-point","props":{}}],"parent":"2266BED7-6CC4-48A6-95DD-9BCD3CF9EAFC","index":2},"2D490729-384D-49AF-A755-9D6F70D56325":{"name":"Floor Plan","components":[{"name":"transform","props":{"position":{"x":0,"y":0.005,"z":0},"rotation":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1}}},{"name":"visible","props":{"visible":true}},{"name":"floor-plan","props":{"autoCellSize":false,"cellSize":0.1200000000000001,"cellHeight":0.1,"agentHeight":1.7,"agentRadius":0.19999999999999996,"agentMaxClimb":0.5,"agentMaxSlope":60,"regionMinSize":4,"maxTriangles":1000,"forceTrimesh":false}}],"parent":"2266BED7-6CC4-48A6-95DD-9BCD3CF9EAFC","index":3}}}'),Wt=n(12761),Gt=n(26739),qt=y.createElement,Kt=y.createContext({showDialog:function(e,t){},hideDialog:function(){}}),Yt=Kt.Provider;var Xt=y.createElement,$t=y.createContext(null),Jt=$t.Provider;var Qt=y.createElement,en={},tn=y.createContext({settings:en,updateSetting:function(){}}),nn=tn.Provider;var rn=n(36707),on=y.createElement;function an(e){var t=e.message;return on(rn.Z,e,t)}an.defaultProps={title:"Confirm",message:"Confirm action?"};var sn=n(11742),cn=y.createElement;function ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function un(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}function fn(){var e=(0,p.Z)(["\n  white-space: pre-wrap;\n  overflow-wrap: break-word;\n  overflow-x: hidden;\n  overflow-y: auto;\n  padding: 16px;\n  color: ",";\n"]);return fn=function(){return e},e}function dn(){var e=(0,p.Z)(["\n  max-width: 600px;\n\n  "," {\n    padding: 0;\n  }\n"]);return dn=function(){return e},e}var hn=(0,Vt.ZP)(rn.Z)(dn(),rn.c),pn=Vt.ZP.code(fn(),(function(e){return e.theme.red})),vn=function(e){(0,f.Z)(n,e);var t=un(n);function n(){var e;return(0,l.Z)(this,n),(e=t.apply(this,arguments)).state={eventId:null},e}return(0,u.Z)(n,[{key:"componentDidMount",value:function(){var e;this.props.error&&this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ln(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},null!==(e=this.props.eventId)&&void 0!==e?e:null))}},{key:"render",value:function(){var e=this.props,t=(e.error,e.message),n=(e.onCancel,(0,sn.Z)(e,["error","message","onCancel"]));return cn(hn,n,cn(pn,null,t))}}]),n}(y.Component),mn=n(78158),gn=n(69867),yn=y.createElement;function bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bn(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xn(){var e=(0,p.Z)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n"]);return xn=function(){return e},e}var Sn=Vt.ZP.div(xn());function Cn(e){var t=e.defaultOptions,n=e.onConfirm,r=e.onCancel,o=(0,y.useState)(t),i=o[0],a=o[1],s=(0,y.useCallback)((function(e){a(wn(wn({},i),{},{combineMeshes:e}))}),[i,a]),c=(0,y.useCallback)((function(e){a(wn(wn({},i),{},{removeUnusedObjects:e}))}),[i,a]),l=(0,y.useCallback)((function(e){e.preventDefault(),n(i)}),[i,n]),u=(0,y.useCallback)((function(e){e.preventDefault(),r()}),[r]);return yn(rn.Z,{title:"Export Project",onConfirm:l,onCancel:u,confirmLabel:"Export Project"},yn(Sn,null,yn(gn.Z,null,yn("label",{htmlFor:"combineMeshes"},"Combine Meshes"),yn(mn.Z,{id:"combineMeshes",value:i.combineMeshes,onChange:s})),yn(gn.Z,null,yn("label",{htmlFor:"removeUnusedObjects"},"Remove Unused Objects"),yn(mn.Z,{id:"removeUnusedObjects",value:i.removeUnusedObjects,onChange:c}))))}var kn=n(39956),On=n(22400),Pn=n(4314),Mn=y.createElement;function Rn(e){var t=e.thumbnailUrl,n=e.initialName,r=e.onConfirm,o=e.onCancel,i=(0,y.useState)(n),a=i[0],s=i[1],c=(0,y.useCallback)((function(e){s(e)}),[s]),l=(0,y.useCallback)((function(e){e.preventDefault(),r({name:a})}),[a,r]),u=(0,y.useCallback)((function(e){e.preventDefault(),o()}),[o]);return Mn(Pn.Z,{imageSrc:t,title:"Save Project",onConfirm:l,onCancel:u,confirmLabel:"Save Project"},Mn(gn.Z,null,Mn("label",{htmlFor:"name"},"Project Name"),Mn(On.Z,{id:"name",required:!0,pattern:"[A-Za-z0-9-':\"!@#$%^&*(),.?~ ]{4,64}",title:"Name must be between 4 and 64 characters and cannot contain underscores",value:a,onChange:c})))}function En(){var e=(0,y.useContext)(ot).dragDropManager;return oe(null!=e,"Expected drag drop context"),e}function Zn(e,t,n,r){var o=n?n.call(r,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),c=0;c<i.length;c++){var l=i[c];if(!s(l))return!1;var u=e[l],f=t[l];if(!1===(o=n?n.call(r,u,f,l):void 0)||void 0===o&&u!==f)return!1}return!0}var jn="undefined"!==typeof window?y.useLayoutEffect:y.useEffect;function Dn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Tn(e,t,n){var r=Dn((0,y.useState)((function(){return t(e)})),2),o=r[0],i=r[1],a=(0,y.useCallback)((function(){var r=t(e);Zn(o,r)||(i(r),n&&n())}),[o,e,n]);return jn(a,[]),[o,a]}function An(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var _n={File:Ct,Node:"Node",Model:"Model",Image:"Image",Video:"Video",Audio:"Audio",Volumetric:"Volumetric",Element:"Element"},In=[_n.Model,_n.Image,_n.Video,_n.Audio,_n.Volumetric,_n.Element];function Nn(e){return-1!==In.indexOf(e.type)}function Ln(e,t,n,r){if(Nn(t)){var o=t.value,i=o.nodeClass,a=o.initialProps,s=new i(e);return a&&Object.assign(s,a),e.addObject(s,n,r),!0}return!1}var zn=y.createElement;function Fn(){var e=(0,p.Z)(["\n  background-color: ",";\n  opacity: 0.3;\n  color: ",";\n  padding: 4px;\n  border-radius: 4px;\n  display: inline-block;\n"]);return Fn=function(){return e},e}function Un(){var e=(0,p.Z)(["\n  position: fixed;\n  pointer-events: none;\n  z-index: 99999;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n"]);return Un=function(){return e},e}var Vn=Vt.ZP.div(Un()),Bn=Vt.ZP.div.attrs((function(e){return{style:{transform:"translate(".concat(e.offset.x,"px, ").concat(e.offset.y,"px)")}}}))(Fn(),(function(e){return e.theme.blue}),(function(e){return e.theme.text}));function Hn(){var e,t=function(e){var t=En().getMonitor(),n=An(Tn(t,e),2),r=n[0],o=n[1];return(0,y.useEffect)((function(){return t.subscribeToOffsetChange(o)})),(0,y.useEffect)((function(){return t.subscribeToStateChange(o)})),r}((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getClientOffset(),isDragging:e.isDragging()}})),n=t.item,r=t.itemType,o=t.currentOffset;return t.isDragging&&o?(e=r===_n.Node?n.multiple?zn("div",null,"".concat(n.value.length," Nodes Selected")):zn("div",null,n.value.name):r===_n.Model?n.multiple?zn("div",null,"".concat(n.value.length," Models Selected")):zn("div",null,n.value.label):r===_n.Image?n.multiple?zn("div",null,"".concat(n.value.length," Images Selected")):zn("div",null,n.value.label):r===_n.Video?n.multiple?zn("div",null,"".concat(n.value.length," Videos Selected")):zn("div",null,n.value.label):r===_n.Audio?n.multiple?zn("div",null,"".concat(n.value.length," Audio Sources Selected")):zn("div",null,n.value.label):zn("div",null,n.type),zn(Vn,null,zn(Bn,{offset:o},e))):null}var Wn=n(64414),Gn=n(94780),qn=n(42828),Kn=n(60645),Yn=n(36595);function Xn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var $n=function(e){(0,f.Z)(n,e);var t=Xn(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"onRegister",value:function(){var e=this;this.exporter.addHook("addMaterialProperties",(function(){return!0}),(function(t,n){t.lightMap&&(n.extensions.XR3_lightmap={index:e.exporter.processTexture(t.lightMap),texCoord:1,intensity:t.lightMapIntensity},e.exporter.extensionsUsed.XR3_lightmap=!0)}))}}]),n}(function(){function e(t,n){(0,l.Z)(this,e),this.exporter=t,this.options=n}return(0,u.Z)(e,[{key:"onRegister",value:function(){}}]),e}());function Jn(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Qn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qn(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var er=0,tr=1,nr=2,rr=3,or=4,ir=5121,ar=5123,sr=5126,cr=5125,lr=34962,ur=34963,fr=9728,dr=9729,hr=9984,pr=9985,vr=9986,mr=9987,gr=33071,yr=33648,br=10497,wr={};wr[Yn.TyD]=fr,wr[Yn.HTd]=hr,wr[Yn.vZf]=vr,wr[Yn.wem]=dr,wr[Yn.lRj]=pr,wr[Yn.FDw]=mr,wr[Yn.uWy]=gr,wr[Yn.rpg]=br,wr[Yn.OoA]=yr;var xr={scale:"scale",position:"translation",quaternion:"rotation",morphTargetInfluences:"weights"},Sr={mode:"glb",trs:!0,onlyVisible:!0,truncateDrawRange:!0,animations:[],forceIndices:!1,forcePowerOfTwoTextures:!1,includeCustomExtensions:!1},Cr=function(){function e(t){(0,l.Z)(this,e),this.options=Object.assign({},Sr,t),this.options.animations.length>0&&(this.options.trs=!0),this.outputJSON={asset:{version:"2.0",generator:"GLTFExporter"}},this.outputBuffers=[],this.outputImages=[],this.byteOffset=0,this.buffers=[],this.pending=[],this.nodeMap=new Map,this.skins=[],this.extensionsUsed={},this.cachedData={meshes:new Map,attributes:new Map,attributesRelative:new Map,attributesNormalized:new Map,materials:new Map,textures:new Map,images:new Map},this.cachedCanvas=null,this.uids=new Map,this.uid=0,this.extensions=[],this.hooks=[],this.registerExtension($n)}return(0,u.Z)(e,[{key:"registerExtension",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new e(this,t);this.extensions.push(n),n.onRegister()}},{key:"addHook",value:function(e,t,n){var r=this.hooks[e];r||(r=this.hooks[e]=[]),r.push({test:t,callback:n})}},{key:"runFirstHook",value:function(){var e=(0,c.Z)(s().mark((function e(t){var n,r,o,i,a,c,l,u,f,d=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.hooks[t])){e.next=20;break}for(r=d.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=d[i];a=Jn(n),e.prev=4,a.s();case 6:if((c=a.n()).done){e.next=12;break}if(l=c.value,u=l.test,f=l.callback,!u.apply(void 0,o)){e.next=10;break}return e.abrupt("return",f.apply(void 0,o));case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),a.e(e.t0);case 17:return e.prev=17,a.f(),e.finish(17);case 20:return e.abrupt("return",void 0);case 21:case"end":return e.stop()}}),e,this,[[4,14,17,20]])})));return function(t){return e.apply(this,arguments)}}()},{key:"runAllHooks",value:function(){var e=(0,c.Z)(s().mark((function e(t){var n,r,o,i,a,c,l,u,f,d,h=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.hooks[t],r=[],n){for(o=h.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=h[a];c=Jn(n);try{for(c.s();!(l=c.n()).done;)u=l.value,f=u.test,d=u.callback,f.apply(void 0,i)&&r.push(d.apply(void 0,i))}catch(s){c.e(s)}finally{c.f()}}return e.abrupt("return",Promise.all(r));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUID",value:function(e){return this.uids.has(e)||this.uids.set(e,this.uid++),this.uids.get(e)}},{key:"isNormalizedNormalAttribute",value:function(e){if(this.cachedData.attributesNormalized.has(e))return!1;for(var t=new Yn.Pa4,n=0,r=e.count;n<r;n++)if(Math.abs(t.fromArray(e.array,3*n).length()-1)>5e-4)return!1;return!0}},{key:"createNormalizedNormalAttribute",value:function(e){if(this.cachedData.attributesNormalized.has(e))return this.cachedData.attributesNormalized.get(e);for(var t=e.clone(),n=new Yn.Pa4,r=0,o=t.count;r<o;r++)n.fromArray(t.array,3*r),0===n.x&&0===n.y&&0===n.z?n.setX(1):n.normalize(),n.toArray(t.array,3*r);return this.cachedData.attributesNormalized.set(e,t),t}},{key:"serializeUserData",value:function(e,t){if(0!==Object.keys(e.userData).length)try{var n=this.serializeUserDataProperty(e.userData);if(this.options.includeCustomExtensions&&n.gltfExtensions){void 0===t.extensions&&(t.extensions={});var r=n.gltfExtensions;for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t.extensions[o]=n.gltfExtensions[o],this.extensionsUsed[o]=!0);delete n.gltfExtensions}Object.keys(n).length>0&&(t.extras=n)}catch(i){console.warn("THREE.GLTFExporter: userData of '"+e.name+"' won't be serialized because of an error - "+i.message)}}},{key:"serializeUserDataProperty",value:function(e){var t=this;if(e instanceof Yn.F5T)return this.processMaterial(e);if(e instanceof Yn.Tme)return this.processNode(e);if(e instanceof Yn.xEZ)return this.processTexture(e);if(e instanceof HTMLImageElement)return this.processImage(e);if(Array.isArray(e))return e.map((function(e){return t.serializeUserDataProperty(e)}));if("object"==typeof e&&null!==e){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=this.serializeUserDataProperty(e[r]));return n}return e}},{key:"applyTextureTransform",value:function(e,t){var n=!1,r={};0===t.offset.x&&0===t.offset.y||(r.offset=t.offset.toArray(),n=!0),0!==t.rotation&&(r.rotation=t.rotation,n=!0),1===t.repeat.x&&1===t.repeat.y||(r.scale=t.repeat.toArray(),n=!0),n&&(e.extensions=e.extensions||{},e.extensions.KHR_texture_transform=r,this.extensionsUsed.KHR_texture_transform=!0)}},{key:"processBuffer",value:function(e){return this.outputJSON.buffers||(this.outputJSON.buffers=[{byteLength:0}]),this.buffers.push(e),0}},{key:"processBufferView",value:function(t,n,r,o,i){var a;this.outputJSON.bufferViews||(this.outputJSON.bufferViews=[]),a=n===ir?1:n===ar?2:4;for(var s=e.Utils.getPaddedBufferSize(o*t.itemSize*a),c=new DataView(new ArrayBuffer(s)),l=0,u=r;u<r+o;u++)for(var f=0;f<t.itemSize;f++){var d=t.array[u*t.itemSize+f];n===sr?c.setFloat32(l,d,!0):n===cr?c.setUint32(l,d,!0):n===ar?c.setUint16(l,d,!0):n===ir&&c.setUint8(l,d),l+=a}var h={buffer:this.processBuffer(c.buffer),byteOffset:this.byteOffset,byteLength:s};return void 0!==i&&(h.target=i),i===lr&&(h.byteStride=t.itemSize*a),this.byteOffset+=s,this.outputJSON.bufferViews.push(h),{id:this.outputJSON.bufferViews.length-1,byteLength:0}}},{key:"processBufferViewImage",value:function(t){var n=this;return this.outputJSON.bufferViews||(this.outputJSON.bufferViews=[]),new Promise((function(r){var o=new window.FileReader;o.readAsArrayBuffer(t),o.onloadend=function(){var t=e.Utils.getPaddedArrayBuffer(o.result),i={buffer:n.processBuffer(t),byteOffset:n.byteOffset,byteLength:t.byteLength};n.byteOffset+=t.byteLength,n.outputJSON.bufferViews.push(i),r(n.outputJSON.bufferViews.length-1)}}))}},{key:"processAccessor",value:function(t,n,r,o){var i;if(t.array.constructor===Float32Array)i=sr;else if(t.array.constructor===Uint32Array)i=cr;else if(t.array.constructor===Uint16Array)i=ar;else{if(t.array.constructor!==Uint8Array)throw new Error("THREE.GLTFExporter: Unsupported bufferAttribute component type.");i=ir}if(void 0===r&&(r=0),void 0===o&&(o=t.count),this.options.truncateDrawRange&&void 0!==n&&null===n.index){var a=r+o,s=n.drawRange.count===1/0?t.count:n.drawRange.start+n.drawRange.count;r=Math.max(r,n.drawRange.start),(o=Math.min(a,s)-r)<0&&(o=0)}if(0===o)return null;var c,l=e.Utils.getMinMax(t,r,o);void 0!==n&&(c=t===n.index?ur:lr);var u=this.processBufferView(t,i,r,o,c),f={bufferView:u.id,byteOffset:u.byteOffset,componentType:i,count:o,max:l.max,min:l.min,type:{1:"SCALAR",2:"VEC2",3:"VEC3",4:"VEC4",16:"MAT4"}[t.itemSize],normalized:t.normalized};return this.outputJSON.accessors||(this.outputJSON.accessors=[]),this.outputJSON.accessors.push(f),this.outputJSON.accessors.length-1}},{key:"transformImage",value:function(){var t=(0,c.Z)(s().mark((function t(n,r,o){var i,a,c,l,u,f;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((i=this.options.forcePowerOfTwoTextures&&!e.Utils.isPowerOfTwo(n))||o){t.next=9;break}return t.next=4,fetch(n.src);case 4:return a=t.sent,t.next=7,a.blob();case 7:return c=t.sent,t.abrupt("return",{blob:c,src:n.src,width:n.width,height:n.height});case 9:return(l=this.cachedCanvas=this.cachedCanvas||document.createElement("canvas")).width=n.width,l.height=n.height,i&&(console.warn("GLTFExporter: Resized non-power-of-two image.",n),l.width=Yn.M8C.floorPowerOfTwo(l.width),l.height=Yn.M8C.floorPowerOfTwo(l.height)),u=l.getContext("2d"),!0===o&&(u.translate(0,l.height),u.scale(1,-1)),u.drawImage(n,0,0,l.width,l.height),t.next=18,new Promise((function(e){return l.toBlob(e,r)}));case 18:return f=t.sent,t.abrupt("return",{blob:f,src:n.src,width:l.width,height:l.height});case 20:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"processImage",value:function(t,n,r,o,i){var a=this;this.cachedData.images.has(t)||this.cachedData.images.set(t,{});var l=this.cachedData.images.get(t),u=n===Yn.wk1||r?"image/png":"image/jpeg",f=u+":flipY/"+o.toString();if(void 0!==l[f])return l[f];this.outputJSON.images||(this.outputJSON.images=[]);var d={mimeType:u};i&&(d.name=i);var h=this.outputJSON.images.length;if("glb"===this.options.mode)this.pending.push(this.transformImage(t,u,o).then(function(){var e=(0,c.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.processBufferViewImage(t.blob);case 2:d.bufferView=e.sent,a.outputImages[h]=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));else{var p=e.Utils.getFileNameFromUri(t.src),v="image/png"===u?".png":".jpg";d.uri=p+h+v,this.pending.push(this.transformImage(t,u,o).then((function(e){return a.outputImages[h]=e})))}return this.outputJSON.images.push(d),l[f]=h,h}},{key:"processSampler",value:function(e){this.outputJSON.samplers||(this.outputJSON.samplers=[]);var t={magFilter:wr[e.magFilter],minFilter:wr[e.minFilter],wrapS:wr[e.wrapS],wrapT:wr[e.wrapT]};return this.outputJSON.samplers.push(t),this.outputJSON.samplers.length-1}},{key:"processTexture",value:function(e,t){if(this.cachedData.textures.has(e))return this.cachedData.textures.get(e);this.outputJSON.textures||(this.outputJSON.textures=[]);var n={sampler:this.processSampler(e),source:this.processImage(e.image,e.format,t,e.flipY,e.name)};this.outputJSON.textures.push(n);var r=this.outputJSON.textures.length-1;return this.cachedData.textures.set(e,r),r}},{key:"processMaterial",value:function(t){var n=e.Utils.equalArray;if(this.cachedData.materials.has(t))return this.cachedData.materials.get(t);if(this.outputJSON.materials||(this.outputJSON.materials=[]),t.isShaderMaterial)return console.warn("GLTFExporter: THREE.ShaderMaterial not supported."),null;var r={pbrMetallicRoughness:{}};t.isMeshBasicMaterial?(r.extensions={KHR_materials_unlit:{}},this.extensionsUsed.KHR_materials_unlit=!0):t.isMeshStandardMaterial||console.warn("GLTFExporter: Use MeshStandardMaterial or MeshBasicMaterial for best results.");var o=t.color.toArray().concat([t.opacity]);if(n(o,[1,1,1,1])||(r.pbrMetallicRoughness.baseColorFactor=o),t.isMeshStandardMaterial?(r.pbrMetallicRoughness.metallicFactor=t.metalness,r.pbrMetallicRoughness.roughnessFactor=t.roughness):t.isMeshBasicMaterial?(r.pbrMetallicRoughness.metallicFactor=0,r.pbrMetallicRoughness.roughnessFactor=.9):(r.pbrMetallicRoughness.metallicFactor=.5,r.pbrMetallicRoughness.roughnessFactor=.5),t.metalnessMap||t.roughnessMap)if(t.metalnessMap===t.roughnessMap){var i={index:this.processTexture(t.metalnessMap,!0)};this.applyTextureTransform(i,t.metalnessMap),r.pbrMetallicRoughness.metallicRoughnessTexture=i}else console.warn("THREE.GLTFExporter: Ignoring metalnessMap and roughnessMap because they are not the same Texture.");if(t.map){var a={index:this.processTexture(t.map)};this.applyTextureTransform(a,t.map),r.pbrMetallicRoughness.baseColorTexture=a}if(!(t.isMeshBasicMaterial||t.isLineBasicMaterial||t.isPointsMaterial)){var s=t.emissive.clone().multiplyScalar(t.emissiveIntensity).toArray();if(n(s,[0,0,0])||(r.emissiveFactor=s),t.emissiveMap){var c={index:this.processTexture(t.emissiveMap)};this.applyTextureTransform(c,t.emissiveMap),r.emissiveTexture=c}}if(t.normalMap){var l={index:this.processTexture(t.normalMap,!0)};-1!==t.normalScale.x&&(t.normalScale.x!==t.normalScale.y&&console.warn("THREE.GLTFExporter: Normal scale components are different, ignoring Y and exporting X."),l.scale=t.normalScale.x),this.applyTextureTransform(l,t.normalMap),r.normalTexture=l}if(t.aoMap){var u={index:this.processTexture(t.aoMap,!0),texCoord:1};1!==t.aoMapIntensity&&(u.strength=t.aoMapIntensity),this.applyTextureTransform(u,t.aoMap),r.occlusionTexture=u}(t.transparent||t.alphaTest>0)&&(t.alphaTest>0&&.5!==t.alphaTest?(r.alphaMode="MASK",r.alphaCutoff=t.alphaTest):r.alphaMode="BLEND"),t.side===Yn.ehD&&(r.doubleSided=!0),""!==t.name&&(r.name=t.name),this.serializeUserData(t,r),this.runAllHooks("addMaterialProperties",t,r),this.outputJSON.materials.push(r);var f=this.outputJSON.materials.length-1;return this.cachedData.materials.set(t,f),f}},{key:"processMesh",value:function(e){var t=e.geometry.uuid+":"+e.material.uuid;if(this.cachedData.meshes.has(t))return this.cachedData.meshes.get(t);var n,r=e.geometry;n=e.isLineSegments?tr:e.isLineLoop?nr:e.isLine?rr:e.isPoints?er:e.material.wireframe?tr:or;var o={},i={},a=[],s=[],c={uv:"TEXCOORD_0",uv2:"TEXCOORD_1",color:"COLOR_0",skinWeight:"WEIGHTS_0",skinIndex:"JOINTS_0"},l=r.getAttribute("normal");void 0===l||this.isNormalizedNormalAttribute(l)||(console.warn("THREE.GLTFExporter: Creating normalized normal attribute from the non-normalized one."),r.setAttribute("normal",this.createNormalizedNormalAttribute(l)));var u=null;for(var f in r.attributes)if("morph"!==f.substr(0,5)){var d=r.attributes[f];f=c[f]||f.toUpperCase();if(/^(POSITION|NORMAL|TANGENT|TEXCOORD_\d+|COLOR_\d+|JOINTS_\d+|WEIGHTS_\d+)$/.test(f)||(f="_"+f),this.cachedData.attributes.has(this.getUID(d)))i[f]=this.cachedData.attributes.get(this.getUID(d));else{u=null;var h=d.array;"JOINTS_0"!==f||h instanceof Uint16Array||h instanceof Uint8Array||(console.warn('GLTFExporter: Attribute "skinIndex" converted to type UNSIGNED_SHORT.'),u=new Yn.TlE(new Uint16Array(h),d.itemSize,d.normalized));var p=this.processAccessor(u||d,r);null!==p&&(i[f]=p,this.cachedData.attributes.set(this.getUID(d),p))}}if(void 0!==l&&r.setAttribute("normal",l),0===Object.keys(i).length)return null;if(void 0!==e.morphTargetInfluences&&e.morphTargetInfluences.length>0){var v=[],m=[],g={},y=e.morphTargetDictionary;if(void 0!==y)for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(g[y[b]]=b);for(var w=0;w<e.morphTargetInfluences.length;++w){var x={},S=!1;for(var C in r.morphAttributes)if(Object.prototype.hasOwnProperty.call(r.morphAttributes,C))if("position"===C||"normal"===C){var k=r.morphAttributes[C][w],O=C.toUpperCase(),P=r.attributes[C];if(this.cachedData.attributesRelative.has(this.getUID(k)))x[O]=this.cachedData.attributesRelative.get(this.getUID(k));else{for(var M=k.clone(),R=0,E=k.count;R<E;R++)M.setXYZ(R,k.getX(R)-P.getX(R),k.getY(R)-P.getY(R),k.getZ(R)-P.getZ(R));x[O]=this.processAccessor(M,r),this.cachedData.attributesRelative.set(this.getUID(P),x[O])}}else S||(console.warn("GLTFExporter: Only POSITION and NORMAL morph are supported."),S=!0);s.push(x),v.push(e.morphTargetInfluences[w]),void 0!==e.morphTargetDictionary&&m.push(g[w])}o.weights=v,m.length>0&&(o.extras={},o.extras.targetNames=m)}var Z=this.options.forceIndices,j=Array.isArray(e.material);if(j&&0===r.groups.length)return null;!Z&&null===r.index&&j&&(console.warn("THREE.GLTFExporter: Creating index for non-indexed multi-material mesh."),Z=!0);var D=!1;if(null===r.index&&Z){for(var T=[],A=0,_=r.attributes.position.count;A<_;A++)T[A]=A;r.setIndex(T),D=!0}for(var I=j?e.material:[e.material],N=j?r.groups:[{materialIndex:0,start:void 0,count:void 0}],L=0,z=N.length;L<z;L++){var F={mode:n,attributes:i};if(this.serializeUserData(r,F),s.length>0&&(F.targets=s),null!==r.index){var U=this.getUID(r.index);void 0===N[L].start&&void 0===N[L].count||(U+=":"+N[L].start+":"+N[L].count),this.cachedData.attributes.has(U)?F.indices=this.cachedData.attributes.get(U):(F.indices=this.processAccessor(r.index,r,N[L].start,N[L].count),this.cachedData.attributes.set(U,F.indices)),null===F.indices&&delete F.indices}var V=this.processMaterial(I[N[L].materialIndex]);null!==V&&(F.material=V),a.push(F)}D&&r.setIndex(null),o.primitives=a,this.outputJSON.meshes||(this.outputJSON.meshes=[]),this.outputJSON.meshes.push(o);var B=this.outputJSON.meshes.length-1;return this.cachedData.meshes.set(t,B),B}},{key:"processAnimation",value:function(t,n){this.outputJSON.animations||(this.outputJSON.animations=[]);for(var r=(t=e.Utils.mergeMorphTargetTracks(t.clone(),n)).tracks,o=[],i=[],a=0;a<r.length;++a){var s=r[a],c=Yn.iUV.parseTrackName(s.name),l=Yn.iUV.findNode(n,c.nodeName),u=xr[c.propertyName];if("bones"===c.objectName&&(l=!0===l.isSkinnedMesh?l.skeleton.getBoneByName(c.objectIndex):void 0),!l||!u)return console.warn('THREE.GLTFExporter: Could not export animation track "%s".',s.name),null;var f=s.values.length/s.times.length;u===xr.morphTargetInfluences&&(f/=l.morphTargetInfluences.length);var d=void 0;!0===s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline?(d="CUBICSPLINE",f/=3):d=s.getInterpolation()===Yn.Syv?"STEP":"LINEAR",i.push({input:this.processAccessor(new Yn.TlE(s.times,1)),output:this.processAccessor(new Yn.TlE(s.values,f)),interpolation:d}),o.push({sampler:i.length-1,target:{node:this.nodeMap.get(l),path:u}})}return this.outputJSON.animations.push({name:t.name||"clip_"+this.outputJSON.animations.length,samplers:i,channels:o}),this.outputJSON.animations.length-1}},{key:"processSkin",value:function(e){var t=this.outputJSON.nodes[this.nodeMap.get(e)],n=e.skeleton,r=e.skeleton.bones[0];if(void 0===r)return null;for(var o=[],i=new Float32Array(16*n.bones.length),a=0;a<n.bones.length;++a)o.push(this.nodeMap.get(n.bones[a])),n.boneInverses[a].toArray(i,16*a);return void 0===this.outputJSON.skins&&(this.outputJSON.skins=[]),this.outputJSON.skins.push({inverseBindMatrices:this.processAccessor(new Yn.TlE(i,16)),joints:o,skeleton:this.nodeMap.get(r)}),t.skin=this.outputJSON.skins.length-1}},{key:"processNode",value:function(t){var n=e.Utils.equalArray;this.outputJSON.nodes||(this.outputJSON.nodes=[]);var r={};if(this.options.trs){var o=t.quaternion.toArray(),i=t.position.toArray(),a=t.scale.toArray();n(o,[0,0,0,1])||(r.rotation=o),n(i,[0,0,0])||(r.translation=i),n(a,[1,1,1])||(r.scale=a)}else t.matrixAutoUpdate&&t.updateMatrix(),n(t.matrix.elements,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])||(r.matrix=t.matrix.elements);if(""!==t.name&&(r.name=String(t.name)),t.isMesh||t.isLine||t.isPoints){var s=this.processMesh(t);null!==s&&(r.mesh=s)}if(t.isSkinnedMesh&&this.skins.push(t),t.children.length>0){for(var c=[],l=0,u=t.children.length;l<u;l++){var f=t.children[l];if(f.visible||!1===this.options.onlyVisible){var d=this.processNode(f);null!==d&&c.push(d)}}c.length>0&&(r.children=c)}this.serializeUserData(t,r),this.outputJSON.nodes.push(r);var h=this.outputJSON.nodes.length-1;return this.nodeMap.set(t,h),h}},{key:"processScene",value:function(e){this.outputJSON.scenes||(this.outputJSON.scenes=[],this.outputJSON.scene=0);var t={nodes:[]};""!==e.name&&(t.name=e.name),this.outputJSON.scenes.push(t);for(var n=[],r=0,o=e.children.length;r<o;r++){var i=e.children[r];if(i.visible||!1===this.options.onlyVisible){var a=this.processNode(i);null!==a&&n.push(a)}}return n.length>0&&(t.nodes=n),this.serializeUserData(e,t),this.outputJSON.scenes.length-1}},{key:"processInput",value:function(e){e=e instanceof Array?e:[e];for(var t=[],n=0;n<e.length;n++)e[n]instanceof Yn.xsS?this.processScene(e[n]):t.push(e[n]);t.length>0&&this.processObjects(t);for(var r=0;r<this.skins.length;++r)this.processSkin(this.skins[r]);for(var o=0;o<this.options.animations.length;++o)this.processAnimation(this.options.animations[o],e[0])}},{key:"processObjects",value:function(e){throw new Error("Method not implemented.")}},{key:"postProcessBuffers",value:function(){if(this.outputJSON.buffers&&this.outputJSON.buffers.length>0){var e=new Blob(this.buffers,{type:"application/octet-stream"});this.outputJSON.buffers[0].byteLength=e.size,"gltf"===this.options.mode&&(this.outputJSON.buffers[0].uri="scene.bin"),this.outputBuffers.push(e)}}},{key:"exportChunks",value:function(){var e=(0,c.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.processInput(t),e.next=3,Promise.all(this.pending);case 3:return this.postProcessBuffers(),(n=Object.keys(this.extensionsUsed)).length>0&&(this.outputJSON.extensionsUsed=n),e.abrupt("return",{json:this.outputJSON,buffers:this.outputBuffers,images:this.outputImages});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"exportGLBBlob",value:function(){var t=(0,c.Z)(s().mark((function t(n){var r,o,i,a,c,l,u,f,d;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=function(e){if(void 0!==window.TextEncoder)return(new TextEncoder).encode(e).buffer;for(var t=new Uint8Array(new ArrayBuffer(e.length)),n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);t[n]=o>255?32:o}return t.buffer},r=function(t){return new Promise((function(n,r){var o=new window.FileReader;o.readAsArrayBuffer(t),o.onloadend=function(){var t=e.Utils.getPaddedArrayBuffer(o.result);n(t)},o.onerror=r}))},!(n.buffers.length>1)){t.next=4;break}throw new Error("GLTFExporter: exportGLB expects 0 or 1 buffers.");case 4:return 12,1179937895,2,8,1313821514,5130562,i=[],a=[],c=new ArrayBuffer(12),(l=new DataView(c)).setUint32(0,1179937895,!0),l.setUint32(4,2,!0),a.push(c),u=e.Utils.getPaddedArrayBuffer(o(JSON.stringify(n.json)),32),(f=new DataView(new ArrayBuffer(8))).setUint32(0,u.byteLength,!0),f.setUint32(4,1313821514,!0),a.push(f,u),0!==n.buffers.length&&(d=r(n.buffers[0]).then((function(e){var t=new DataView(new ArrayBuffer(8));t.setUint32(0,e.byteLength,!0),t.setUint32(4,5130562,!0);var n=12+f.byteLength+u.byteLength+t.byteLength+e.byteLength;l.setUint32(8,n,!0),a.push(t,e)})),i.push(d)),t.next=25,Promise.all(i);case 25:return t.abrupt("return",new Blob(a,{type:"application/octet-stream"}));case 26:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),e}();Cr.Utils={equalArray:function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))},getMinMax:function(e,t,n){for(var r={min:new Array(e.itemSize).fill(Number.POSITIVE_INFINITY),max:new Array(e.itemSize).fill(Number.NEGATIVE_INFINITY)},o=t;o<t+n;o++)for(var i=0;i<e.itemSize;i++){var a=e.array[o*e.itemSize+i];r.min[i]=Math.min(r.min[i],a),r.max[i]=Math.max(r.max[i],a)}return r},isPowerOfTwo:function(e){return Yn.M8C.isPowerOfTwo(e.width)&&Yn.M8C.isPowerOfTwo(e.height)},getFileNameFromUri:function(e){var t=e.split("#").shift().split("?").shift().split("/").pop().split(".");return t.length>1&&t.pop(),t.join()},getPaddedBufferSize:function(e){return 4*Math.ceil(e/4)},getPaddedArrayBuffer:function(e,t){t=t||0;var n=Cr.Utils.getPaddedBufferSize(e.byteLength);if(n!==e.byteLength){var r=new Uint8Array(n);if(r.set(new Uint8Array(e)),0!==t)for(var o=e.byteLength;o<n;o++)r[o]=t;return r.buffer}return e},insertKeyframe:function(e,t){var n,r=.001,o=e.getValueSize(),i=new e.TimeBufferType(e.times.length+1),a=new e.ValueBufferType(e.values.length+o),s=e.createInterpolant(new e.ValueBufferType(o));if(0===e.times.length){i[0]=t;for(var c=0;c<o;c++)a[c]=0;n=0}else if(t<e.times[0]){if(Math.abs(e.times[0]-t)<r)return 0;i[0]=t,i.set(e.times,1),a.set(s.evaluate(t),0),a.set(e.values,o),n=0}else if(t>e.times[e.times.length-1]){if(Math.abs(e.times[e.times.length-1]-t)<r)return e.times.length-1;i[i.length-1]=t,i.set(e.times,0),a.set(e.values,0),a.set(s.evaluate(t),e.values.length),n=i.length-1}else for(var l=0;l<e.times.length;l++){if(Math.abs(e.times[l]-t)<r)return l;if(e.times[l]<t&&e.times[l+1]>t){i.set(e.times.slice(0,l+1),0),i[l+1]=t,i.set(e.times.slice(l+1),l+2),a.set(e.values.slice(0,(l+1)*o),0),a.set(s.evaluate(t),(l+1)*o),a.set(e.values.slice((l+1)*o),(l+2)*o),n=l+1;break}}return e.times=i,e.values=a,n},mergeMorphTargetTracks:function(e,t){for(var n=[],r={},o=e.tracks,i=0;i<o.length;++i){var a=o[i],s=Yn.iUV.parseTrackName(a.name),c=Yn.iUV.findNode(t,s.nodeName);if("morphTargetInfluences"===s.propertyName&&void 0!==s.propertyIndex){if(a.createInterpolant!==a.InterpolantFactoryMethodDiscrete&&a.createInterpolant!==a.InterpolantFactoryMethodLinear){if(a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline)throw new Error("THREE.GLTFExporter: Cannot merge tracks with glTF CUBICSPLINE interpolation.");console.warn("THREE.GLTFExporter: Morph target interpolation mode not yet supported. Using LINEAR instead."),(a=a.clone()).setInterpolation(Yn.NMF)}var l=c.morphTargetInfluences.length,u=c.morphTargetDictionary[s.propertyIndex];if(void 0===u)throw new Error("THREE.GLTFExporter: Morph target name not found: "+s.propertyIndex);var f=void 0;if(void 0!==r[c.uuid]){var d=a.createInterpolant(new a.ValueBufferType(1));f=r[c.uuid];for(var h=0;h<f.times.length;h++)f.values[h*l+u]=d.evaluate(f.times[h]);for(var p=0;p<a.times.length;p++){var v=this.insertKeyframe(f,a.times[p]);f.values[v*l+u]=a.values[p]}}else{for(var m=new((f=a.clone()).ValueBufferType)(l*f.times.length),g=0;g<f.times.length;g++)m[g*l+u]=f.values[g];f.name=".morphTargetInfluences",f.values=m,r[c.uuid]=f,n.push(f)}}else n.push(a)}return e.tracks=n,e}};var kr=function(){function e(){(0,l.Z)(this,e),this.cache=new Map}return(0,u.Z)(e,[{key:"get",value:function(e,t){var n=this,r=new URL(e,window.location).href;if(this.cache.has(r))return this.cache.get(r);var o=(0,Kn.Vb)(e);return this.cache.set(r,o),o.catch((function(e){n.cache.delete(r)})),o}},{key:"disposeAndClear",value:function(){this.cache.clear()}}]),e}(),Or=n(25802);function Pr(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Mr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mr(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Mr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Er=function(e){(0,f.Z)(n,e);var t=Rr(n);function n(){var e;return(0,l.Z)(this,n),(e=t.call(this)).textureLoader=new Yn.dpR,e}return(0,u.Z)(n,[{key:"get",value:function(e){var t=new URL(e,window.location).href;return this._cache.has(t)||this._cache.set(t,(0,Or.Z)(t,this.textureLoader)),this._cache.get(t)}},{key:"disposeAndClear",value:function(){var e,t=Pr(this._cache.values());try{for(t.s();!(e=t.n()).done;){e.value.then((function(e){return e.dispose()}))}}catch(n){t.e(n)}finally{t.f()}this._clear()}}]),n}(function(){function e(){(0,l.Z)(this,e),this._cache=new Map}return(0,u.Z)(e,[{key:"evict",value:function(e){var t=new URL(e,window.location).href;this._cache.delete(t)}},{key:"_clear",value:function(){this._cache.clear()}}]),e}());function Zr(e){e.traverse((function(e){(e.isMesh||e.isLine||e.isSprite)&&(e.isHelper=!0)}))}function jr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Dr=function(e){(0,f.Z)(n,e);var t=jr(n);function n(e,r,o,i){var a;(0,l.Z)(this,n),o=o||new Yn.Ilk("white"),e=e||1,r=r||10,i=i||8e3;var s=new Yn.BKK(2,2,1,1),c=new Yn.jyz({side:Yn.ehD,uniforms:{uSize1:{value:e},uSize2:{value:r},uColor:{value:o},uDistance:{value:i}},transparent:!0,vertexShader:"\nvarying vec3 worldPosition;\n      \nuniform float uDistance;\n\nvoid main() {\n\n      vec3 pos = position.xzy * uDistance;\n      pos.xz += cameraPosition.xz;\n      \n      worldPosition = pos;\n      \n      gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\n\n      gl_Position.z -= 0.01;\n}\n",fragmentShader:"\nvarying vec3 worldPosition;\n\nuniform float uSize1;\nuniform float uSize2;\nuniform vec3 uColor;\nuniform float uDistance;\n\nfloat getGrid(float size) {\n    vec2 r = worldPosition.xz / size;\n    vec2 grid = abs(fract(r - 0.5) - 0.5) / fwidth(r);\n    float line = min(grid.x, grid.y);\n    return 1.0 - min(line, 1.0);\n}\n\nvoid main() {\n\n  float d = 1.0 - min(distance(cameraPosition.xz, worldPosition.xz) / uDistance, 1.0);\n\n  float g1 = getGrid(uSize1);\n  float g2 = getGrid(uSize2);\n\n\n  gl_FragColor = vec4(uColor.rgb, mix(g2, g1, g1) * pow(d, 3.0));\n  gl_FragColor.a = mix(0.5 * gl_FragColor.a, gl_FragColor.a, g2);\n\n  if ( gl_FragColor.a <= 0.0 ) discard;\n}\n",extensions:{derivatives:!0}});return(a=t.call(this,s,c)).name="EditorInfiniteGridHelper",a.layers.set(1),Zr((0,Gn.Z)(a)),a.frustumCulled=!1,a.plane=new Yn.JOQ(a.up),a.intersectionPointWorld=new Yn.Pa4,a.intersection={distance:0,point:a.intersectionPointWorld,object:(0,Gn.Z)(a)},a}return(0,u.Z)(n,[{key:"setSize",value:function(e){this.material.uniforms.uSize1.value=e,this.material.uniforms.uSize2.value=10*e}},{key:"raycast",value:function(e,t){var n=new Yn.Pa4;if(null===e.ray.intersectPlane(this.plane,n))return null;this.intersectionPointWorld.copy(n),this.intersectionPointWorld.applyMatrix4(this.matrixWorld);var r=e.ray.origin.distanceTo(this.intersectionPointWorld);if(r<e.near||r>e.far)return null;this.intersection.distance=r,t.push(this.intersection)}}]),n}(Yn.Kj0);function Tr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Ar=null,_r=null,Ir=function(e){(0,f.Z)(n,e);var t=Tr(n);function n(){var e;if((0,l.Z)(this,n),!_r)throw new Error("ErrorIcon must be loaded before it can be used. Await ErrorIcon.load()");var r=new Yn.BKK,o=new Yn.vBJ;return o.map=_r,o.side=Yn.ehD,o.transparent=!0,(e=t.call(this,r,o)).name="ErrorIcon",e.type="ErrorIcon",e}return(0,u.Z)(n,null,[{key:"load",value:function(){var e=(0,c.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ar){e.next=2;break}return e.abrupt("return",Ar);case 2:return Ar=(0,Or.Z)("/editor/media-error.png").then((function(e){return e.format=Yn.wk1,e.magFilter=Yn.TyD,e})),e.next=5,Ar;case 5:return _r=e.sent,e.abrupt("return",_r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),n}(Yn.Kj0),Nr=function(){function e(){(0,l.Z)(this,e),this.undos=[],this.redos=[],this.lastCmdTime=new Date,this.idCounter=0,this.commandUpdatesEnabled=!0,this.debug=!1}return(0,u.Z)(e,[{key:"execute",value:function(e){var t=this.undos[this.undos.length-1],n=(new Date).getTime()-this.lastCmdTime.getTime();return this.commandUpdatesEnabled&&t&&t.constructor===e.constructor&&n<1e3&&t.shouldUpdate(e)?(t.update(e),e=t,this.debug&&console.log("update: ".concat(e))):(this.undos.push(e),e.id=++this.idCounter,e.execute(),this.debug&&console.log("execute: ".concat(e))),this.lastCmdTime=new Date,this.redos=[],e}},{key:"revert",value:function(e){var t=void 0;if(0!==this.undos.length){var n=this.undos[this.undos.length-1];if(n&&e>n.id)console.warn("Tried to revert back to an undo action with an id greater than the last action");else do{void 0!==(t=this.undos.length>0?this.undos.pop():void 0)&&(t.undo(),this.redos.push(t),this.debug&&console.log("revert: ".concat(t)))}while(t&&e!==t.id)}}},{key:"undo",value:function(){var e=void 0;return this.undos.length>0&&(e=this.undos.pop()),void 0!==e&&(e.undo(),this.redos.push(e),this.debug&&console.log("undo: ".concat(e))),e}},{key:"redo",value:function(){var e=void 0;return this.redos.length>0&&(e=this.redos.pop()),void 0!==e&&(e.execute(!0),this.undos.push(e),this.debug&&console.log("redo: ".concat(e))),e}},{key:"getDebugLog",value:function(){return this.undos.map((function(e){return e.toString()})).join("\n")}},{key:"clear",value:function(){this.undos=[],this.redos=[],this.idCounter=0}}]),e}(),Lr=function(){function e(t){(0,l.Z)(this,e),this.editor=t,this.id=-1}return(0,u.Z)(e,[{key:"execute",value:function(e){}},{key:"shouldUpdate",value:function(e){return!1}},{key:"update",value:function(e){}},{key:"undo",value:function(){}},{key:"toString",value:function(){return"".concat(this.constructor.name," id: ").concat(this.id)}}]),e}();function zr(e){return"Vector3 { x: ".concat(e.x,", y: ").concat(e.y,", z: ").concat(e.z," }")}function Fr(e){return"Euler { x: ".concat(e.x,", y: ").concat(e.y,", z: ").concat(e.z," }")}function Ur(e){return e?"".concat(e.constructor.name,' "').concat(e.name,'"'):e}function Vr(e){return e.map((function(e){return Ur(e)})).join(",")}function Br(e){return"object"!==typeof e||null===e?e:e.isVector2?function(e){return"Vector2 { x: ".concat(e.x,", y: ").concat(e.y," }")}(e):e.isVector3?zr(e):e.isEuler?Fr(e):e.isColor?function(e){return"Color { r: ".concat(e.r,", g: ").concat(e.g,", b: ").concat(e.b,", hex: #").concat(e.getHexString())}(e):e.isVector4?function(e){return"Vector4 { x: ".concat(e.x,", y: ").concat(e.y,", z: ").concat(e.z,", w: ").concat(e.w," }")}(e):e.isQuaternion?function(e){return"Quaternion { x: ".concat(e.x,", y: ").concat(e.y,", z: ").concat(e.z,", w: ").concat(e.w," }")}(e):e.isObject3D?"".concat(e.constructor.name,' "').concat(e.name,'"'):e.constructor?e.constructor.name:e.toString()}function Hr(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=Br(e[n]));return t}function Wr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Gr=function(e){(0,f.Z)(n,e);var t=Wr(n);function n(e,r,o,i){var a;return(0,l.Z)(this,n),(a=t.call(this,e)).objects=r.slice(0),a.parent=o,a.before=i,a.oldSelection=e.selected.slice(0),a}return(0,u.Z)(n,[{key:"execute",value:function(){this.editor.addMultipleObjects(this.objects,this.parent,this.before,!1)}},{key:"undo",value:function(){this.editor.removeMultipleObjects(this.objects,!1,!0,!1),this.editor.setSelection(this.oldSelection,!1)}},{key:"toString",value:function(){return"AddMultipleObjectsCommand id: ".concat(this.id," objects: ").concat(Vr(this.objects)," parent: ").concat(Ur(this.parent)," before: ").concat(Ur(this.before))}}]),n}(Lr);function qr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Kr=function(e){(0,f.Z)(n,e);var t=qr(n);function n(e,r,o,i){var a;return(0,l.Z)(this,n),(a=t.call(this,e)).editor=e,a.object=r,a.parent=o,a.before=i,a.oldSelection=e.selected.slice(0),a}return(0,u.Z)(n,[{key:"execute",value:function(){this.editor.addObject(this.object,this.parent,this.before,!1)}},{key:"undo",value:function(){this.editor.removeObject(this.object,!1,!0,!1),this.editor.setSelection(this.oldSelection,!1)}},{key:"toString",value:function(){return"AddObjectCommand id: ".concat(this.id," object: ").concat(Ur(this.object)," parent: ").concat(Ur(this.parent)," before: ").concat(Ur(this.before))}}]),n}(Lr);function Yr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Xr=function(e){(0,f.Z)(n,e);var t=Yr(n);function n(e,r){var o;return(0,l.Z)(this,n),(o=t.call(this,e)).object=r,o.oldSelection=e.selected.slice(0),o}return(0,u.Z)(n,[{key:"execute",value:function(){this.editor.deselect(this.object,!1)}},{key:"undo",value:function(){this.editor.setSelection(this.oldSelection,!1)}},{key:"toString",value:function(){return"DeselectCommand id: ".concat(this.id," object: ").concat(Ur(this.object))}}]),n}(Lr);function $r(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Jr=function(e){(0,f.Z)(n,e);var t=$r(n);function n(e,r){var o;return(0,l.Z)(this,n),(o=t.call(this,e)).objects=r.slice(0),o.oldSelection=e.selected.slice(0),o}return(0,u.Z)(n,[{key:"execute",value:function(){this.editor.deselectMultiple(this.objects,!1)}},{key:"undo",value:function(){this.editor.setSelection(this.oldSelection,!1)}},{key:"toString",value:function(){return"DeselectMultipleCommand id: ".concat(this.id," objects: ").concat(Vr(this.objects))}}]),n}(Lr);function Qr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var eo=function(e){(0,f.Z)(n,e);var t=Qr(n);function n(e,r,o,i){var a;return(0,l.Z)(this,n),(a=t.call(this,e)).object=r,a.parent=o,a.before=i,a.oldSelection=e.selected.slice(0),a.duplicatedObject=null,a}return(0,u.Z)(n,[{key:"execute",value:function(){this.duplicatedObject=this.editor.duplicate(this.object,this.parent,this.before,!1)}},{key:"undo",value:function(){this.editor.removeObject(this.duplicatedObject,!1,!0,!1),this.editor.setSelection(this.oldSelection,!1)}},{key:"toString",value:function(){return"DuplicateCommand id: ".concat(this.id," object: ").concat(Ur(this.object)," parent: ").concat(Ur(this.parent)," before: ").concat(Ur(this.before))}}]),n}(Lr);function to(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var no=function(e){(0,f.Z)(n,e);var t=to(n);function n(e,r,o,i,a){var s;return(0,l.Z)(this,n),(s=t.call(this,e)).objects=r.slice(0),s.parent=o,s.before=i,s.selectObjects=a,s.oldSelection=e.selected.slice(0),s.duplicatedObjects=[],s}return(0,u.Z)(n,[{key:"execute",value:function(e){e?this.editor.addMultipleObjects(this.duplicatedObjects,this.parent,this.before,!1,!0,this.selectObjects):this.duplicatedObjects=this.editor.duplicateMultiple(this.objects,this.parent,this.before,!1,!0,this.selectObjects)}},{key:"undo",value:function(){this.editor.removeMultipleObjects(this.duplicatedObjects,!1,!0,!1),this.editor.setSelection(this.oldSelection,!1)}},{key:"toString",value:function(){return"DuplicateMultipleCommand id: ".concat(this.id," objects: ").concat(Vr(this.objects)," parent: ").concat(Ur(this.parent)," before: ").concat(Ur(this.before))}}]),n}(Lr);function ro(e,t){t(e);for(var n=e.children,r=n.length-1;r>=0;r--)ro(n[r],t)}function oo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var io=function(e){(0,f.Z)(n,e);var t=oo(n);function n(e,r,o,i){var a;return(0,l.Z)(this,n),(a=t.call(this,e)).objects=[],a.undoObjects=[],a.groupParent=o,a.groupBefore=i,a.oldParents=[],a.oldBefores=[],a.oldSelection=e.selected.slice(0),e.scene.traverse((function(e){-1!==r.indexOf(e)&&a.objects.push(e)})),ro(e.scene,(function(e){if(-1!==r.indexOf(e)&&(a.undoObjects.push(e),a.oldParents.push(e.parent),e.parent)){var t=e.parent.children,n=t.indexOf(e);n+1<t.length?a.oldBefores.push(t[n+1]):a.oldBefores.push(void 0)}})),a.groupNode=null,a}return(0,u.Z)(n,[{key:"execute",value:function(){this.groupNode=this.editor.groupMultiple(this.objects,this.groupParent,this.groupBefore,!1)}},{key:"undo",value:function(){for(var e=0;e<this.objects.length;e++)this.editor.reparent(this.undoObjects[e],this.oldParents[e],this.oldBefores[e],!1,!1,!1,!1);this.editor.removeObject(this.groupNode,!1,!1,!1),this.editor.updateTransformRoots(),this.editor.emit("sceneGraphChanged"),this.editor.setSelection(this.oldSelection,!1,!0,!1)}},{key:"toString",value:function(){return"GroupMultipleObjectsCommand id: ".concat(this.id," objects: ").concat(Vr(this.objects)," groupParent: ").concat(Ur(this.groupParent)," groupBefore: ").concat(Ur(this.groupBefore))}}]),n}(Lr);function ao(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var so=function(e){(0,f.Z)(n,e);var t=ao(n);function n(e,r,o,i,a){var s;return(0,l.Z)(this,n),(s=t.call(this,e)).object=r,s.subPieceId=o,s.materialSlotId=i,s.materialId=a,s.prevMaterialId=r.getMaterialIdForMaterialSlot(o,i),s}return(0,u.Z)(n,[{key:"execute",value:function(){this.editor.loadMaterialSlot(this.object,this.subPieceId,this.materialSlotId,this.materialId,!1)}},{key:"undo",value:function(){this.editor.loadMaterialSlot(this.object,this.subPieceId,this.materialSlotId,this.prevMaterialId,!1)}},{key:"toString",value:function(){return"LoadMaterialSlotCommand id: ".concat(this.id," object: ").concat(Ur(this.object)," subPieceId: ").concat(this.subPieceId," materialSlotId: ").concat(this.materialSlotId," materialId: ").concat(this.materialId)}}]),n}(Lr);function co(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var lo=function(e){(0,f.Z)(n,e);var t=co(n);function n(e,r,o,i,a){var s;return(0,l.Z)(this,n),(s=t.call(this,e)).objects=r.slice(0),s.subPieceId=o,s.materialSlotId=i,s.materialId=a,s.prevMaterialIds=r.map((function(e){return e.getMaterialIdForMaterialSlot(o,i)})),s}return(0,u.Z)(n,[{key:"execute",value:function(){this.editor.loadMaterialSlotMultiple(this.objects,this.subPieceId,this.materialSlotId,this.materialId,!1)}},{key:"undo",value:function(){for(var e=0;e<this.objects.length;e++){var t=this.objects[e];this.editor.loadMaterialSlot(t,this.subPieceId,this.materialSlotId,this.prevMaterialIds[e],!1,!1)}this.editor.emit("objectsChanged",this.objects,"materialSlot")}},{key:"toString",value:function(){return"LoadMaterialSlotMultipleCommand id: ".concat(this.id," objects: ").concat(Vr(this.objects)," subPieceId: ").concat(this.subPieceId," materialSlotId: ").concat(this.materialSlotId," materialId: ").concat(this.materialId)}}]),n}(Lr);function uo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var fo=function(e){(0,f.Z)(n,e);var t=uo(n);function n(e,r){var o;return(0,l.Z)(this,n),(o=t.call(this,e)).objects=[],o.oldParents=[],o.oldBefores=[],o.oldNodes=e.nodes.slice(0),o.oldSelection=e.selected.slice(0),e.scene.traverse((function(e){if(-1!==r.indexOf(e)&&(o.objects.push(e),o.oldParents.push(e.parent),e.parent)){var t=e.parent.children,n=t.indexOf(e);n+1<t.length?o.oldBefores.push(t[n+1]):o.oldBefores.push(void 0)}})),o}return(0,u.Z)(n,[{key:"execute",value:function(){this.editor.removeMultipleObjects(this.objects,!1)}},{key:"undo",value:function(){this.editor._addMultipleObjectsWithParentsAndBefores(this.objects,this.oldParents,this.oldBefores,this.oldNodes),this.editor.setSelection(this.oldSelection,!1)}},{key:"toString",value:function(){return"RemoveMultipleObjectsCommand id: ".concat(this.id," objects: ").concat(Vr(this.objects))}}]),n}(Lr);function ho(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var po=function(e){(0,f.Z)(n,e);var t=ho(n);function n(e,r){var o;if((0,l.Z)(this,n),(o=t.call(this,e)).object=r,o.parent=r.parent,o.parent){var i=o.parent.children.indexOf(o.object);o.parent.children.length>i+1&&(o.before=o.parent.children[i+1])}return o.oldSelection=e.selected.slice(0),o}return(0,u.Z)(n,[{key:"execute",value:function(){this.editor.removeObject(this.object,!1)}},{key:"undo",value:function(){this.editor.addObject(this.object,this.parent,this.before,!1,!0,!1),this.editor.setSelection(this.oldSelection,!1)}},{key:"toString",value:function(){return"".concat(this.constructor.name," id: ").concat(this.id," object: ").concat(Ur(this.object))}}]),n}(Lr);function vo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var mo=function(e){(0,f.Z)(n,e);var t=vo(n);function n(e,r,o,i){var a;if((0,l.Z)(this,n),(a=t.call(this,e)).object=r,a.oldParent=r.parent,r.parent){var s=r.parent.children,c=s.indexOf(r);c+1<s.length&&(a.oldBefore=s[c+1])}return a.newParent=o,a.newBefore=i,a.oldSelection=e.selected.slice(0),a}return(0,u.Z)(n,[{key:"execute",value:function(){this.editor.reparent(this.object,this.newParent,this.newBefore,!1)}},{key:"undo",value:function(){this.editor.reparent(this.object,this.oldParent,this.oldBefore,!1,!0,!1),this.editor.setSelection(this.oldSelection,!1)}},{key:"toString",value:function(){return"".concat(this.constructor.name," id: ").concat(this.id," object: ").concat(Ur(this.object)," newParent: ").concat(Ur(this.newParent)," newBefore: ").concat(Ur(this.newBefore))}}]),n}(Lr);function go(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var yo=function(e){(0,f.Z)(n,e);var t=go(n);function n(e,r,o,i){var a;return(0,l.Z)(this,n),(a=t.call(this,e)).objects=[],a.undoObjects=[],a.newParent=o,a.newBefore=i,a.oldParents=[],a.oldBefores=[],a.oldSelection=e.selected.slice(0),e.scene.traverse((function(e){-1!==r.indexOf(e)&&a.objects.push(e)})),ro(e.scene,(function(e){if(-1!==r.indexOf(e)&&(a.undoObjects.push(e),a.oldParents.push(e.parent),e.parent)){var t=e.parent.children,n=t.indexOf(e);n+1<t.length?a.oldBefores.push(t[n+1]):a.oldBefores.push(void 0)}})),a}return(0,u.Z)(n,[{key:"execute",value:function(){this.editor.reparentMultiple(this.objects,this.newParent,this.newBefore,!1)}},{key:"undo",value:function(){for(var e=0;e<this.objects.length;e++)this.editor.reparent(this.undoObjects[e],this.oldParents[e],this.oldBefores[e],!1,!1,!1,!1);this.editor.setSelection(this.oldSelection,!1,!0,!1),this.editor.updateTransformRoots(),this.editor.emit("sceneGraphChanged")}},{key:"toString",value:function(){return"".concat(this.constructor.name," id: ").concat(this.id," objects: ").concat(Vr(this.objects)," newParent: ").concat(Ur(this.newParent)," newBefore: ").concat(Ur(this.newBefore))}}]),n}(Lr),bo="World",wo="Local",xo="LocalSelection";function So(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Co=function(e){(0,f.Z)(n,e);var t=So(n);function n(e,r,o,i,a){var s;return(0,l.Z)(this,n),(s=t.call(this,e)).objects=[],s.undoObjects=[],s.newParent=o,s.newBefore=i,s.oldParents=[],s.oldBefores=[],s.oldSelection=e.selected.slice(0),s.oldPositions=r.map((function(e){return e.position.clone()})),s.position=a.clone(),e.scene.traverse((function(e){-1!==r.indexOf(e)&&s.objects.push(e)})),ro(e.scene,(function(e){if(-1!==r.indexOf(e)&&(s.undoObjects.push(e),s.oldParents.push(e.parent),e.parent)){var t=e.parent.children,n=t.indexOf(e);n+1<t.length?s.oldBefores.push(t[n+1]):s.oldBefores.push(void 0)}})),s}return(0,u.Z)(n,[{key:"execute",value:function(){this.editor.reparentMultiple(this.objects,this.newParent,this.newBefore,!1),this.editor.setPositionMultiple(this.objects,this.position,wo,!1)}},{key:"undo",value:function(){for(var e=0;e<this.objects.length;e++)this.editor.reparent(this.undoObjects[e],this.oldParents[e],this.oldBefores[e],!1,!1,!1,!1);for(var t=0;t<this.objects.length;t++)this.editor.setPosition(this.objects[t],this.oldPositions[t],wo,!1,!1);this.editor.setSelection(this.oldSelection,!1,!0,!1),this.editor.updateTransformRoots(),this.editor.emit("sceneGraphChanged"),this.editor.emit("objectsChanged",this.objects,"position")}},{key:"toString",value:function(){return"".concat(this.constructor.name," id: ").concat(this.id," objects: ").concat(Vr(this.objects)," newParent: ").concat(Ur(this.newParent)," newBefore: ").concat(Ur(this.newBefore)," position: ").concat(zr(this.position))}}]),n}(Lr);function ko(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Oo=function(e){(0,f.Z)(n,e);var t=ko(n);function n(e,r,o,i,a){var s;return(0,l.Z)(this,n),(s=t.call(this,e)).object=r,s.pivot=o.clone(),s.axis=i.clone(),s.angle=a,s.oldPosition=r.position.clone(),s.oldRotation=r.rotation.clone(),s}return(0,u.Z)(n,[{key:"execute",value:function(){this.editor.rotateAround(this.object,this.pivot,this.axis,this.angle,!1)}},{key:"shouldUpdate",value:function(e){return this.object===e.object&&this.pivot.equals(e.pivot)&&this.axis.equals(e.axis)}},{key:"update",value:function(e){this.angle+=e.angle,this.editor.rotateAround(this.object,this.pivot,this.axis,e.angle,!1)}},{key:"undo",value:function(){this.editor.setPosition(this.object,this.oldPosition,wo,!1,!1),this.editor.setRotation(this.object,this.oldRotation,wo,!1,!1),this.editor.emit("objectsChanged",this.objects,"matrix")}},{key:"objects",value:function(e,t,n){throw new Error("Method not implemented.")}},{key:"toString",value:function(){return"RotateAroundCommand id: ".concat(this.id," object: ").concat(Ur(this.object)," pivot: ").concat(zr(this.pivot)," axis: ").concat(zr(this.axis)," angle: ").concat(this.angle)}}]),n}(Lr);function Po(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Mo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Ro=function(e){(0,f.Z)(n,e);var t=Mo(n);function n(e,r,o,i,a){var s;return(0,l.Z)(this,n),(s=t.call(this,e)).objects=r.slice(0),s.pivot=o.clone(),s.axis=i.clone(),s.angle=a,s.oldRotations=r.map((function(e){return e.rotation.clone()})),s.oldPositions=r.map((function(e){return e.position.clone()})),s}return(0,u.Z)(n,[{key:"execute",value:function(){this.editor.rotateAroundMultiple(this.objects,this.pivot,this.axis,this.angle,!1)}},{key:"shouldUpdate",value:function(e){return this.pivot.equals(e.pivot)&&this.axis.equals(e.axis)&&Po(this.objects,e.objects)}},{key:"update",value:function(e){this.angle+=e.angle,this.editor.rotateAroundMultiple(this.objects,this.pivot,this.axis,e.angle,!1)}},{key:"undo",value:function(){for(var e=0;e<this.objects.length;e++)this.editor.setRotation(this.objects[e],this.oldRotations[e],wo,!1,!1);for(var t=0;t<this.objects.length;t++)this.editor.setPosition(this.objects[t],this.oldPositions[t],wo,!1,!1);this.editor.emit("objectsChanged",this.objects,"matrix")}},{key:"toString",value:function(){return"RotateAroundMultipleCommand id: ".concat(this.id," objects: ").concat(Vr(this.objects)," pivot: ").concat(zr(this.pivot)," axis: { ").concat(zr(this.axis)," angle: ").concat(this.angle," space: ").concat(this.space)}}]),n}(Lr);function Eo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Zo=function(e){(0,f.Z)(n,e);var t=Eo(n);function n(e,r,o,i,a){var s;return(0,l.Z)(this,n),(s=t.call(this,e)).object=r,s.axis=o.clone(),s.angle=i,s.space=a,s.oldRotation=r.rotation.clone(),s}return(0,u.Z)(n,[{key:"execute",value:function(){this.editor.rotateOnAxis(this.object,this.axis,this.angle,this.space,!1)}},{key:"shouldUpdate",value:function(e){return this.object===e.object&&this.space===e.space&&this.axis.equals(e.axis)}},{key:"update",value:function(e){this.angle+=e.angle,this.editor.rotateOnAxis(this.object,this.axis,e.angle,this.space,!1)}},{key:"undo",value:function(){this.editor.setRotation(this.object,this.oldRotation,wo,!1)}},{key:"toString",value:function(){return"RotateOnAxisCommand id: ".concat(this.id," object: ").concat(Ur(this.object)," axis: ").concat(zr(this.axis)," angle: ").concat(this.angle," space: ").concat(this.space)}}]),n}(Lr);function jo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Do=function(e){(0,f.Z)(n,e);var t=jo(n);function n(e,r,o,i,a){var s;return(0,l.Z)(this,n),(s=t.call(this,e)).objects=r.slice(0),s.axis=o.clone(),s.angle=i,s.space=a,s.oldRotations=r.map((function(e){return e.rotation.clone()})),s}return(0,u.Z)(n,[{key:"execute",value:function(){this.editor.rotateOnAxisMultiple(this.objects,this.axis,this.angle,this.space,!1)}},{key:"shouldUpdate",value:function(e){return this.space===e.space&&this.axis.equals(e.axis)&&Po(this.objects,e.objects)}},{key:"update",value:function(e){this.angle+=e.angle,this.editor.rotateOnAxisMultiple(this.objects,this.axis,e.angle,this.space,!1)}},{key:"undo",value:function(){for(var e=0;e<this.objects.length;e++)this.editor.setRotation(this.objects[e],this.oldRotations[e],wo,!1,!1);this.editor.emit("objectsChanged",this.objects,"rotation")}},{key:"toString",value:function(){return"RotateOnAxisMultipleCommand id: ".concat(this.id," objects: ").concat(Vr(this.objects)," axis: ").concat(zr(this.axis)," angle: ").concat(this.angle," space: ").concat(this.space)}}]),n}(Lr);function To(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Ao=function(e){(0,f.Z)(n,e);var t=To(n);function n(e,r,o,i){var a;return(0,l.Z)(this,n),(a=t.call(this,e)).object=r,a.scale=o.clone(),a.space=i,a.oldScale=r.scale.clone(),a}return(0,u.Z)(n,[{key:"execute",value:function(){this.editor.scale(this.object,this.scale,this.space,!1)}},{key:"shouldUpdate",value:function(e){return this.object===e.object&&this.space===e.space}},{key:"update",value:function(e){this.scale.multiply(e.scale),this.editor.scale(this.object,e.scale,this.space,!1)}},{key:"undo",value:function(){this.editor.setScale(this.object,this.oldScale,wo,!1)}},{key:"toString",value:function(){return"ScaleCommand id: ".concat(this.id," object: ").concat(Ur(this.object)," scale: ").concat(zr(this.scale)," space: ").concat(this.space)}}]),n}(Lr);function _o(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Io=function(e){(0,f.Z)(n,e);var t=_o(n);function n(e,r,o,i){var a;return(0,l.Z)(this,n),(a=t.call(this,e)).objects=r.slice(0),a.scale=o.clone(),a.space=i,a.oldScales=r.map((function(e){return e.scale.clone()})),a}return(0,u.Z)(n,[{key:"execute",value:function(){this.editor.scaleMultiple(this.objects,this.scale,this.space,!1)}},{key:"shouldUpdate",value:function(e){return this.space===e.space&&Po(this.objects,e.objects)}},{key:"update",value:function(e){this.scale.multiply(e.scale),this.editor.scaleMultiple(this.objects,e.scale,this.space,!1)}},{key:"undo",value:function(){for(var e=0;e<this.objects.length;e++)this.editor.setScale(this.objects[e],this.oldScales[e],wo,!1,!1);this.editor.emit("objectsChanged",this.objects,"scale")}},{key:"toString",value:function(){return"ScaleMultipleCommand id: ".concat(this.id," objects: ").concat(Vr(this.objects)," scale: ").concat(zr(this.scale)," space: ").concat(this.space)}}]),n}(Lr);function No(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Lo=function(e){(0,f.Z)(n,e);var t=No(n);function n(e,r){var o;return(0,l.Z)(this,n),(o=t.call(this,e)).object=r,o.oldSelection=e.selected.slice(0),o}return(0,u.Z)(n,[{key:"execute",value:function(){this.editor.select(this.object,!1)}},{key:"undo",value:function(){this.editor.setSelection(this.oldSelection,!1)}},{key:"toString",value:function(){return"SelectCommand id: ".concat(this.id," object: ").concat(Ur(this.object))}}]),n}(Lr);function zo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Fo=function(e){(0,f.Z)(n,e);var t=zo(n);function n(e,r){var o;return(0,l.Z)(this,n),(o=t.call(this,e)).objects=r.slice(0),o.oldSelection=e.selected.slice(0),o}return(0,u.Z)(n,[{key:"execute",value:function(){this.editor.selectMultiple(this.objects,!1)}},{key:"undo",value:function(){this.editor.setSelection(this.oldSelection,!1)}},{key:"toString",value:function(){return"SelectMultipleCommand id: ".concat(this.id," objects: ").concat(Vr(this.objects))}}]),n}(Lr);function Uo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Vo=function(e){(0,f.Z)(n,e);var t=Uo(n);function n(e,r,o,i){var a;return(0,l.Z)(this,n),(a=t.call(this,e)).object=r,a.position=o.clone(),a.space=i,a.oldPosition=r.position.clone(),a}return(0,u.Z)(n,[{key:"execute",value:function(){this.editor.setPosition(this.object,this.position,this.space,!1)}},{key:"shouldUpdate",value:function(e){return this.object===e.object&&this.space===e.space}},{key:"update",value:function(e){this.position=e.position.clone(),this.editor.setPosition(this.object,e.position,this.space,!1)}},{key:"undo",value:function(){this.editor.setPosition(this.object,this.oldPosition,wo,!1)}},{key:"toString",value:function(){return"SetPositionCommand id: ".concat(this.id," object: ").concat(Ur(this.object)," position: ").concat(zr(this.position)," space: ").concat(this.space)}}]),n}(Lr);function Bo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Ho=function(e){(0,f.Z)(n,e);var t=Bo(n);function n(e,r,o,i){var a;return(0,l.Z)(this,n),(a=t.call(this,e)).objects=r.slice(0),a.position=o.clone(),a.space=i,a.oldPositions=r.map((function(e){return e.position.clone()})),a}return(0,u.Z)(n,[{key:"execute",value:function(){this.editor.setPositionMultiple(this.objects,this.position,this.space,!1)}},{key:"shouldUpdate",value:function(e){return this.space===e.space&&Po(this.objects,e.objects)}},{key:"update",value:function(e){this.position=e.position.clone(),this.editor.setPositionMultiple(this.objects,e.position,this.space,!1)}},{key:"undo",value:function(){for(var e=0;e<this.objects.length;e++)this.editor.setPosition(this.objects[e],this.oldPositions[e],wo,!1,!1);this.editor.emit("objectsChanged",this.objects,"position")}},{key:"toString",value:function(){return"SetPositionMultipleCommand id: ".concat(this.id," objects: ").concat(Vr(this.objects)," position: ").concat(zr(this.position)," space: ").concat(this.space)}}]),n}(Lr);function Wo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Go=function(e){(0,f.Z)(n,e);var t=Wo(n);function n(e,r,o){var i;for(var a in(0,l.Z)(this,n),(i=t.call(this,e)).object=r,i.newProperties={},i.oldProperties={},o)if(Object.prototype.hasOwnProperty.call(o,a)){var s=o[a];s&&s.clone?i.newProperties[a]=s.clone():i.newProperties[a]=s;var c=i.object[a];c&&c.clone?i.oldProperties[a]=c.clone():i.oldProperties[a]=c}return i}return(0,u.Z)(n,[{key:"execute",value:function(){this.editor.setProperties(this.object,this.newProperties,!1)}},{key:"undo",value:function(){this.editor.setProperties(this.object,this.oldProperties,!1)}},{key:"toString",value:function(){return"SetPropertiesCommand id: ".concat(this.id," object: ").concat(Ur(this.object)," properties: ").concat(Hr(this.newProperties))}}]),n}(Lr);function qo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Ko=function(e){(0,f.Z)(n,e);var t=qo(n);function n(e,r,o){var i;for(var a in(0,l.Z)(this,n),(i=t.call(this,e)).objects=r.slice(0),i.newProperties={},i.objectsOldProperties=[],o)if(Object.prototype.hasOwnProperty.call(o,a)){var s=o[a];s&&s.clone?i.newProperties[a]=s.clone():i.newProperties[a]=s}for(var c=0;c<r.length;c++){var u=r[c],f={};for(var d in o)if(Object.prototype.hasOwnProperty.call(o,d)){var h=u[d];h&&h.clone?f[d]=h.clone():f[d]=h}i.objectsOldProperties.push(f)}return i}return(0,u.Z)(n,[{key:"execute",value:function(){this.editor.setPropertiesMultiple(this.objects,this.newProperties,!1)}},{key:"undo",value:function(){for(var e=0;e<this.objects.length;e++)this.editor.setProperties(this.objects[e],this.objectsOldProperties[e],!1,!1);this.editor.emit("objectsChanged",this.objects)}},{key:"toString",value:function(){return"SetPropertiesMultipleCommand id: ".concat(this.id," objects: ").concat(Vr(this.objects)," properties: ").concat(Hr(this.newProperties))}}]),n}(Lr);function Yo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Xo=function(e){(0,f.Z)(n,e);var t=Yo(n);function n(e,r,o,i,a){var s;(0,l.Z)(this,n),(s=t.call(this,e)).object=r,s.propertyName=o,s.disableCopy=a,i&&i.clone&&!a?s.newValue=i.clone():s.newValue=i;var c=s.object[o];return c&&c.clone&&!a?s.oldValue=c.clone():s.oldValue=c,s}return(0,u.Z)(n,[{key:"execute",value:function(){this.editor.setProperty(this.object,this.propertyName,this.newValue,!1,!0,this.disableCopy)}},{key:"shouldUpdate",value:function(e){return this.object===e.object&&this.propertyName===e.propertyName}},{key:"update",value:function(e){var t=e.newValue;t&&t.clone&&t.copy&&!this.disableCopy?this.newValue=t.clone():this.newValue=t,this.editor.setProperty(this.object,this.propertyName,this.newValue,!1,!0,this.disableCopy)}},{key:"undo",value:function(){this.editor.setProperty(this.object,this.propertyName,this.oldValue,!1,!0,this.disableCopy)}},{key:"toString",value:function(){return"SetPropertyCommand id: ".concat(this.id," object: ").concat(Ur(this.object)," propertyName: ").concat(this.propertyName," newValue: ").concat(Br(this.newValue))}}]),n}(Lr);function $o(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Jo=function(e){(0,f.Z)(n,e);var t=$o(n);function n(e,r,o,i){var a;return(0,l.Z)(this,n),(a=t.call(this,e)).objects=r.slice(0),a.propertyName=o,i&&i.clone?a.newValue=i.clone():a.newValue=i,a.oldValues=a.objects.map((function(e){var t=e[o];return t&&t.clone?t.clone():t})),a}return(0,u.Z)(n,[{key:"execute",value:function(){this.editor.setPropertyMultiple(this.objects,this.propertyName,this.newValue,!1)}},{key:"shouldUpdate",value:function(e){return this.propertyName===e.propertyName&&Po(this.objects,e.objects)}},{key:"update",value:function(e){var t=e.newValue;t&&t.clone&&t.copy?this.newValue=t.clone():this.newValue=t,this.editor.setPropertyMultiple(this.objects,this.propertyName,this.newValue,!1)}},{key:"undo",value:function(){for(var e=0;e<this.objects.length;e++)this.editor.setProperty(this.objects[e],this.propertyName,this.oldValues[e],!1,!1);this.editor.emit("objectsChanged",this.objects,this.propertyName)}},{key:"toString",value:function(){return"SetPropertyMultipleCommand id: ".concat(this.id," objects: ").concat(Vr(this.objects)," propertyName: ").concat(this.propertyName," newValue: ").concat(Br(this.newValue))}}]),n}(Lr);function Qo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var ei=function(e){(0,f.Z)(n,e);var t=Qo(n);function n(e,r,o,i){var a;return(0,l.Z)(this,n),(a=t.call(this,e)).object=r,a.rotation=o.clone(),a.space=i,a.oldRotation=r.rotation.clone(),a}return(0,u.Z)(n,[{key:"execute",value:function(){this.editor.setRotation(this.object,this.rotation,this.space,!1)}},{key:"shouldUpdate",value:function(e){return this.object===e.object&&this.space===e.space}},{key:"update",value:function(e){this.rotation=e.rotation.clone(),this.editor.setRotation(this.object,e.rotation,this.space,!1)}},{key:"undo",value:function(){this.editor.setRotation(this.object,this.oldRotation,wo,!1)}},{key:"toString",value:function(){return"SetRotationCommand id: ".concat(this.id," object: ").concat(Ur(this.object)," rotation: ").concat(Fr(this.rotation)," space: ").concat(this.space)}}]),n}(Lr);function ti(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var ni=function(e){(0,f.Z)(n,e);var t=ti(n);function n(e,r,o,i){var a;return(0,l.Z)(this,n),(a=t.call(this,e)).objects=r.slice(0),a.rotation=o.clone(),a.space=i,a.oldRotations=r.map((function(e){return e.rotation.clone()})),a}return(0,u.Z)(n,[{key:"execute",value:function(){this.editor.setRotationMultiple(this.objects,this.rotation,this.space,!1)}},{key:"shouldUpdate",value:function(e){return this.space===e.space&&Po(this.objects,e.objects)}},{key:"update",value:function(e){this.rotation=e.rotation.clone(),this.editor.setRotationMultiple(this.objects,e.rotation,this.space,!1)}},{key:"undo",value:function(){for(var e=0;e<this.objects.length;e++)this.editor.setRotation(this.objects[e],this.oldRotations[e],wo,!1,!1);this.editor.emit("objectsChanged",this.objects,"rotation")}},{key:"toString",value:function(){return"SetRotationMultipleCommand id: ".concat(this.id," objects: ").concat(Vr(this.objects)," rotation: ").concat(Fr(this.rotation)," space: ").concat(this.space)}}]),n}(Lr);function ri(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var oi=function(e){(0,f.Z)(n,e);var t=ri(n);function n(e,r,o,i){var a;return(0,l.Z)(this,n),(a=t.call(this,e)).object=r,a.scale=o.clone(),a.space=i,a.oldScale=r.scale.clone(),a}return(0,u.Z)(n,[{key:"execute",value:function(){this.editor.setScale(this.object,this.scale,this.space,!1)}},{key:"shouldUpdate",value:function(e){return this.object===e.object&&this.space===e.space}},{key:"update",value:function(e){this.scale=e.scale.clone(),this.editor.setScale(this.object,e.scale,this.space,!1)}},{key:"undo",value:function(){this.editor.setScale(this.object,this.oldScale,wo,!1)}},{key:"toString",value:function(){return"SetScaleCommand id: ".concat(this.id," object: ").concat(Ur(this.object)," scale: ").concat(zr(this.scale)," space: ").concat(this.space)}}]),n}(Lr);function ii(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var ai=function(e){(0,f.Z)(n,e);var t=ii(n);function n(e,r,o,i){var a;return(0,l.Z)(this,n),(a=t.call(this,e)).objects=r.slice(0),a.scale=o.clone(),a.space=i,a.oldScales=r.map((function(e){return e.scale.clone()})),a}return(0,u.Z)(n,[{key:"execute",value:function(){this.editor.setScaleMultiple(this.objects,this.scale,this.space,!1)}},{key:"shouldUpdate",value:function(e){return this.space===e.space&&Po(this.objects,e.objects)}},{key:"update",value:function(e){this.scale=e.scale.clone(),this.editor.setScaleMultiple(this.objects,e.scale,this.space,!1)}},{key:"undo",value:function(){for(var e=0;e<this.objects.length;e++)this.editor.setScale(this.objects[e],this.oldScales[e],wo,!1,!1);this.editor.emit("objectsChanged",this.objects,"scale")}},{key:"toString",value:function(){return"SetScaleMultipleCommand id: ".concat(this.id," objects: ").concat(Vr(this.objects)," scale: ").concat(zr(this.scale)," space: ").concat(this.space)}}]),n}(Lr);function si(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var ci=function(e){(0,f.Z)(n,e);var t=si(n);function n(e,r){var o;return(0,l.Z)(this,n),(o=t.call(this,e)).oldSelection=e.selected.slice(0),o.objects=r.slice(0),o}return(0,u.Z)(n,[{key:"execute",value:function(){this.editor.setSelection(this.objects,!1)}},{key:"undo",value:function(){this.editor.setSelection(this.oldSelection,!1)}},{key:"toString",value:function(){return"SetSelectionCommand id: ".concat(this.id," objects: ").concat(Vr(this.objects))}}]),n}(Lr);function li(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var ui=function(e){(0,f.Z)(n,e);var t=li(n);function n(e,r,o,i){var a;return(0,l.Z)(this,n),(a=t.call(this,e)).object=r,a.translation=o.clone(),a.space=i,a.oldPosition=r.position.clone(),a}return(0,u.Z)(n,[{key:"execute",value:function(){this.editor.translate(this.object,this.translation,this.space,!1)}},{key:"shouldUpdate",value:function(e){return this.object===e.object&&this.space===e.space}},{key:"update",value:function(e){this.translation.add(e.translation),this.editor.translate(this.object,e.translation,this.space,!1)}},{key:"undo",value:function(){this.editor.setPosition(this.object,this.oldPosition,wo,!1)}},{key:"toString",value:function(){return"TranslateCommand id: ".concat(this.id," object: ").concat(Ur(this.object)," translation: ").concat(zr(this.translation)," space: ").concat(this.space)}}]),n}(Lr);function fi(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var di=function(e){(0,f.Z)(n,e);var t=fi(n);function n(e,r,o,i){var a;return(0,l.Z)(this,n),(a=t.call(this,e)).objects=r.slice(0),a.translation=o.clone(),a.space=i,a.oldPositions=r.map((function(e){return e.position.clone()})),a}return(0,u.Z)(n,[{key:"execute",value:function(){this.editor.translateMultiple(this.objects,this.translation,this.space,!1)}},{key:"shouldUpdate",value:function(e){return this.space===e.space&&Po(this.objects,e.objects)}},{key:"update",value:function(e){this.translation.add(e.translation),this.editor.translateMultiple(this.objects,e.translation,this.space,!1)}},{key:"undo",value:function(){for(var e=0;e<this.objects.length;e++)this.editor.setPosition(this.objects[e],this.oldPositions[e],wo,!1,!1);this.editor.emit("objectsChanged",this.objects,"position")}},{key:"toString",value:function(){return"TranslateMultipleCommand id: ".concat(this.id," objects: ").concat(Vr(this.objects)," translation: ").concat(zr(this.translation)," space: ").concat(this.space)}}]),n}(Lr),hi=n(416),pi=n.n(hi);var vi,mi,gi={moveLeft:"moveLeft",moveRight:"moveRight",moveX:"moveX",moveForward:"moveForward",moveBackward:"moveBackward",moveZ:"moveZ",lookX:"lookX",lookY:"lookY",moveDown:"moveDown",moveUp:"moveUp",moveY:"moveY",boost:"boost"},yi={grab:"grab",focus:"focus",focusPosition:"focusPosition",focusSelection:"focusSelection",zoomDelta:"zoomDelta",enableFlyMode:"enableFlyMode",disableFlyMode:"disableFlyMode",flying:"flying",selecting:"selecting",selectStart:"selectStart",selectStartPosition:"selectStartPosition",selectEnd:"selectEnd",selectEndPosition:"selectEndPosition",cursorPosition:"cursorPosition",cursorDeltaX:"cursorDeltaX",cursorDeltaY:"cursorDeltaY",panning:"panning",setTranslateMode:"setTranslateMode",setRotateMode:"setRotateMode",setScaleMode:"setScaleMode",toggleSnapMode:"toggleSnapMode",toggleTransformPivot:"toggleTransformPivot",modifier:"modifier",shift:"shift",toggleTransformSpace:"toggleTransformSpace",deleteSelected:"deleteSelected",undo:"undo",redo:"redo",duplicateSelected:"duplicateSelected",groupSelected:"groupSelected",saveProject:"saveProject",cancel:"cancel",rotateLeft:"rotateLeft",rotateRight:"rotateRight",incrementGridHeight:"incrementGridHeight",decrementGridHeight:"decrementGridHeight"},bi={keyboard:{pressed:{w:gi.moveForward,a:gi.moveLeft,s:gi.moveBackward,d:gi.moveRight,r:gi.moveDown,t:gi.moveUp,shift:gi.boost}},mouse:{move:{normalizedMovementX:gi.lookX,normalizedMovementY:gi.lookY}},computed:[{transform:function(e){return e.get(gi.moveRight)-e.get(gi.moveLeft)},action:gi.moveX},{transform:function(e){return e.get(gi.moveUp)-e.get(gi.moveDown)},action:gi.moveY},{transform:function(e){return e.get(gi.moveBackward)-e.get(gi.moveForward)},action:gi.moveZ}]},wi={mouse:{dblclick:{event:[(mi=yi.focus,{reset:!0,defaultValue:!1,handler:function(){return!0},action:mi})],position:yi.focusPosition},wheel:{normalizedDeltaY:yi.zoomDelta},pressed:{left:yi.selecting,middle:yi.panning,right:yi.flying},mousedown:{event:[(vi=function(e){return 2===e.button},{handler:function(e,t){(!vi||vi(e,t))&&t.canvas.requestPointerLock()}})],left:yi.selectStart,position:yi.selectStartPosition,right:yi.enableFlyMode},mouseup:{event:[function(e){return{handler:function(t,n){(!e||e(t,n))&&document.pointerLockElement===n.canvas&&document.exitPointerLock()}}}((function(e){return 2===e.button}))],left:yi.selectEnd,position:yi.selectEndPosition,right:yi.disableFlyMode},move:{position:yi.cursorPosition,normalizedMovementX:yi.cursorDeltaX,normalizedMovementY:yi.cursorDeltaY}},keyboard:{pressed:{mod:yi.modifier,shift:yi.shift},hotkeys:{"=":yi.incrementGridHeight,"-":yi.decrementGridHeight,f:yi.focusSelection,t:yi.setTranslateMode,r:yi.setRotateMode,y:yi.setScaleMode,q:yi.rotateLeft,e:yi.rotateRight,g:yi.grab,z:yi.toggleTransformSpace,x:yi.toggleTransformPivot,c:yi.toggleSnapMode,backspace:yi.deleteSelected,del:yi.deleteSelected,"mod+z":yi.undo,"mod+shift+z":yi.redo,"mod+d":yi.duplicateSelected,"mod+g":yi.groupSelected,esc:yi.cancel},globalHotkeys:{"mod+s":yi.saveProject}}};function xi(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Si(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Si(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Si(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ci(e,t){if(e.length>0){var n,r=xi(e);try{for(r.s();!(n=r.n()).done;){for(var o=n.value,i=o.object;i&&!i.isNode;)i=i.parent;if(i&&i!==t&&!i.ignoreRaycast)return o.node=i,o}}catch(a){r.e(a)}finally{r.f()}}return null}function ki(e,t,n){n(e,t);for(var r=0;r<e.children.length;r++)ki(e.children[r],t.children[r],n)}function Oi(e,t){var n=e.tracks.map((function(e){return function(e,t){var n=Yn.iUV.parseTrackName(e.name),r=n.nodeName,o=n.objectName,i=n.objectIndex,a=n.propertyName,s=n.propertyIndex,c="";if(void 0!==r){var l=t.get(r);if(void 0===l)throw new Error('Error cloning model. Could not find KeyframeTrack target with uuid: "'.concat(r,'"'));c+=l}void 0!==o&&(c+="."+o),void 0!==i&&(c+="["+i+"]"),void 0!==a&&(c+="."+a),void 0!==s&&(c+="["+s+"]");var u=e.clone();return u.name=c,u}(e,t)}));return new Yn.m7l(e.name,e.duration,n)}function Pi(e,t){var n=new Map,r=new Map,o=e.clone();return ki(e,o,(function(e,t){n.set(e,t)})),e.traverse((function(e){var o=n.get(e);if(!o)throw new Error("Couldn't find the cloned node for ".concat(e.nodeName||e.type,' "').concat(e.name,'"'));t&&(o.uuid=e.uuid),r.set(e.uuid,o.uuid)})),e.traverse((function(e){var t=n.get(e);if(t&&(e.animations&&(t.animations=e.animations.map((function(e){return Oi(e,r)}))),e.isMesh&&e.geometry.boundsTree&&(t.geometry.boundsTree=e.geometry.boundsTree),e.isSkinnedMesh)){var o=e.skeleton.bones;t.skeleton=e.skeleton.clone(),t.skeleton.bones=o.map((function(e){if(!n.has(e))throw new Error("Required bones are not descendants of the given object.");return n.get(e)})),t.bind(t.skeleton,e.bindMatrix)}})),o}function Mi(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Ri=null,Ei=function(e){(0,f.Z)(n,e);var t=Mi(n);function n(){var e;if((0,l.Z)(this,n),(e=t.call(this)).name="TransformGizmo",!Ri)throw new Error("TransformGizmo must be loaded before it can be used. Await TransformGizmo.load()");e.model=Pi(Ri.scene),e.add(e.model),e.selectionColor=(new Yn.Ilk).setRGB(1,1,1),e.previousColor=new Yn.Ilk,e.raycasterResults=[],e.translateControls=e.model.getObjectByName("TranslateControls"),e.translateXAxis=e.translateControls.getObjectByName("TranslateXAxis"),e.translateXAxis.axisInfo={axis:zi.X,planeNormal:new Yn.Pa4(0,1,0),selectionColorTarget:e.translateXAxis.material},e.translateYAxis=e.translateControls.getObjectByName("TranslateYAxis"),e.translateYAxis.axisInfo={axis:zi.Y,planeNormal:new Yn.Pa4(0,0,1),selectionColorTarget:e.translateYAxis.material},e.translateZAxis=e.translateControls.getObjectByName("TranslateZAxis"),e.translateZAxis.axisInfo={axis:zi.Z,planeNormal:new Yn.Pa4(0,1,0),selectionColorTarget:e.translateZAxis.material},e.translateXYPlane=e.translateControls.getObjectByName("TranslateXYPlane"),e.translateXYPlane.axisInfo={axis:zi.XY,planeNormal:new Yn.Pa4(0,0,1),selectionColorTarget:e.translateXYPlane.material},e.translateYZPlane=e.translateControls.getObjectByName("TranslateYZPlane"),e.translateYZPlane.axisInfo={axis:zi.YZ,planeNormal:new Yn.Pa4(1,0,0),selectionColorTarget:e.translateYZPlane.material},e.translateXZPlane=e.translateControls.getObjectByName("TranslateXZPlane"),e.translateXZPlane.axisInfo={axis:zi.XZ,planeNormal:new Yn.Pa4(0,1,0),selectionColorTarget:e.translateXZPlane.material},e.rotateControls=e.model.getObjectByName("RotateControls"),e.rotateXAxis=e.rotateControls.getObjectByName("RotateXAxis");var r=e.rotateXAxis.getObjectByName("RotateXAxisDisk"),o=e.rotateXAxis.getObjectByName("RotateXAxisStart"),i=e.rotateXAxis.getObjectByName("RotateXAxisEnd"),a=o.clone();r.axisInfo={axis:zi.X,planeNormal:new Yn.Pa4(1,0,0),rotationTarget:r,startMarker:o,startMarkerLocal:a,endMarker:i,selectionColorTarget:r.material},e.rotateYAxis=e.rotateControls.getObjectByName("RotateYAxis");var s=e.rotateYAxis.getObjectByName("RotateYAxisDisk"),c=e.rotateYAxis.getObjectByName("RotateYAxisStart"),u=e.rotateYAxis.getObjectByName("RotateYAxisEnd"),f=c.clone();s.axisInfo={axis:zi.Y,planeNormal:new Yn.Pa4(0,1,0),rotationTarget:s,startMarker:c,startMarkerLocal:f,endMarker:u,selectionColorTarget:s.material},e.rotateZAxis=e.rotateControls.getObjectByName("RotateZAxis");var d=e.rotateZAxis.getObjectByName("RotateZAxisDisk"),h=e.rotateZAxis.getObjectByName("RotateZAxisStart"),p=e.rotateZAxis.getObjectByName("RotateZAxisEnd"),v=h.clone();return d.axisInfo={axis:zi.Z,planeNormal:new Yn.Pa4(0,0,1),rotationTarget:d,startMarker:h,startMarkerLocal:v,endMarker:p,selectionColorTarget:d.material},e.scaleControls=e.model.getObjectByName("ScaleControls"),e.scaleXAxis=e.scaleControls.getObjectByName("ScaleXAxis"),e.scaleXAxis.axisInfo={axis:zi.X,planeNormal:new Yn.Pa4(0,0,1),selectionColorTarget:e.scaleXAxis.material},e.scaleYAxis=e.scaleControls.getObjectByName("ScaleYAxis"),e.scaleYAxis.axisInfo={axis:zi.Y,planeNormal:new Yn.Pa4(0,0,1),selectionColorTarget:e.scaleYAxis.material},e.scaleZAxis=e.scaleControls.getObjectByName("ScaleZAxis"),e.scaleZAxis.axisInfo={axis:zi.Z,planeNormal:new Yn.Pa4(0,1,0),selectionColorTarget:e.scaleZAxis.material},e.scaleXYPlane=e.scaleControls.getObjectByName("ScaleXYPlane"),e.scaleXYPlane.axisInfo={axis:zi.XY,planeNormal:new Yn.Pa4(0,0,1),selectionColorTarget:e.scaleXYPlane.material},e.scaleYZPlane=e.scaleControls.getObjectByName("ScaleYZPlane"),e.scaleYZPlane.axisInfo={axis:zi.YZ,planeNormal:new Yn.Pa4(1,0,0),selectionColorTarget:e.scaleYZPlane.material},e.scaleXZPlane=e.scaleControls.getObjectByName("ScaleXZPlane"),e.scaleXZPlane.axisInfo={axis:zi.XZ,planeNormal:new Yn.Pa4(0,1,0),selectionColorTarget:e.scaleXZPlane.material},e.scaleUniformHandle=e.scaleControls.getObjectByName("ScaleUniformHandle"),e.scaleUniformHandle.axisInfo={axis:zi.XYZ,planeNormal:new Yn.Pa4(0,1,0),selectionColorTarget:e.scaleUniformHandle.material},o.visible=!1,i.visible=!1,c.visible=!1,u.visible=!1,h.visible=!1,p.visible=!1,e.translateControls.visible=!1,e.rotateControls.visible=!1,e.scaleControls.visible=!1,e.transformMode=Li.Disabled,e.model.traverse((function(e){e.isMesh&&(e.material.depthTest=!1,e.material.depthWrite=!1,e.renderOrder=100)})),e}return(0,u.Z)(n,[{key:"setTransformMode",value:function(e){switch(this.transformMode=e,this.translateControls.visible=!1,this.rotateControls.visible=!1,this.scaleControls.visible=!1,e){case Li.Translate:this.translateControls.visible=!0,this.activeControls=this.translateControls;break;case Li.Rotate:this.rotateControls.visible=!0,this.activeControls=this.rotateControls;break;case Li.Scale:this.scaleControls.visible=!0,this.activeControls=this.scaleControls;break;default:this.selectedAxis=void 0,this.activeControls=null}}},{key:"setLocalScaleHandlesVisible",value:function(e){this.scaleXAxis.visible=e,this.scaleYAxis.visible=e,this.scaleZAxis.visible=e,this.scaleXYPlane.visible=e,this.scaleYZPlane.visible=e,this.scaleXZPlane.visible=e}},{key:"selectAxisWithRaycaster",value:function(e){if(this.deselectAxis(),this.activeControls){this.raycasterResults.length=0,this.raycasterResults=e.intersectObject(this.activeControls,!0,this.raycasterResults);var t=this.raycasterResults.find((function(e){return void 0!==e.object.axisInfo}));if(t){this.selectedAxis=t.object;var n=this.selectedAxis.axisInfo;return this.previousColor.copy(n.selectionColorTarget.color),n.selectionColorTarget.color.copy(this.selectionColor),n.rotationStartObject&&(n.rotationStartObject.visible=!0),n.rotationEndObject&&(n.rotationEndObject.visible=!0),n.axis}}}},{key:"highlightHoveredAxis",value:function(e){if(this.activeControls){this.hoveredAxis&&(this.hoveredAxis.axisInfo.selectionColorTarget.opacity=.5),this.raycasterResults.length=0,this.raycasterResults=e.intersectObject(this.activeControls,!0,this.raycasterResults);var t=this.raycasterResults.find((function(e){return void 0!==e.object.axisInfo}));t&&(t.object.axisInfo.selectionColorTarget.opacity=1,this.hoveredAxis=t.object)}}},{key:"deselectAxis",value:function(){if(this.selectedAxis){var e=this.selectedAxis.axisInfo;e.selectionColorTarget.color.copy(this.previousColor),e.rotationStartObject&&(e.rotationStartObject.visible=!1),e.rotationEndObject&&(e.rotationEndObject.visible=!1),this.selectedAxis=void 0}}},{key:"clone",value:function(){return(new Yn.Tme).copy(this)}}],[{key:"load",value:function(){var e=(0,c.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ri){e.next=2;break}return e.abrupt("return",Promise.resolve(Ri));case 2:return e.next=4,(0,Kn.Vb)("/editor/TransformGizmo.glb");case 4:return t=e.sent,Ri=t,e.abrupt("return",Ri);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),n}(Yn.Tme);function Zi(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return ji(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ji(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function ji(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Di(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Ti="Disabled",Ai="Grid",_i="Selection",Ii="Center",Ni="Bottom",Li={Disabled:"Disabled",Grab:"Grab",Placement:"Placement",Translate:"Translate",Rotate:"Rotate",Scale:"Scale"},zi={X:"X",Y:"Y",Z:"Z",XY:"XY",YZ:"YZ",XZ:"XZ",XYZ:"XYZ"},Fi={X:new Yn.Pa4(1,0,0),Y:new Yn.Pa4(0,1,0),Z:new Yn.Pa4(0,0,1),XY:new Yn.Pa4(1,1,0),YZ:new Yn.Pa4(0,1,1),XZ:new Yn.Pa4(1,0,1),XYZ:new Yn.Pa4(1,1,1)},Ui=new Yn.Pa4;function Vi(e,t){return e.distance-t.distance}var Bi=function(e){(0,f.Z)(n,e);var t=Di(n);function n(e,r,o,i){var a;return(0,l.Z)(this,n),(a=t.call(this)).onSceneSet=function(e){a.scene=e},a.onBeforeSelectionChanged=function(){if(a.transformMode===Li.Grab){var e=a.grabHistoryCheckpoint;a.setTransformMode(a.transformModeOnCancel),a.editor.revert(e)}else a.transformMode===Li.Placement&&(a.setTransformMode(a.transformModeOnCancel),a.editor.removeSelectedObjects())},a.onSelectionChanged=function(){a.selectionChanged=!0},a.onObjectsChanged=function(e,t){"position"!==t&&"rotation"!==t&&"scale"!==t&&"matrix"!==t||(a.transformPropertyChanged=!0)},a.transformPivotModes=[_i,Ii,Ni],a.camera=e,a.editor=r,a.inputManager=o,a.flyControls=i,a.enabled=!1,a.normalMatrix=new Yn.Vkp,a.vector=new Yn.Pa4,a.delta=new Yn.Pa4,a.center=new Yn.Pa4,a.spherical=new Yn.$V,a.panSpeed=1,a.zoomSpeed=.1,a.orbitSpeed=5,a.lookSensitivity=5,a.selectSensitivity=.001,a.boostSpeed=4,a.moveSpeed=4,a.initialLookSensitivity=i.lookSensitivity,a.initialBoostSpeed=i.boostSpeed,a.initialMoveSpeed=i.moveSpeed,a.distance=0,a.maxFocusDistance=1e3,a.raycaster=new Yn.iMs,a.raycasterResults=[],a.scene=r.scene,a.box=new Yn.ZzF,a.sphere=new Yn.aLr,a.centerViewportPosition=new Yn.FM8,a.raycastIgnoreLayers=new Yn.S9g,a.raycastIgnoreLayers.set(1),a.renderableLayers=new Yn.S9g,a.transformGizmo=new Ei,a.editor.helperScene.add(a.transformGizmo),a.transformMode=Li.Translate,a.multiplePlacement=!1,a.transformModeOnCancel=Li.Translate,a.transformSpace=bo,a.transformPivot=_i,a.transformAxis=null,a.grabHistoryCheckpoint=null,a.placementObjects=[],a.snapMode=Ai,a.translationSnap=.5,a.rotationSnap=90,a.scaleSnap=.1,a.editor.grid.setSize(a.translationSnap),a.selectionBoundingBox=new Yn.ZzF,a.selectStartPosition=new Yn.FM8,a.selectEndPosition=new Yn.FM8,a.inverseGizmoQuaternion=new Yn._fP,a.dragOffset=new Yn.Pa4,a.transformRay=new Yn.zHn,a.transformPlane=new Yn.JOQ,a.planeIntersection=new Yn.Pa4,a.planeNormal=new Yn.Pa4,a.translationVector=new Yn.Pa4,a.initRotationDragVector=new Yn.Pa4,a.prevRotationAngle=0,a.curRotationDragVector=new Yn.Pa4,a.normalizedInitRotationDragVector=new Yn.Pa4,a.normalizedCurRotationDragVector=new Yn.Pa4,a.initDragVector=new Yn.Pa4,a.dragVector=new Yn.Pa4,a.deltaDragVector=new Yn.Pa4,a.prevScale=new Yn.Pa4,a.curScale=new Yn.Pa4,a.scaleVector=new Yn.Pa4,a.dragging=!1,a.selectionChanged=!0,a.transformPropertyChanged=!0,a.transformModeChanged=!0,a.transformPivotChanged=!0,a.transformSpaceChanged=!0,a.flyStartTime=0,a.flyModeSensitivity=.25,a.editor.addListener("beforeSelectionChanged",a.onBeforeSelectionChanged),a.editor.addListener("selectionChanged",a.onSelectionChanged),a.editor.addListener("objectsChanged",a.onObjectsChanged),a}return(0,u.Z)(n,[{key:"enable",value:function(){this.enabled=!0,this.inputManager.enableInputMapping(yi,wi)}},{key:"disable",value:function(){this.enabled=!1,this.inputManager.disableInputMapping(yi)}},{key:"update",value:function(){if(this.enabled){var e=this.inputManager;e.get(yi.enableFlyMode)?(this.flyStartTime=performance.now(),this.distance=this.camera.position.distanceTo(this.center)):e.get(yi.disableFlyMode)&&(this.flyControls.disable(),this.flyControls.lookSensitivity=this.initialLookSensitivity,this.flyControls.boostSpeed=this.initialBoostSpeed,this.flyControls.moveSpeed=this.initialMoveSpeed,this.center.addVectors(this.camera.position,this.vector.set(0,0,-this.distance).applyMatrix3(this.normalMatrix.getNormalMatrix(this.camera.matrix))),this.emit("flyModeChanged"),performance.now()-this.flyStartTime<1e3*this.flyModeSensitivity&&this.cancel());var t=e.get(yi.flying);t&&!this.flyControls.enabled&&performance.now()-this.flyStartTime>100&&(this.flyControls.enable(),this.initialLookSensitivity=this.flyControls.lookSensitivity,this.initialMoveSpeed=this.flyControls.moveSpeed,this.initialBoostSpeed=this.flyControls.boostSpeed,this.flyControls.lookSensitivity=this.lookSensitivity,this.flyControls.moveSpeed=this.moveSpeed,this.flyControls.boostSpeed=this.boostSpeed,this.emit("flyModeChanged"));var n=e.get(yi.shift),r=this.editor.selected,o=this.editor.selectedTransformRoots,i=e.get(yi.modifier),a=!1;this.transformModeChanged&&(this.transformGizmo.setTransformMode(this.transformMode),this.transformMode!==Li.Grab&&this.transformMode!==Li.Placement||(a=!0));var s=e.get(yi.selectStart)&&!t&&this.transformMode!==Li.Grab&&this.transformMode!==Li.Placement;if(o.length>0&&this.transformMode!==Li.Disabled){var c=r[r.length-1];if(this.selectionChanged||this.transformModeChanged||this.transformPivotChanged||this.transformPropertyChanged)if(this.transformPivot===_i)c.getWorldPosition(this.transformGizmo.position);else{this.selectionBoundingBox.makeEmpty();for(var l=0;l<o.length;l++)this.selectionBoundingBox.expandByObject(o[l]);this.transformPivot===Ii?this.selectionBoundingBox.getCenter(this.transformGizmo.position):(this.transformGizmo.position.x=(this.selectionBoundingBox.max.x+this.selectionBoundingBox.min.x)/2,this.transformGizmo.position.y=this.selectionBoundingBox.min.y,this.transformGizmo.position.z=(this.selectionBoundingBox.max.z+this.selectionBoundingBox.min.z)/2)}(this.selectionChanged||this.transformModeChanged||this.transformSpaceChanged||this.transformPropertyChanged)&&(this.transformSpace===xo?c.getWorldQuaternion(this.transformGizmo.quaternion):this.transformGizmo.rotation.set(0,0,0),this.inverseGizmoQuaternion.copy(this.transformGizmo.quaternion).invert()),(this.transformModeChanged||this.transformSpaceChanged)&&this.transformMode===Li.Scale&&this.transformGizmo.setLocalScaleHandlesVisible(this.transformSpace!==bo),this.transformGizmo.visible=!0}else this.transformGizmo.visible=!1;this.selectionChanged=!1,this.transformModeChanged=!1,this.transformPivotChanged=!1,this.transformSpaceChanged=!1;var u=e.get(yi.cursorPosition);if(s){var f=e.get(yi.selectStartPosition);if(this.selectStartPosition.copy(f),this.raycaster.setFromCamera(f,this.camera),this.transformGizmo.activeControls)if(this.transformAxis=this.transformGizmo.selectAxisWithRaycaster(this.raycaster),this.transformAxis){var d=this.transformGizmo.selectedAxis.axisInfo;this.planeNormal.copy(d.planeNormal).applyQuaternion(this.transformGizmo.quaternion).normalize(),this.transformPlane.setFromNormalAndCoplanarPoint(this.planeNormal,this.transformGizmo.position),this.dragging=!0}else this.dragging=!1}else this.transformGizmo.activeControls&&!this.dragging&&(this.raycaster.setFromCamera(u,this.camera),this.transformGizmo.highlightHoveredAxis(this.raycaster));var h,p=1===e.get(yi.selectEnd);if(this.dragging||this.transformMode===Li.Grab||this.transformMode===Li.Placement)if(this.transformMode===Li.Grab||this.transformMode===Li.Placement?(this.getRaycastPosition(t?this.centerViewportPosition:u,this.planeIntersection,i),h=Fi.XYZ):(this.transformRay.origin.setFromMatrixPosition(this.camera.matrixWorld),this.transformRay.direction.set(u.x,u.y,.5).unproject(this.camera).sub(this.transformRay.origin),this.transformRay.intersectPlane(this.transformPlane,this.planeIntersection),h=Fi[this.transformAxis]),h||console.warn("Axis Constraint is undefined. transformAxis was ".concat(this.transformAxis," transformMode was ").concat(this.transformMode," dragging was ").concat(this.dragging)),s?this.dragOffset.subVectors(this.transformGizmo.position,this.planeIntersection):a&&this.dragOffset.set(0,0,0),this.planeIntersection.add(this.dragOffset),this.transformMode===Li.Translate||this.transformMode===Li.Grab||this.transformMode===Li.Placement){if(this.translationVector.subVectors(this.planeIntersection,this.transformGizmo.position).applyQuaternion(this.inverseGizmoQuaternion).multiply(h),this.translationVector.applyQuaternion(this.transformGizmo.quaternion),this.transformGizmo.position.add(this.translationVector),this.shouldSnap(i)){var v=this.transformGizmo.position,m=v.x,g=v.y,y=v.z,b=(new Yn.Pa4).copy(h).applyQuaternion(this.transformGizmo.quaternion);v.set(0!==b.x?Math.round(v.x/this.translationSnap)*this.translationSnap:v.x,0!==b.y?Math.round(v.y/this.translationSnap)*this.translationSnap:v.y,0!==b.z?Math.round(v.z/this.translationSnap)*this.translationSnap:v.z);var w=v.x-m,x=v.y-g,S=v.z-y;this.translationVector.set(this.translationVector.x+w,this.translationVector.y+x,this.translationVector.z+S)}var C=this.editor.translateSelected(this.translationVector,this.transformSpace);a&&this.transformMode===Li.Grab&&(this.grabHistoryCheckpoint=C.id)}else if(this.transformMode===Li.Rotate){s&&(this.initRotationDragVector.subVectors(this.planeIntersection,this.dragOffset).sub(this.transformGizmo.position),this.prevRotationAngle=0),this.curRotationDragVector.subVectors(this.planeIntersection,this.dragOffset).sub(this.transformGizmo.position),this.normalizedInitRotationDragVector.copy(this.initRotationDragVector).normalize(),this.normalizedCurRotationDragVector.copy(this.curRotationDragVector).normalize();var k=this.curRotationDragVector.angleTo(this.initRotationDragVector);if(k*=this.normalizedInitRotationDragVector.cross(this.normalizedCurRotationDragVector).dot(this.planeNormal)>0?1:-1,this.shouldSnap(i)){var O=Yn.M8C.DEG2RAD*this.rotationSnap;k=Math.round(k/O)*O}var P=k-this.prevRotationAngle;this.prevRotationAngle=k,this.editor.rotateAroundSelected(this.transformGizmo.position,this.planeNormal,P);var M=this.transformGizmo.selectedAxis.axisInfo;if(s&&(M.startMarker.visible=!0,M.endMarker.visible=!0,this.transformSpace!==bo)){var R=M.startMarkerLocal;R.position.copy(this.transformGizmo.position),R.quaternion.copy(this.transformGizmo.quaternion),R.scale.copy(this.transformGizmo.scale),this.scene.add(R)}if(this.transformSpace===bo){if(!M.rotationTarget)throw new Error("Couldn't rotate object due to an unknown error. The selected axis is ".concat(this.transformGizmo.selectedAxis.name," The selected axis info is: ").concat(JSON.stringify(M)));M.rotationTarget.rotateOnAxis(M.planeNormal,P)}else this.transformGizmo.rotateOnAxis(M.planeNormal,P);if(p&&(M.startMarker.visible=!1,M.endMarker.visible=!1,M.rotationTarget.rotation.set(0,0,0),this.transformSpace!==bo)){var E=M.startMarkerLocal;this.scene.remove(E)}}else if(this.transformMode===Li.Scale){var Z;this.dragVector.copy(this.planeIntersection).applyQuaternion(this.inverseGizmoQuaternion).multiply(h),s&&(this.initDragVector.copy(this.dragVector),this.prevScale.set(1,1,1)),this.deltaDragVector.subVectors(this.dragVector,this.initDragVector),this.deltaDragVector.multiply(h),Z=this.transformAxis===zi.XYZ?1+this.camera.getWorldDirection(Ui).applyQuaternion(this.transformGizmo.quaternion).dot(this.deltaDragVector):1+h.dot(this.deltaDragVector),this.curScale.set(0===h.x?1:Z,0===h.y?1:Z,0===h.z?1:Z),this.shouldSnap(i)&&this.curScale.divideScalar(this.scaleSnap).round().multiplyScalar(this.scaleSnap),this.curScale.set(this.curScale.x<=0?Number.EPSILON:this.curScale.x,this.curScale.y<=0?Number.EPSILON:this.curScale.y,this.curScale.z<=0?Number.EPSILON:this.curScale.z),this.scaleVector.copy(this.curScale).divide(this.prevScale),this.prevScale.copy(this.curScale),this.editor.scaleSelected(this.scaleVector,this.transformSpace)}if(p)if(this.transformMode===Li.Grab||this.transformMode===Li.Placement)this.transformMode===Li.Grab&&(n||e.get(gi.boost)?this.setTransformMode(Li.Placement):this.setTransformMode(this.transformModeOnCancel)),this.transformMode===Li.Placement&&(n||e.get(gi.boost)||this.multiplePlacement?this.editor.duplicateSelected(void 0,void 0,!0,!0,!1):this.setTransformMode(this.transformModeOnCancel));else{var j=e.get(yi.selectEndPosition);if(this.selectStartPosition.distanceTo(j)<this.selectSensitivity){var D=this.raycastNode(j);D?n?this.editor.toggleSelection(D.node):this.editor.setSelection([D.node]):n||this.editor.deselectAll()}this.transformGizmo.deselectAxis(),this.dragging=!1}if(this.transformPropertyChanged=!1,e.get(yi.rotateLeft)?this.editor.rotateAroundSelected(this.transformGizmo.position,new Yn.Pa4(0,1,0),this.rotationSnap*Yn.M8C.DEG2RAD):e.get(yi.rotateRight)?this.editor.rotateAroundSelected(this.transformGizmo.position,new Yn.Pa4(0,1,0),-this.rotationSnap*Yn.M8C.DEG2RAD):e.get(yi.grab)?(this.transformMode!==Li.Grab&&this.transformMode!==Li.Placement||this.cancel(),this.editor.selected.length>0&&this.setTransformMode(Li.Grab)):e.get(yi.cancel)?this.cancel():e.get(yi.focusSelection)?this.focus(this.editor.selected):e.get(yi.setTranslateMode)?this.setTransformMode(Li.Translate):e.get(yi.setRotateMode)?this.setTransformMode(Li.Rotate):e.get(yi.setScaleMode)?this.setTransformMode(Li.Scale):e.get(yi.toggleSnapMode)?this.toggleSnapMode():e.get(yi.toggleTransformPivot)?this.changeTransformPivot():e.get(yi.toggleTransformSpace)?this.toggleTransformSpace():e.get(yi.incrementGridHeight)?this.editor.incrementGridHeight():e.get(yi.decrementGridHeight)?this.editor.decrementGridHeight():e.get(yi.undo)?this.editor.undo():e.get(yi.redo)?this.editor.redo():e.get(yi.duplicateSelected)?this.editor.duplicateSelected():e.get(yi.groupSelected)?this.editor.groupSelected():e.get(yi.deleteSelected)?this.editor.removeSelectedObjects():e.get(yi.saveProject)&&this.editor.emit("saveProject"),t)this.updateTransformGizmoScale();else{var T=e.get(yi.selecting)&&!this.dragging,A=e.get(yi.zoomDelta),_=e.get(yi.cursorDeltaX),I=e.get(yi.cursorDeltaY);if(0!==A){var N=this.camera,L=this.delta,z=this.center;L.set(0,0,A);var F=N.position.distanceTo(z);if(L.multiplyScalar(F*this.zoomSpeed),L.length()>F)return;L.applyMatrix3(this.normalMatrix.getNormalMatrix(N.matrix)),N.position.add(L)}else if(e.get(yi.focus)){var U=this.raycastNode(e.get(yi.focusPosition));U&&this.focus([U.node])}else if(e.get(yi.panning)){var V=this.camera,B=this.delta,H=this.center,W=V.position.distanceTo(H);B.set(_,-I,0).multiplyScalar(W*this.panSpeed).applyMatrix3(this.normalMatrix.getNormalMatrix(this.camera.matrix)),V.position.add(B),H.add(B)}else if(T){var G=this.camera,q=this.center,K=this.vector,Y=this.spherical;K.copy(G.position).sub(q),Y.setFromVector3(K),Y.theta+=_*this.orbitSpeed,Y.phi+=I*this.orbitSpeed,Y.makeSafe(),K.setFromSpherical(Y),G.position.copy(q).add(K),G.lookAt(q)}this.updateTransformGizmoScale()}}}},{key:"raycastNode",value:function(e){return this.raycaster.setFromCamera(e,this.camera),this.raycasterResults.length=0,this.raycaster.intersectObject(this.scene,!0,this.raycasterResults),Ci(this.raycasterResults,this.scene)}},{key:"focus",value:function(e){var t=this.box,n=this.center,r=this.delta,o=this.camera,i=0;if(0===e.length)n.set(0,0,0),i=10;else{t.makeEmpty();var a,s=Zi(e);try{for(s.s();!(a=s.n()).done;){var c=a.value;t.expandByObject(c)}}catch(l){s.e(l)}finally{s.f()}!1===t.isEmpty()?(t.getCenter(n),i=t.getBoundingSphere(this.sphere).radius):(n.setFromMatrixPosition(e[0].matrixWorld),i=.1)}r.set(0,0,1),r.applyQuaternion(o.quaternion),r.multiplyScalar(4*Math.min(i,this.maxFocusDistance)),o.position.copy(n).add(r)}},{key:"updateTransformGizmoScale",value:function(){var e=this.transformGizmo.position.distanceTo(this.camera.position);this.transformGizmo.scale.set(1,1,1).multiplyScalar(e/5)}},{key:"_raycastRecursive",value:function(e,t,n){if(!(t&&-1!==t.indexOf(e)||n&&n.test(e.layers)||this.editor.renderer.renderer.batchManager&&-1!==this.editor.renderer.renderer.batchManager.batches.indexOf(e))&&e.visible){this.raycaster.intersectObject(e,!1,this.raycasterResults);for(var r=e.children,o=0;o<r.length;o++)this._raycastRecursive(r[o],t,n)}}},{key:"getRaycastPosition",value:function(e,t,n){this.raycaster.setFromCamera(e,this.camera),this.raycasterResults.length=0,this._raycastRecursive(this.scene,this.editor.selectedTransformRoots,this.raycastIgnoreLayers),this._raycastRecursive(this.editor.grid),this.raycasterResults.sort(Vi);var r=this.raycasterResults[0];if(r&&r.distance<100?t.copy(r.point):this.raycaster.ray.at(10,t),this.shouldSnap(n)){var o=this.translationSnap;t.set(Math.round(t.x/o)*o,Math.round(t.y/o)*o,Math.round(t.z/o)*o)}}},{key:"setTransformMode",value:function(e,t){(e!==Li.Placement&&e!==Li.Grab||!this.editor.selected.some((function(e){return e.disableTransform})))&&(e!==Li.Placement&&e!==Li.Grab&&(this.transformModeOnCancel=e),e===Li.Placement?this.placementObjects=this.editor.selected.slice(0):this.placementObjects=[],this.multiplePlacement=t||!1,this.grabHistoryCheckpoint=null,this.transformMode=e,this.transformModeChanged=!0,this.emit("transformModeChanged",e))}},{key:"setTransformSpace",value:function(e){this.transformSpace=e,this.transformSpaceChanged=!0,this.emit("transformSpaceChanged")}},{key:"toggleTransformSpace",value:function(){this.setTransformSpace(this.transformSpace===bo?xo:bo)}},{key:"setTransformPivot",value:function(e){this.transformPivot=e,this.transformPivotChanged=!0,this.emit("transformPivotChanged")}},{key:"changeTransformPivot",value:function(){var e=(this.transformPivotModes.indexOf(this.transformPivot)+1)%this.transformPivotModes.length;this.setTransformPivot(this.transformPivotModes[e])}},{key:"setSnapMode",value:function(e){this.snapMode=e,this.emit("snapSettingsChanged")}},{key:"toggleSnapMode",value:function(){this.setSnapMode(this.snapMode===Ti?Ai:Ti)}},{key:"shouldSnap",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.snapMode===Ai===!e}},{key:"setTranslationSnap",value:function(e){this.translationSnap=e,this.editor.grid.setSize(e),this.emit("snapSettingsChanged")}},{key:"setScaleSnap",value:function(e){this.scaleSnap=e,this.emit("snapSettingsChanged")}},{key:"setRotationSnap",value:function(e){this.rotationSnap=e,this.emit("snapSettingsChanged")}},{key:"cancel",value:function(){if(this.transformMode===Li.Grab){var e=this.grabHistoryCheckpoint;this.setTransformMode(this.transformModeOnCancel),this.editor.revert(e)}else this.transformMode===Li.Placement&&(this.setTransformMode(this.transformModeOnCancel),this.editor.removeSelectedObjects());this.editor.deselectAll()}}]),n}(pi()),Hi=new Yn.Pa4(0,1,0),Wi=new Yn.yGw,Gi=(new Yn.yGw).identity(),qi=new Yn.Pa4,Ki=new Yn._fP,Yi=new Yn.Pa4,Xi=new Yn._fP,$i=new Yn.Pa4,Ji=new Yn._fP,Qi=function(){function e(t,n){var r=this;(0,l.Z)(this,e),this.enabled=!1,this.camera=t,this.inputManager=n,this.moveSpeed=2,this.boostSpeed=2,this.lookSensitivity=10,this.maxXRotation=Yn.M8C.degToRad(80),this.direction=new Yn.Pa4,this.onMouseUp=function(e){r.enabled&&2===e.button&&document.pointerLockElement===r.inputManager.canvas&&document.exitPointerLock()}}return(0,u.Z)(e,[{key:"enable",value:function(){this.enabled=!0,this.inputManager.enableInputMapping(gi,bi),this.inputManager.canvas.addEventListener("mouseup",this.onMouseUp)}},{key:"disable",value:function(){this.enabled=!1,this.inputManager.disableInputMapping(gi),this.inputManager.canvas.removeEventListener("mouseup",this.onMouseUp)}},{key:"update",value:function(e){if(this.enabled){var t=this.inputManager;this.camera.updateMatrix(),this.camera.updateMatrixWorld(),this.camera.matrixWorld.decompose(Yi,Xi,$i),Ji.multiplyQuaternions(Ki.setFromAxisAngle(qi.set(1,0,0).applyQuaternion(Xi),t.get(gi.lookY)*this.lookSensitivity),Xi);var n=qi.set(0,1,0).applyQuaternion(Xi).y,r=qi.set(0,1,0).applyQuaternion(Ji).y,o=qi.set(0,0,-1).applyQuaternion(Ji).y,i=Math.sin(this.maxXRotation);r>0&&(o<i&&o>-i||r>n)&&(this.camera.matrixWorld.compose(Yi,Ji,$i),Wi.getInverse(this.camera.parent?this.camera.parent.matrixWorld:Gi),this.camera.matrix.multiplyMatrices(Wi,this.camera.matrixWorld),this.camera.matrixWorld.decompose(this.camera.position,this.camera.quaternion,this.camera.scale)),this.camera.matrixWorld.decompose(Yi,Xi,$i),Ji.multiplyQuaternions(Ki.setFromAxisAngle(Hi,t.get(gi.lookX)*this.lookSensitivity),Xi),this.camera.matrixWorld.compose(Yi,Ji,$i),this.camera.matrix.multiplyMatrices(Wi,this.camera.matrixWorld),this.camera.matrix.decompose(this.camera.position,this.camera.quaternion,this.camera.scale),this.direction.set(t.get(gi.moveX),0,t.get(gi.moveZ));var a=t.get(gi.boost)?this.boostSpeed:1,s=e*this.moveSpeed*a;this.direction.lengthSq()>1e-4&&this.camera.translateOnAxis(this.direction,s),this.camera.position.y+=t.get(gi.moveY)*e*this.moveSpeed*a}}}]),e}(),ea=n(17038),ta=n.n(ea);function na(){var e=document.activeElement,t=e.nodeName;return e.isContentEditable||"INPUT"===t||"SELECT"===t||"TEXTAREA"===t}function ra(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return oa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oa(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function oa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ia={},aa=ta().prototype.stopCallback;function sa(e,t,n,r,o,i){var a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];if(e)for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var c=e[s];if("event"===s){var l,u=ra(c);try{for(u.s();!(l=u.n()).done;){var f=l.value,d=f.defaultValue,h=f.action,p=f.reset;void 0!==h&&void 0!==d&&(t[h]=d,n[h]=d,p&&r.push(h))}}catch(v){u.e(v)}finally{u.f()}continue}if("position"===s){t[c]={x:0,y:0},n[c]=void 0!==n[c]?n[c]:{x:0,y:0},a&&r.push(c);continue}t[c]=o,n[c]=void 0!==n[c]?n[c]:o,i&&r.push(c)}}function ca(e){return 0===e?e:e>0?1:-1}function la(e){var t,n={keyboard:{pressed:{},keyup:{},keydown:{},hotkeys:{},globalHotkeys:{}},mouse:{click:{},dblclick:{},move:{},wheel:{},pressed:{},mouseup:{},mousedown:{}},computed:[]},r=ra(e.values());try{for(r.s();!(t=r.n()).done;){var o=t.value,i=o.keyboard,a=o.mouse,s=o.computed;if(i&&(i.pressed&&Object.assign(n.keyboard.pressed,i.pressed),i.keyup&&Object.assign(n.keyboard.keyup,i.keyup),i.keydown&&Object.assign(n.keyboard.keydown,i.keydown),i.hotkeys&&Object.assign(n.keyboard.hotkeys,i.hotkeys),i.globalHotkeys&&Object.assign(n.keyboard.globalHotkeys,i.globalHotkeys)),a&&(a.click&&Object.assign(n.mouse.click,a.click),a.dblclick&&Object.assign(n.mouse.dblclick,a.dblclick),a.move&&Object.assign(n.mouse.move,a.move),a.wheel&&Object.assign(n.mouse.wheel,a.wheel),a.pressed&&Object.assign(n.mouse.pressed,a.pressed),a.mouseup&&Object.assign(n.mouse.mouseup,a.mouseup),a.mousedown&&Object.assign(n.mouse.mousedown,a.mousedown)),s){var c,l=ra(s);try{for(l.s();!(c=l.n()).done;){var u=c.value;n.computed.push(u)}}catch(f){l.e(f)}finally{l.f()}}}}catch(f){r.e(f)}finally{r.f()}return n}function ua(e,t){for(var n in t){if(Object.prototype.hasOwnProperty.call(t,n))delete e[t[n]]}}ta().prototype.stopCallback=function(e,t,n,r){return!!this.paused||!ia[n]&&!ia[r]&&aa.call(this,e,t,n)},ta().prototype.bindGlobal=function(e,t,n){if(this.bind(e,t,n),e instanceof Array)for(var r=0;r<e.length;r++)ia[e[r]]=!0;else ia[e]=!0},ta().prototype.unbindGlobal=function(e,t,n){if(this.unbind(e,t,n),e instanceof Array)for(var r=0;r<e.length;r++)delete ia[e[r]];else delete ia[e]},ta().init();var fa=["left","middle","right","button4","button5"],da={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"control"},ha=function(){function e(t){var n=this;(0,l.Z)(this,e),this.onKeyDown=function(e){if(!na()){var t=!1,r=n.mapping.keyboard;if(r){r.event&&(n.handleEventMappings(r.event,e),t=!0);var o=r.pressed;o&&(t=n.handleKeyMappings(o,e,1));var i=r.keydown;i&&(t=n.handleKeyMappings(i,e,1)),t&&e.preventDefault()}}},this.onKeyUp=function(e){if(!na()){var t=!1,r=n.mapping.keyboard;if(r){r.event&&(n.handleEventMappings(r.event,e),t=!0);var o=r.pressed;o&&(t=n.handleKeyMappings(o,e,0));var i=r.keyup;i&&(t=n.handleKeyMappings(i,e,0)),t&&e.preventDefault()}}},this.onWindowMouseDown=function(e){n.mouseDownTarget=e.target},this.onMouseDown=function(e){n.mouseDownTarget=e.target;var t=n.mapping.mouse;if(t){var r=fa[e.button],o=t.pressed;if(o){var i=o[r];i&&(n.state[i]=1)}var a=t.mousedown;if(a){var s=a[r];s&&(n.state[s]=1),a.event&&n.handleEventMappings(a.event,e),a.position&&n.handlePosition(a.position,e)}}},this.onWindowMouseUp=function(e){var t=n.canvas,r=n.mouseDownTarget;n.mouseDownTarget=null,e.target!==t&&r===t&&n.onMouseUp(e)},this.onMouseUp=function(e){var t=n.mapping.mouse;if(t){var r=fa[e.button],o=t.pressed;if(o){var i=o[r];i&&(n.state[i]=0)}var a=t.mouseup;if(a){var s=a[r];s&&(n.state[s]=1),a.event&&n.handleEventMappings(a.event,e),a.position&&n.handlePosition(a.position,e)}}},this.onMouseMove=function(e){var t=n.mapping.mouse;if(t){var r=t.move;if(r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&("event"===o?n.handleEventMappings(r.event,e):"movementX"===o||"movementY"===o?n.state[r[o]]+=e[o]:"normalizedMovementX"===o?n.state[r[o]]+=-e.movementX/n.canvas.clientWidth:"normalizedMovementY"===o?n.state[r[o]]+=-e.movementY/n.canvas.clientHeight:"position"===o?n.handlePosition(r.position,e):n.state[r[o]]=e[o])}},this.onWheel=function(e){var t=n.mapping.mouse;if(e.preventDefault(),!t)return!1;var r=t.wheel;if(!r)return!1;for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&("event"===o?n.handleEventMappings(r.event,e):"deltaX"===o||"deltaY"===o?n.state[r[o]]+=e[o]:n.state[r[o]]="normalizedDeltaX"===o?ca(e.deltaX):"normalizedDeltaY"===o?ca(e.deltaY):e[o]);return!1},this.onClick=function(e){var t=n.mapping.mouse;if(t){var r=t.click;r&&r.event&&n.handleEventMappings(t.event,e),r.position&&n.handlePosition(r.position,e)}},this.onDoubleClick=function(e){var t=n.mapping.mouse;if(t){var r=t.dblclick;r&&(r.event&&n.handleEventMappings(r.event,e),r.position&&n.handlePosition(r.position,e))}},this.onContextMenu=function(e){e.preventDefault()},this.onResize=function(){n.boundingClientRect=n.canvas.getBoundingClientRect()},this.onWindowBlur=function(){var e=n.initialState;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n.state[t]=e[t])},this.canvas=t,this.mappings=new Map,this.mapping={},this.initialState={},this.state={},this.resetKeys=[],this.boundingClientRect=this.canvas.getBoundingClientRect(),this.mouseDownTarget=null,window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp),t.addEventListener("wheel",this.onWheel),t.addEventListener("mousemove",this.onMouseMove),t.addEventListener("mousedown",this.onMouseDown),window.addEventListener("mousedown",this.onWindowMouseDown),t.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mouseup",this.onWindowMouseUp),t.addEventListener("dblclick",this.onDoubleClick),t.addEventListener("click",this.onClick),t.addEventListener("contextmenu",this.onContextMenu),window.addEventListener("blur",this.onWindowBlur)}return(0,u.Z)(e,[{key:"enableInputMapping",value:function(e,t){this.mappings.set(e,t),this.setInputMapping(la(this.mappings))}},{key:"disableInputMapping",value:function(e){var t=this.mappings.get(e);if(t){var n=this.state,r=t.keyboard,o=t.mouse,i=t.computed;if(r){r.pressed&&ua(n,r.pressed),r.keyup&&ua(n,r.keyup),r.keydown&&ua(n,r.keydown);var a=r.hotkeys;if(a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&ta().unbind(s);ua(n,r.hotkeys)}var c=r.globalHotkeys;if(c){for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&ta().unbindGlobal(l);ua(n,r.globalHotkeys)}}if(o&&(o.click&&ua(n,o.click),o.dblclick&&ua(n,o.dblclick),o.move&&ua(n,o.move),o.wheel&&ua(n,o.wheel),o.pressed&&ua(n,o.pressed),o.mouseup&&ua(n,o.mouseup),o.mousedown&&ua(n,o.mousedown)),i){var u,f=ra(i);try{for(f.s();!(u=f.n()).done;){delete n[u.value.action]}}catch(d){f.e(d)}finally{f.f()}}this.mappings.delete(e),this.setInputMapping(la(this.mappings))}}},{key:"setInputMapping",value:function(e){this.mapping=e;var t={},n=this.state,r=[],o=e.keyboard;if(o){sa(o.pressed,t,n,r,0,!1),sa(o.keydown,t,n,r,0,!0),sa(o.keyup,t,n,r,0,!0);var i=o.hotkeys;if(i){var a=function(e){if(!Object.prototype.hasOwnProperty.call(i,e))return"continue";var o=i[e];ta().bind(e,(function(){return n[o]=!0,!1})),t[o]=!1,n[o]=!1,r.push(o)};for(var s in i)a(s)}var c=o.globalHotkeys;if(c){var l=function(e){if(!Object.prototype.hasOwnProperty.call(c,e))return"continue";var o=c[e];ta().bindGlobal(e,(function(){return n[o]=!0,!1})),t[o]=!1,n[o]=!1,r.push(o)};for(var u in c)l(u)}}var f=e.mouse;f&&(sa(f.click,t,n,r,0,!0),sa(f.dblclick,t,n,r,0,!0),sa(f.move,t,n,r,0,!0,!1),sa(f.wheel,t,n,r,0,!0),sa(f.pressed,t,n,r,0,!1),sa(f.mousedown,t,n,r,0,!0),sa(f.mouseup,t,n,r,0,!0));var d=e.computed;if(d){var h,p=ra(d);try{for(p.s();!(h=p.n()).done;){var v=h.value,m=v.action,g=v.transform,y=v.defaultValue,b=v.reset,w=void 0!==y?y:g(this,v,null,null);if(void 0===m)throw new Error("Action is undefined for ".concat(v));t[m]=w,n[m]=w,b&&r.push(m)}}catch(x){p.e(x)}finally{p.f()}}this.initialState=t,this.resetKeys=r}},{key:"handleEventMappings",value:function(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=r.handler,i=r.action,a=o(t,this,r);i&&(this.state[i]=a)}}},{key:"handleKeyMappings",value:function(e,t,n){var r=t.key;r||(r=String.fromCharCode(t.which||t.code)),r=r.toLowerCase();var o=!1;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=e[i];if(r!==i)r===da[i]&&(this.state[a]=n,o=!0);else this.state[a]=n,o=!0}return o}},{key:"handlePosition",value:function(e,t){var n=this.state[e];if(n){var r=this.boundingClientRect;n.x=(t.clientX-r.left)/r.width*2-1,n.y=(t.clientY-r.top)/r.height*-2+1}}},{key:"update",value:function(e,t){var n=this.mapping.computed;if(n)for(var r=0;r<n.length;r++){var o=n[r],i=o.action,a=o.transform;this.state[i]=a(this,o,e,t)}}},{key:"reset",value:function(){for(var e=0;e<this.resetKeys.length;e++){var t=this.resetKeys[e],n=this.state[t],r=this.initialState[t];"object"===typeof n&&"object"===typeof this.initialState?null!==n&&null!==r?this.state[t]=Object.assign(this.state[t],r):null!==r&&(this.state[t]=Object.assign({},r)):this.state[t]=r}}},{key:"get",value:function(e){return this.state[e]||0}},{key:"dispose",value:function(){var e=this.canvas;window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp),e.removeEventListener("wheel",this.onWheel),e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("mousedown",this.onMouseDown),window.removeEventListener("mousedown",this.onWindowMouseDown),e.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mouseup",this.onWindowMouseUp),e.removeEventListener("dblclick",this.onDoubleClick),e.removeEventListener("click",this.onClick),e.removeEventListener("contextmenu",this.onContextMenu),window.removeEventListener("blur",this.onWindowBlur)}}]),e}(),pa=function(){function e(t,n,r){var o=this;(0,l.Z)(this,e),this.onClickCanvas=function(){o.inputManager.canvas.requestPointerLock()},this.onPointerLockChange=function(){document.pointerLockElement===o.inputManager.canvas?(o.editorControls.disable(),o.flyControls.enable()):(o.editorControls.enable(),o.flyControls.disable())},this.inputManager=t,this.editorControls=n,this.flyControls=r,this.enabled=!1}return(0,u.Z)(e,[{key:"enable",value:function(){this.enabled=!0,this.inputManager.canvas.addEventListener("click",this.onClickCanvas),document.addEventListener("pointerlockchange",this.onPointerLockChange)}},{key:"disable",value:function(){this.enabled=!1,this.editorControls.enable(),this.flyControls.disable(),this.inputManager.canvas.removeEventListener("click",this.onClickCanvas),document.removeEventListener("pointerlockchange",this.onPointerLockChange),document.exitPointerLock()}}]),e}(),va=n(71362);function ma(e,t){var n=t(e);if(!1!==n)for(var r=e.children,o=0;o<r.length&&!1!==(n=ma(r[o],t));o++);return n}function ga(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=0;n<e.length;n++)t.push(e[n]);for(var r=function(n){for(var r=e[n],o=!0,i=0;i<t.length;i++){var a=t[i];if(a!==r&&!ma(a,(function(e){return e!==r}))){o=!1;break}}if(!o){var s=t.indexOf(r);if(-1===s)throw new Error("Object not found");t.splice(s,1)}},o=0;o<e.length;o++)r(o);return t}function ya(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var ba=new RegExp("(.*) \\d+$");function wa(e,t){var n=new Set;e.traverse((function(e){e.isNode&&n.add(e.name)})),t.traverse((function(e){if(e.isNode&&n.has(e.name)){for(var r=function(e){var t=e,n=ba.exec(e);return n&&(t=n[1]),t}(t.name),o=1,i=r+" "+o;n.has(i);)i=r+" "+ ++o;t.name=i,n.add(i)}}))}var xa=n(77866);function Sa(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Ca(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ca(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Ca(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ka(e){return e.extensions&&e.extensions.componentData}function Oa(e,t,n){var r=e.nodes&&e.nodes[t];if(r&&(n(r,t),Array.isArray(r.children))){var o,i=Sa(r.children);try{for(i.s();!(o=i.n()).done;){Oa(e,o.value,n)}}catch(a){i.e(a)}finally{i.f()}}}function Pa(e,t,n){var r=e.nodes&&e.nodes[t];if(r&&(!1!==n(r,t)&&Array.isArray(r.children))){var o,i=Sa(r.children);try{for(i.s();!(o=i.n()).done;){Pa(e,o.value,n)}}catch(a){i.e(a)}finally{i.f()}}}function Ma(e,t){e.material&&(Array.isArray(e.material)?e.material.forEach(t):t(e.material))}function Ra(e,t){e.traverse((function(e){return Ma(e,t)}))}function Ea(e){var t=new Set;return Ra(e,(function(e){return t.add(e)})),Array.from(t)}function Za(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return ja(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ja(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function ja(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Da(e,t){return 1===e&&1===t?4:e*t*4+Da(Math.max(Math.floor(e/2),1),Math.max(Math.floor(t/2),1))}function Ta(e){var t=e&&e.visible;return!t||t.visible}function Aa(e,t){return e*t>4194304}function _a(e){var t=e.image;return!!t&&Aa(t.width||t.videoWidth,t.height||t.videoHeight)}function Ia(e){var t=e.image;return t?Da(t.width||t.videoWidth,t.height||t.videoHeight):0}var Na={gltf:10485760,image:4194304,default:4194304};function La(e,t,n){var r=Na[e]||Na.default;t>r&&n.push({severity:"warning",message:"Large file (".concat((0,v.RD)(t),"). Suggested ").concat(e," max file size is ").concat(r,".")})}function za(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[],r=0,o=0,i=0,a=new Set,s=function(e){e.isMesh&&(r+=Fa(e),Ma(e,(function(e){a.add(e)})))};t?e.traverse(s):s(e);var c,l=Za(a);try{for(l.s();!(c=l.n()).done;){var u=c.value;if(u.map&&(o+=Ia(u.map),_a(u.map)&&i++),u.aoMap&&(o+=Ia(u.aoMap),_a(u.aoMap)&&i++),u.roughnessMap&&u.roughnessMap!==u.aoMap&&(o+=Ia(u.roughnessMap),_a(u.roughnessMap)&&i++),u.normalMap&&(o+=Ia(u.normalMap),_a(u.normalMap)&&i++),u.emissiveMap&&(o+=Ia(u.emissiveMap),_a(u.emissiveMap)&&i++),u.uniforms)for(var f in u.uniforms)if(Object.prototype.hasOwnProperty.call(u.uniforms,f)){var d=u.uniforms[f].value;d instanceof Yn.xEZ&&(o+=Ia(d),_a(u.value)&&i++)}}}catch(h){l.e(h)}finally{l.f()}return r>1e4&&n.push({severity:"warning",message:"This object contains ".concat(r.toLocaleString()," polygons.")}),a.size>10&&n.push({severity:"warning",message:"This object contains ".concat(a.size," unique materials.")}),i>0&&n.push({severity:"warning",message:"This object contains ".concat(i," texture").concat(i>1?"s":""," larger than 2048 x 2048.")}),o>67108860&&n.push({severity:"warning",message:"This object's textures use ~".concat((0,v.RD)(o)," of video RAM.")}),n}function Fa(e){return e.geometry.index?e.geometry.index.count/3:e.geometry.attributes.position.count/3}function Ua(e,t,n){var r=n.json,o=0;!function(e,t,n){var r=e.scenes&&e.scenes[t];if(r&&Array.isArray(r.nodes)){var o,i=Sa(r.nodes);try{for(i.s();!(o=i.n()).done;)Pa(e,o.value,n)}catch(a){i.e(a)}finally{i.f()}}}(r,r.scene,(function(e){if(!Ta(ka(e)))return!1;if(void 0!==e.mesh){var t=r.meshes[e.mesh];if(t){var n,i=Za(t.primitives);try{for(i.s();!(n=i.n()).done;){var a=n.value,s=0;if(void 0!==a.indices){var c=r.accessors[a.indices];s=c&&c.count||0}else if(void 0!==a.attributes.POSITION){var l=r.accessors[a.attributes.POSITION];s=l&&l.count||0}switch(a.mode){case 4:o+=Math.round(s/3);break;case 5:case 6:o+=s>2?s-2:0}}}catch(u){i.e(u)}finally{i.f()}}}}));var i=0;!function(e,t,n){var r=e.scenes&&e.scenes[t];if(r&&Array.isArray(r.nodes)){var o,i=Sa(r.nodes);try{for(i.s();!(o=i.n()).done;)Oa(e,o.value,n)}catch(a){i.e(a)}finally{i.f()}}}(r,r.scene,(function(e){var t=ka(e);Ta(t)&&function(e){return e&&(e["directional-light"]||e["point-light"]||e["spot-light"])}(t)&&i++}));var a,s=0,c=0,l=Za(n.images);try{for(l.s();!(a=l.n()).done;){var u=a.value,f=u.width,d=u.height;s+=Da(f,d),Aa(f,d)&&c++}}catch(k){l.e(k)}finally{l.f()}var h=r.materials?r.materials.length:0,p=t.size,v=new Set,m=new Set,g=[];e.traverse((function(e){if(e.isNode&&e.visible){var t=e.getRuntimeResourcesForStats();if(!t)return;t.lights&&(i+=t.lights.filter((function(e){return e instanceof Yn.cek||e instanceof Yn.Ox3||e instanceof Yn.PMe})).length),t.materials&&t.materials.forEach((function(e){return v.add(e)})),t.textures&&t.textures.forEach((function(e){return m.add(e)})),t.meshes&&g.push.apply(g,(0,xa.Z)(t.meshes))}})),h+=v.size;var y,b=Za(m);try{for(b.s();!(y=b.n()).done;){var w=y.value;s+=Ia(w),_a(w)&&c++}}catch(k){b.e(k)}finally{b.f()}for(var x=0,S=g;x<S.length;x++){var C=S[x];o+=Fa(C)}return{polygons:{value:o,score:o<=5e4?"Low":o<=75e3?"Medium":"High"},textures:{value:s,score:s<=268435500?"Low":s<=536870900?"Medium":"High",largeTexturesValue:c,largeTexturesScore:c>0?"High":"Low"},lights:{value:i,score:i<=3?"Low":i<=6?"Medium":"High"},materials:{value:h,score:h<=25?"Low":h<=50?"Medium":"High"},fileSize:{value:p,score:p<16777220?"Low":p<52428800?"Medium":"High"}}}var Va=new Yn.ZzF,Ba=new Yn.ZzF,Ha=new Yn.yGw,Wa=new Yn.ZzF,Ga=[new Yn.Pa4,new Yn.Pa4,new Yn.Pa4,new Yn.Pa4,new Yn.Pa4,new Yn.Pa4,new Yn.Pa4,new Yn.Pa4];function qa(e,t){Ba.makeEmpty(),Va.makeEmpty(),t.traverse((function(e){var t=e.geometry;t&&e.castShadow&&(t.boundingBox||t.computeBoundingBox(),Wa.copy(t.boundingBox),Wa.applyMatrix4(e.matrixWorld),Va.union(Wa))}));var n=Va.min,r=Va.max;Ga[0].set(n.x,n.y,n.z),Ga[1].set(n.x,n.y,r.z),Ga[2].set(n.x,r.y,n.z),Ga[3].set(n.x,r.y,r.z),Ga[4].set(r.x,n.y,n.z),Ga[5].set(r.x,n.y,r.z),Ga[6].set(r.x,r.y,n.z),Ga[7].set(r.x,r.y,r.z),Ha.getInverse(e.shadow.camera.matrixWorld);for(var o=0;o<Ga.length;o++)Ga[o].applyMatrix4(Ha),Ba.expandByPoint(Ga[o]);var i=e.shadow.camera;i.left=Ba.min.x-1,i.right=Ba.max.x+1,i.bottom=Ba.min.y-1,i.top=Ba.max.y+1,i.near=Ba.min.z+-500,i.far=Ba.max.z+500,i.updateProjectionMatrix()}function Ka(e,t,n,r){var o=0,i=0,a=e/n,s=t/r,c=Math.max(a,s);return c>1?(o=e/c,i=t/c):(o=e,i=t),{w:o,h:i,x:(n-o)/2,y:(r-i)/2}}function Ya(e,t,n,r,o){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,c.Z)(s().mark((function e(t,n,r,o,i){var a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=URL.createObjectURL(t),c=new Image,e.next=4,new Promise((function(e,t){c.src=a,c.onload=e,c.onerror=t}));case 4:return URL.revokeObjectURL(a),e.abrupt("return",Qa(c,n,r,i));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $a(e,t,n,r){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,c.Z)(s().mark((function e(t,n,r,o){var i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=URL.createObjectURL(t),a=document.createElement("video"),e.next=4,new Promise((function(e,t){a.src=i,a.onloadeddata=e,a.onerror=t}));case 4:return URL.revokeObjectURL(i),e.next=7,new Promise((function(e,t){a.currentTime=1,a.onseeked=e,a.onerror=t}));case 7:return e.abrupt("return",Qa(a,n,r,o));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qa(e){return es.apply(this,arguments)}function es(){return(es=(0,c.Z)(s().mark((function e(t){var n,r,o,i,a,c,l=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:256,r=l.length>2&&void 0!==l[2]?l[2]:256,o=l.length>3&&void 0!==l[3]?l[3]:"#000",(i=document.createElement("canvas")).width=n,i.height=r,a=i.getContext("2d"),c=Ka(t.width||t.videoWidth,t.height||t.videoHeight,n,r),"transparent"!==o&&(a.fillStyle=o,a.fillRect(0,0,n,r)),a.drawImage(t,c.x,c.y,c.w,c.h),"transparent"!==o){e.next=14;break}return e.abrupt("return",ts(i,"image/png"));case 14:return e.abrupt("return",ts(i));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ts(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/jpeg",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.9;return e.msToBlob?Promise.resolve(e.msToBlob()):new Promise((function(r){return e.toBlob(r,t,n)}))}var ns="static",rs="dynamic",os="inherits";function is(e,t){e.staticMode=t}function as(e){return e.staticMode}function ss(e){return as(e)===ns}function cs(e){for(var t=e;t;){if(t.staticMode!==os&&void 0!==t.staticMode)return t.staticMode;t=t.parent}return rs}function ls(e){return"#"+e.getHexString()}function us(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return fs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fs(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function fs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ds(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}function hs(e){var t;return(t=function(e){(0,f.Z)(n,e);var t=ds(n);function n(e){var r;(0,l.Z)(this,n);for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];return(r=t.call.apply(t,[this].concat(i))).editor=e,r.nodeName=r.constructor.nodeName,r.name=r.constructor.nodeName,r.isNode=!0,r.isCollapsed=!1,r.disableTransform=r.constructor.disableTransform,r.useMultiplePlacementMode=r.constructor.useMultiplePlacementMode,r.ignoreRaycast=r.constructor.ignoreRaycast,r.staticMode=os,r.originalStaticMode=null,r.saveParent=!1,r.errorIcon=null,r.issues=[],r}return(0,u.Z)(n,[{key:"clone",value:function(e){return new this.constructor(this.editor).copy(this,e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t&&this.remove(this.errorIcon),(0,qn.Z)((0,h.Z)(n.prototype),"copy",this).call(this,e,t),t){var r=e.children.findIndex((function(t){return t===e.errorIcon}));-1!==r&&(this.errorIcon=this.children[r])}return this.issues=e.issues.slice(),this}},{key:"onPlay",value:function(){}},{key:"onUpdate",value:function(e){}},{key:"onPause",value:function(){}},{key:"onAdd",value:function(){}},{key:"onChange",value:function(){}},{key:"onRemove",value:function(){}},{key:"onSelect",value:function(){}},{key:"onDeselect",value:function(){}},{key:"onRendererChanged",value:function(){}},{key:"serialize",value:function(e){var t={name:this.name,components:[{name:"transform",props:{position:{x:this.position.x,y:this.position.y,z:this.position.z},rotation:{x:this.rotation.x,y:this.rotation.y,z:this.rotation.z},scale:{x:this.scale.x,y:this.scale.y,z:this.scale.z}}},{name:"visible",props:{visible:this.visible}}]};if(e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r={},o=e[n];for(var i in o)if(Object.prototype.hasOwnProperty.call(o,i)){var a=o[i];a instanceof Yn.Ilk?r[i]=ls(a):r[i]=a}t.components.push({name:n,props:r})}return t}},{key:"prepareForExport",value:function(){this.userData.XR3_editor_uuid=this.uuid,this.visible||this.addGLTFComponent("visible",{visible:this.visible})}},{key:"addGLTFComponent",value:function(e,t){if(this.userData.gltfExtensions||(this.userData.gltfExtensions={}),this.userData.gltfExtensions.componentData||(this.userData.gltfExtensions.componentData={}),void 0!==t&&"object"!==typeof t)throw new Error("glTF component props must be an object or undefined");var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=t[r];o instanceof Yn.Ilk?n[r]=ls(o):n[r]=o}this.userData.gltfExtensions.componentData[e]=n}},{key:"replaceObject",value:function(e){(e=e||(new Yn.Tme).copy(this,!1)).uuid=this.uuid,this.userData.gltfExtensions&&this.userData.gltfExtensions.componentData&&(e.userData.gltfExtensions.componentData=this.userData.gltfExtensions.componentData);var t,n=us(this.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.isNode&&(e.children.push(r),r.parent=e)}}catch(o){n.e(o)}finally{n.f()}this.parent.add(e),this.parent.remove(this)}},{key:"gltfIndexForUUID",value:function(e){return{__gltfIndexForUUID:e}}},{key:"getObjectByUUID",value:function(e){return this.getObjectByProperty("uuid",e)}},{key:"computeStaticMode",value:function(){return cs(this)}},{key:"computeAndSetStaticModes",value:function(){this.traverse((function(e){is(e,cs(e))}))}},{key:"computeAndSetVisible",value:function(){this.traverse((function(e){e.parent&&!e.parent.visible&&(e.visible=!1)}))}},{key:"showErrorIcon",value:function(){this.errorIcon||(this.errorIcon=new Ir,this.add(this.errorIcon));var e=this.getWorldScale(this.errorIcon.scale);0===e.x||0===e.y||0===e.z?this.errorIcon.scale.set(1,1,1):this.errorIcon.scale.set(1/e.x,1/e.y,1/e.z)}},{key:"hideErrorIcon",value:function(){this.errorIcon&&(this.remove(this.errorIcon),this.errorIcon=null)}},{key:"isInherits",value:function(){return function(e){var t=as(e);return t===os||void 0===t}(this)}},{key:"isStatic",value:function(){return ss(this)}},{key:"isDynamic",value:function(){return as(this)===rs}},{key:"findNodeByType",value:function(e){if(this.constructor===e)return this;var t,n=us(this.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.isNode){var o=r.findNodeByType(e);if(o)return o}}}catch(i){n.e(i)}finally{n.f()}return null}},{key:"getNodesByType",value:function(e){var t=[];this.constructor===e&&t.push(this);var n,r=us(this.children);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.isNode){var i,a=us(o.getNodesByType(e));try{for(a.s();!(i=a.n()).done;){var s=i.value;t.push(s)}}catch(c){a.e(c)}finally{a.f()}}}}catch(c){r.e(c)}finally{r.f()}return t}},{key:"getRuntimeResourcesForStats",value:function(){}}],[{key:"canAddNode",value:function(e){return!0}},{key:"load",value:function(){var e=(0,c.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"shouldDeserialize",value:function(e){var t=this;return!!e.components.find((function(e){return e.name===t.legacyComponentName}))}},{key:"deserialize",value:function(){var e=(0,c.Z)(s().mark((function e(t,n){var r,o,i,a,c,l,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new this(t)).name=n.name,n.components&&((o=n.components.find((function(e){return"transform"===e.name})))&&(i=o.props,a=i.position,c=i.rotation,l=i.scale,r.position.set(a.x,a.y,a.z),r.rotation.set(c.x,c.y,c.z),r.scale.set(l.x,l.y,l.z)),(u=n.components.find((function(e){return"visible"===e.name})))&&(r.visible=u.props.visible)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(e)).nodeName="Unknown Node",t.disableTransform=!1,t.useMultiplePlacementMode=!1,t.ignoreRaycast=!1,t.initialElementProps={},t.hideInElementsPanel=!1,t}var ps=n(31345);function vs(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var ms=null,gs=function(e){(0,f.Z)(n,e);var t=vs(n);function n(e){var r;(0,l.Z)(this,n),(r=t.call(this,e,e.audioListener))._canonicalUrl="",r._autoPlay=!0,r.volume=.5,r.controls=!0;var o=new Yn.BKK,i=new Yn.vBJ;return i.map=ms,i.side=Yn.ehD,i.transparent=!0,r.helper=new Yn.Kj0(o,i),r.helper.layers.set(1),r.add(r.helper),r}return(0,u.Z)(n,[{key:"load",value:function(){var e=(0,c.Z)(s().mark((function e(t,r){var o,i,a,c,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((o=t||"")!==this._canonicalUrl||""===o){e.next=3;break}return e.abrupt("return");case 3:return this._canonicalUrl=t||"",this.helper.visible=!1,this.hideErrorIcon(),this.editor.playing&&this.el.pause(),e.prev=7,e.next=10,this.editor.api.resolveMedia(t);case 10:return i=e.sent,a=i.accessibleUrl,c=i.contentType,e.next=15,(0,qn.Z)((0,h.Z)(n.prototype),"load",this).call(this,a,c);case 15:this.editor.playing&&this.autoPlay&&this.el.play(),this.helper.visible=!0,e.next=25;break;case 19:e.prev=19,e.t0=e.catch(7),this.showErrorIcon(),l=new va.mQ("Error loading audio ".concat(this._canonicalUrl),e.t0),r&&r(this,l),console.error(l);case 25:return this.editor.emit("objectsChanged",[this]),this.editor.emit("selectionChanged"),e.abrupt("return",this);case 28:case"end":return e.stop()}}),e,this,[[7,19]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onPlay",value:function(){this.autoPlay&&this.el.play()}},{key:"onPause",value:function(){this.el.pause(),this.el.currentTime=0}},{key:"clone",value:function(e){return new this.constructor(this.editor,this.audioListener).copy(this,e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t&&this.remove(this.helper),(0,qn.Z)((0,h.Z)(n.prototype),"copy",this).call(this,e,t),t){var r=e.children.findIndex((function(t){return t===e.helper}));-1!==r&&(this.helper=this.children[r])}return this._canonicalUrl=e._canonicalUrl,this.controls=e.controls,this}},{key:"serialize",value:function(){return(0,qn.Z)((0,h.Z)(n.prototype),"serialize",this).call(this,{audio:{src:this._canonicalUrl,controls:this.controls,autoPlay:this.autoPlay,loop:this.loop,audioType:this.audioType,volume:this.volume,distanceModel:this.distanceModel,rolloffFactor:this.rolloffFactor,refDistance:this.refDistance,maxDistance:this.maxDistance,coneInnerAngle:this.coneInnerAngle,coneOuterAngle:this.coneOuterAngle,coneOuterGain:this.coneOuterGain}})}},{key:"prepareForExport",value:function(){(0,qn.Z)((0,h.Z)(n.prototype),"prepareForExport",this).call(this),this.remove(this.helper),this.addGLTFComponent("audio",{src:this._canonicalUrl,controls:this.controls,autoPlay:this.autoPlay,loop:this.loop,audioType:this.audioType,volume:this.volume,distanceModel:this.distanceModel,rolloffFactor:this.rolloffFactor,refDistance:this.refDistance,maxDistance:this.maxDistance,coneInnerAngle:this.coneInnerAngle,coneOuterAngle:this.coneOuterAngle,coneOuterGain:this.coneOuterGain}),this.addGLTFComponent("networked",{id:this.uuid}),this.replaceObject()}},{key:"src",get:function(){return this._canonicalUrl},set:function(e){this.load(e).catch(console.error)}},{key:"autoPlay",get:function(){return this._autoPlay},set:function(e){this._autoPlay=e}}],[{key:"load",value:function(){var e=(0,c.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Or.Z)("/editor/audio-icon.png");case 2:ms=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"deserialize",value:function(){var e=(0,c.Z)(s().mark((function e(t,r,o,i){var a,l,u,f,d,p,v,m,g,y,b,w,x,S,C;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,qn.Z)((0,h.Z)(n),"deserialize",this).call(this,t,r);case 2:return a=e.sent,l=r.components.find((function(e){return"audio"===e.name})).props,u=l.src,f=l.controls,d=l.autoPlay,p=l.loop,v=l.audioType,m=l.volume,g=l.distanceModel,y=l.rolloffFactor,b=l.refDistance,w=l.maxDistance,x=l.coneInnerAngle,S=l.coneOuterAngle,C=l.coneOuterGain,o((0,c.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.load(u,i);case 2:a.controls=f||!1,a.autoPlay=d,a.loop=p,a.audioType=v,a.volume=m,a.distanceModel=g,a.rolloffFactor=y,a.refDistance=b,a.maxDistance=w,a.coneInnerAngle=x,a.coneOuterAngle=S,a.coneOuterGain=C;case 14:case"end":return e.stop()}}),e)})))()),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,r,o){return e.apply(this,arguments)}}()}]),n}(hs(ps.ZP));gs.legacyComponentName="audio",gs.nodeName="Audio";var ys=n(68920);function bs(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return ws(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ws(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function ws(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xs(e){var t,n=[],r=bs(e);try{for(r.s();!(t=r.n()).done;){var o=t.value,i=o.geometry,a=i.attributes;if(a.position){if(3!==a.position.itemSize)throw new Error("Tried to merge geometry with an invalid number of positions");i.index&&(i=i.toNonIndexed());var s=new Yn.u9r;s.setAttribute("position",i.attributes.position.clone()),o.updateMatrixWorld(),s.applyMatrix4(o.matrixWorld),i=s,n.push(i)}}}catch(v){r.e(v)}finally{r.f()}if(0===n.length)return function(){var e=new Yn.u9r;return e.setIndex([]),e.setAttribute("position",new Yn.a$l([],3)),e}();for(var c=(0,ys.qf)(n),l=c.clone(),u=l.attributes.position.array,f=0;f<u.length;f+=9){var d=u[f],h=u[f+1],p=u[f+2];u[f]=u[f+6],u[f+1]=u[f+6+1],u[f+2]=u[f+6+2],u[f+6]=d,u[f+6+1]=h,u[f+6+2]=p}return(0,ys.qf)([c,l])}var Ss=n(33221),Cs=function(){var e="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0;return function(t){t="undefined"!==typeof(t=t||{})?t:{};var n,r={};for(n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);t.arguments=[],t.thisProgram="./this.program",t.quit=function(e,t){throw t},t.preRun=[],t.postRun=[];var o=!1,i=!1,a=!1,s=!1;o="object"===typeof window,i="function"===typeof importScripts,a="object"===typeof Ss&&"function"===typeof require&&!o&&!i,s=!o&&!a&&!i;var c,l,u="";function f(e){return t.locateFile?t.locateFile(e,u):u+e}a?(u=__dirname+"/",t.read=function(e,t){var n;return c||(c=require("browserfs")),l||(l=require("path")),e=l.normalize(e),n=c.readFileSync(e),t?n:n.toString()},t.readBinary=function(e){var n=t.read(e,!0);return n.buffer||(n=new Uint8Array(n)),y(n.buffer),n},Ss.argv.length>1&&(t.thisProgram=Ss.argv[1].replace(/\\/g,"/")),t.arguments=Ss.argv.slice(2),Ss.on("uncaughtException",(function(e){if(!(e instanceof Ft))throw e})),Ss.on("unhandledRejection",Vt),t.quit=function(e){Ss.exit(e)},t.inspect=function(){return"[Emscripten Module object]"}):s?("undefined"!=typeof read&&(t.read=function(e){return read(e)}),t.readBinary=function(e){var t;return"function"===typeof readbuffer?new Uint8Array(readbuffer(e)):(y("object"===typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?t.arguments=scriptArgs:"undefined"!=typeof arguments&&(t.arguments=arguments),"function"===typeof quit&&(t.quit=function(e){quit(e)})):(o||i)&&(i?u=self.location.href:document.currentScript&&(u=document.currentScript.src),e&&(u=e),u=0!==u.indexOf("blob:")?u.substr(0,u.lastIndexOf("/")+1):"",t.read=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},i&&(t.readBinary=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),t.readAsync=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)},t.setWindowTitle=function(e){document.title=e});var d=t.print||("undefined"!==typeof console?console.log.bind(console):"undefined"!==typeof print?print:null),h=t.printErr||("undefined"!==typeof printErr?printErr:"undefined"!==typeof console&&console.warn.bind(console)||d);for(n in r)r.hasOwnProperty(n)&&(t[n]=r[n]);r=void 0;var p,v={"f64-rem":function(e,t){return e%t},debugger:function(){}},m=(new Array(0),function(e){e});"object"!==typeof WebAssembly&&h("no native wasm support detected");var g=!1;function y(e,t){e||Vt("Assertion failed: "+t)}var b="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;function w(e,t,n){for(var r=t+n,o=t;e[o]&&!(o>=r);)++o;if(o-t>16&&e.subarray&&b)return b.decode(e.subarray(t,o));for(var i="";t<o;){var a=e[t++];if(128&a){var s=63&e[t++];if(192!=(224&a)){var c=63&e[t++];if((a=224==(240&a)?(15&a)<<12|s<<6|c:(7&a)<<18|s<<12|c<<6|63&e[t++])<65536)i+=String.fromCharCode(a);else{var l=a-65536;i+=String.fromCharCode(55296|l>>10,56320|1023&l)}}else i+=String.fromCharCode((31&a)<<6|s)}else i+=String.fromCharCode(a)}return i}function x(e,t){return e?w(M,e,t):""}function S(e,t,n,r){if(!(r>0))return 0;for(var o=n,i=n+r-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343)s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a);if(s<=127){if(n>=i)break;t[n++]=s}else if(s<=2047){if(n+1>=i)break;t[n++]=192|s>>6,t[n++]=128|63&s}else if(s<=65535){if(n+2>=i)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|63&s}else{if(n+3>=i)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}}return t[n]=0,n-o}function C(e,t,n){return S(e,M,t,n)}function k(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),r<=127?++t:t+=r<=2047?2:r<=65535?3:4}return t}"undefined"!==typeof TextDecoder&&new TextDecoder("utf-16le");var O,P,M,R,E,Z,j,D,T,A=65536;function _(e,t){return e%t>0&&(e+=t-e%t),e}function I(){t.HEAP8=P=new Int8Array(O),t.HEAP16=R=new Int16Array(O),t.HEAP32=Z=new Int32Array(O),t.HEAPU8=M=new Uint8Array(O),t.HEAPU16=E=new Uint16Array(O),t.HEAPU32=j=new Uint32Array(O),t.HEAPF32=D=new Float32Array(O),t.HEAPF64=T=new Float64Array(O)}var N=5255696,L=12784,z=5242880,F=t.TOTAL_MEMORY||16777216;function U(e){for(;e.length>0;){var n=e.shift();if("function"!=typeof n){var r=n.func;"number"===typeof r?void 0===n.arg?t.dynCall_v(r):t.dynCall_vi(r,n.arg):r(void 0===n.arg?null:n.arg)}else n()}}F<z&&h("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+F+"! (TOTAL_STACK="+z+")"),t.buffer?O=t.buffer:"object"===typeof WebAssembly&&"function"===typeof WebAssembly.Memory?(p=new WebAssembly.Memory({initial:F/A}),O=p.buffer):O=new ArrayBuffer(F),I(),Z[L>>2]=N;var V=[],B=[],H=[],W=[],G=!1;function q(){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)$(t.preRun.shift());U(V)}function K(){G||(G=!0,U(B))}function Y(){U(H)}function X(){if(t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;)J(t.postRun.shift());U(W)}function $(e){V.unshift(e)}function J(e){W.unshift(e)}var Q=0,ee=null,te=null;function ne(e){Q++,t.monitorRunDependencies&&t.monitorRunDependencies(Q)}function re(e){if(Q--,t.monitorRunDependencies&&t.monitorRunDependencies(Q),0==Q&&(null!==ee&&(clearInterval(ee),ee=null),te)){var n=te;te=null,n()}}t.preloadedImages={},t.preloadedAudios={};var oe="data:application/octet-stream;base64, ";function ie(e){return String.prototype.startsWith?e.startsWith(oe):0===e.indexOf(oe)}var ae="recast.wasm";function se(){try{if(t.wasmBinary)return new Uint8Array(t.wasmBinary);if(t.readBinary)return t.readBinary(ae);throw"both async and sync fetching of the wasm failed"}catch(h){Vt(h)}}function ce(){return t.wasmBinary||!o&&!i||"function"!==typeof fetch?new Promise((function(e,t){e(se())})):fetch(ae,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+ae+"'";return e.arrayBuffer()})).catch((function(){return se()}))}function le(e){var n={env:e,global:{NaN:NaN,Infinity:1/0},"global.Math":Math,asm2wasm:v};function r(e,n){var r=e.exports;t.asm=r,re()}if(ne(),t.instantiateWasm)try{return t.instantiateWasm(n,r)}catch(a){return h("Module.instantiateWasm callback failed with error: "+a),!1}function o(e){r(e.instance)}function i(e){ce().then((function(e){return WebAssembly.instantiate(e,n)})).then(e,(function(e){h("failed to asynchronously prepare wasm: "+e),Vt(e)}))}return t.wasmBinary||"function"!==typeof WebAssembly.instantiateStreaming||ie(ae)||"function"!==typeof fetch?i(o):WebAssembly.instantiateStreaming(fetch(ae,{credentials:"same-origin"}),n).then(o,(function(e){h("wasm streaming compile failed: "+e),h("falling back to ArrayBuffer instantiation"),i(o)})),{}}function ue(e,t,n,r){Vt("Assertion failed: "+x(e)+", at: "+[t?x(t):"unknown filename",n,r?x(r):"unknown function"])}function fe(e){return Lt(e)}function de(){return!!de.uncaught_exception}function he(e){try{return Nt(e)}catch(t){}}ie(ae)||(ae=f(ae)),t.asm=function(e,t,n){return t.memory=p,t.table=new WebAssembly.Table({initial:86,maximum:86,element:"anyfunc"}),t.__memory_base=1024,t.__table_base=0,le(t)},B.push({func:function(){zt()}});var pe={last:0,caught:[],infos:{},deAdjust:function(e){if(!e||pe.infos[e])return e;for(var t in pe.infos)for(var n=+t,r=pe.infos[n].adjusted,o=r.length,i=0;i<o;i++)if(r[i]===e)return n;return e},addRef:function(e){e&&pe.infos[e].refcount++},decRef:function(e){if(e){var n=pe.infos[e];y(n.refcount>0),n.refcount--,0!==n.refcount||n.rethrown||(n.destructor&&t.dynCall_vi(n.destructor,e),delete pe.infos[e],he(e))}},clearRef:function(e){e&&(pe.infos[e].refcount=0)}};function ve(e,t,n){throw pe.infos[e]={ptr:e,adjusted:[e],type:t,destructor:n,refcount:0,caught:!1,rethrown:!1},pe.last=e,"uncaught_exception"in de?de.uncaught_exception++:de.uncaught_exception=1,e}var me={buffers:[null,[],[]],printChar:function(e,t){var n=me.buffers[e];0===t||10===t?((1===e?d:h)(w(n,0)),n.length=0):n.push(t)},varargs:0,get:function(e){return me.varargs+=4,Z[me.varargs-4>>2]},getStr:function(){return x(me.get())},get64:function(){var e=me.get();me.get();return e},getZero:function(){me.get()}};function ge(e,t){me.varargs=t;try{me.getStreamFromFD(),me.get(),me.get(),me.get(),me.get();return 0}catch(n){return"undefined"!==typeof FS&&n instanceof FS.ErrnoError||Vt(n),-n.errno}}function ye(e,t){me.varargs=t;try{for(var n=me.get(),r=me.get(),o=me.get(),i=0,a=0;a<o;a++){for(var s=Z[r+8*a>>2],c=Z[r+(8*a+4)>>2],l=0;l<c;l++)me.printChar(n,M[s+l]);i+=c}return i}catch(u){return"undefined"!==typeof FS&&u instanceof FS.ErrnoError||Vt(u),-u.errno}}function be(e,t){me.varargs=t;try{return 0}catch(n){return"undefined"!==typeof FS&&n instanceof FS.ErrnoError||Vt(n),-n.errno}}function we(e,t){me.varargs=t;try{me.getStreamFromFD();return 0}catch(n){return"undefined"!==typeof FS&&n instanceof FS.ErrnoError||Vt(n),-n.errno}}function xe(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}function Se(){for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);Ce=e}var Ce=void 0;function ke(e){for(var t="",n=e;M[n];)t+=Ce[M[n++]];return t}var Oe={},Pe={},Me={},Re=48,Ee=57;function Ze(e){if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return t>=Re&&t<=Ee?"_"+e:e}function je(e,t){return e=Ze(e),new Function("body","return function "+e+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(t)}function De(e,t){var n=je(t,(function(e){this.name=t,this.message=e;var n=new Error(e).stack;void 0!==n&&(this.stack=this.toString()+"\n"+n.replace(/^Error(:[^\n]*)?\n/,""))}));return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},n}var Te=void 0;function Ae(e){throw new Te(e)}var _e=void 0;function Ie(e){throw new _e(e)}function Ne(e,t,n){function r(t){var r=n(t);r.length!==e.length&&Ie("Mismatched type converter count");for(var o=0;o<e.length;++o)Le(e[o],r[o])}e.forEach((function(e){Me[e]=t}));var o=new Array(t.length),i=[],a=0;t.forEach((function(e,t){Pe.hasOwnProperty(e)?o[t]=Pe[e]:(i.push(e),Oe.hasOwnProperty(e)||(Oe[e]=[]),Oe[e].push((function(){o[t]=Pe[e],++a===i.length&&r(o)})))})),0===i.length&&r(o)}function Le(e,t,n){if(n=n||{},!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var r=t.name;if(e||Ae('type "'+r+'" must have a positive integer typeid pointer'),Pe.hasOwnProperty(e)){if(n.ignoreDuplicateRegistrations)return;Ae("Cannot register type '"+r+"' twice")}if(Pe[e]=t,delete Me[e],Oe.hasOwnProperty(e)){var o=Oe[e];delete Oe[e],o.forEach((function(e){e()}))}}function ze(e,t,n,r,o){var i=xe(n);Le(e,{name:t=ke(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?r:o},argPackAdvance:8,readValueFromPointer:function(e){var r;if(1===n)r=P;else if(2===n)r=R;else{if(4!==n)throw new TypeError("Unknown boolean type size: "+t);r=Z}return this.fromWireType(r[e>>i])},destructorFunction:null})}var Fe=[],Ue=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Ve(e){e>4&&0===--Ue[e].refcount&&(Ue[e]=void 0,Fe.push(e))}function Be(){for(var e=0,t=5;t<Ue.length;++t)void 0!==Ue[t]&&++e;return e}function He(){for(var e=5;e<Ue.length;++e)if(void 0!==Ue[e])return Ue[e];return null}function We(){t.count_emval_handles=Be,t.get_first_emval=He}function Ge(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=Fe.length?Fe.pop():Ue.length;return Ue[t]={refcount:1,value:e},t}}function qe(e){return this.fromWireType(j[e>>2])}function Ke(e,t){Le(e,{name:t=ke(t),fromWireType:function(e){var t=Ue[e].value;return Ve(e),t},toWireType:function(e,t){return Ge(t)},argPackAdvance:8,readValueFromPointer:qe,destructorFunction:null})}function Ye(e){if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e}function Xe(e,t){switch(t){case 2:return function(e){return this.fromWireType(D[e>>2])};case 3:return function(e){return this.fromWireType(T[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function $e(e,t,n){var r=xe(n);Le(e,{name:t=ke(t),fromWireType:function(e){return e},toWireType:function(e,t){if("number"!==typeof t&&"boolean"!==typeof t)throw new TypeError('Cannot convert "'+Ye(t)+'" to '+this.name);return t},argPackAdvance:8,readValueFromPointer:Xe(t,r),destructorFunction:null})}function Je(e,t){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+typeof e+" which is not a function");var n=je(e.name||"unknownFunctionName",(function(){}));n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return o instanceof Object?o:r}function Qe(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function et(e,t,n,r,o){var i=t.length;i<2&&Ae("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var a=null!==t[1]&&null!==n,s=!1,c=1;c<t.length;++c)if(null!==t[c]&&void 0===t[c].destructorFunction){s=!0;break}var l="void"!==t[0].name,u="",f="";for(c=0;c<i-2;++c)u+=(0!==c?", ":"")+"arg"+c,f+=(0!==c?", ":"")+"arg"+c+"Wired";var d="return function "+Ze(e)+"("+u+") {\nif (arguments.length !== "+(i-2)+") {\nthrowBindingError('function "+e+" called with ' + arguments.length + ' arguments, expected "+(i-2)+" args!');\n} \n";s&&(d+="var destructors = [];\n");var h=s?"destructors":"null",p=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],v=[Ae,r,o,Qe,t[0],t[1]];a&&(d+="var thisWired = classParam.toWireType("+h+", this);\n");for(c=0;c<i-2;++c)d+="var arg"+c+"Wired = argType"+c+".toWireType("+h+", arg"+c+");// "+t[c+2].name+"\n",p.push("argType"+c),v.push(t[c+2]);if(a&&(f="thisWired"+(f.length>0?", ":"")+f),d+=(l?"var rv = ":"")+"invoker(fn"+(f.length>0?", ":"")+f+");\n",s)d+="runDestructors(destructors);\n";else for(c=a?1:2;c<t.length;++c){var m=1===c?"thisWired":"arg"+(c-2)+"Wired";null!==t[c].destructorFunction&&(d+=m+"_dtor("+m+");// "+t[c].name+"\n",p.push(m+"_dtor"),v.push(t[c].destructorFunction))}return l&&(d+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),d+="} \n",p.push(d),Je(Function,p).apply(null,v)}function tt(e,t,n){if(void 0===e[t].overloadTable){var r=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||Ae("Function '"+n+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[t].overloadTable+")!"),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[r.argCount]=r}}function nt(e,n,r){t.hasOwnProperty(e)?((void 0===r||void 0!==t[e].overloadTable&&void 0!==t[e].overloadTable[r])&&Ae("Cannot register public name '"+e+"' twice"),tt(t,e,e),t.hasOwnProperty(r)&&Ae("Cannot register multiple overloads of a function with the same number of arguments ("+r+")!"),t[e].overloadTable[r]=n):(t[e]=n,void 0!==r&&(t[e].numArguments=r))}function rt(e,t){for(var n=[],r=0;r<e;r++)n.push(Z[(t>>2)+r]);return n}function ot(e,n,r){t.hasOwnProperty(e)||Ie("Replacing nonexistant public symbol"),void 0!==t[e].overloadTable&&void 0!==r?t[e].overloadTable[r]=n:(t[e]=n,t[e].argCount=r)}function it(e,n){var r;if(e=ke(e),void 0!==t["FUNCTION_TABLE_"+e])r=t["FUNCTION_TABLE_"+e][n];else if("undefined"!==typeof FUNCTION_TABLE)r=FUNCTION_TABLE[n];else{var o=t["dynCall_"+e];void 0===o&&void 0===(o=t["dynCall_"+e.replace(/f/g,"d")])&&Ae("No dynCall invoker for signature: "+e),r=function(t){for(var r=[],o=1;o<e.length;++o)r.push("a"+o);var i="return function dynCall_"+e+"_"+n+"("+r.join(", ")+") {\n";return i+="    return dynCall(rawFunction"+(r.length?", ":"")+r.join(", ")+");\n",i+="};\n",new Function("dynCall","rawFunction",i)(t,n)}(o)}return"function"!==typeof r&&Ae("unknown function pointer with signature "+e+": "+n),r}var at=void 0;function st(e){var t=It(e),n=ke(t);return Nt(t),n}function ct(e,t){var n=[],r={};throw t.forEach((function e(t){r[t]||Pe[t]||(Me[t]?Me[t].forEach(e):(n.push(t),r[t]=!0))})),new at(e+": "+n.map(st).join([", "]))}function lt(e,t,n,r,o,i){var a=rt(t,n);e=ke(e),o=it(r,o),nt(e,(function(){ct("Cannot call "+e+" due to unbound types",a)}),t-1),Ne([],a,(function(n){var r=[n[0],null].concat(n.slice(1));return ot(e,et(e,r,null,o,i),t-1),[]}))}function ut(e,t,n){switch(t){case 0:return n?function(e){return P[e]}:function(e){return M[e]};case 1:return n?function(e){return R[e>>1]}:function(e){return E[e>>1]};case 2:return n?function(e){return Z[e>>2]}:function(e){return j[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}function ft(e,t,n,r,o){t=ke(t),-1===o&&(o=4294967295);var i=xe(n),a=function(e){return e};if(0===r){var s=32-8*n;a=function(e){return e<<s>>>s}}var c=-1!=t.indexOf("unsigned");Le(e,{name:t,fromWireType:a,toWireType:function(e,n){if("number"!==typeof n&&"boolean"!==typeof n)throw new TypeError('Cannot convert "'+Ye(n)+'" to '+this.name);if(n<r||n>o)throw new TypeError('Passing a number "'+Ye(n)+'" from JS side to C/C++ side to an argument of type "'+t+'", which is outside the valid range ['+r+", "+o+"]!");return c?n>>>0:0|n},argPackAdvance:8,readValueFromPointer:ut(t,i,0!==r),destructorFunction:null})}function dt(e,t,n){var r=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];function o(e){var t=j,n=t[e>>=2],o=t[e+1];return new r(t.buffer,o,n)}Le(e,{name:n=ke(n),fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})}function ht(e,t){var n="std::string"===(t=ke(t));Le(e,{name:t,fromWireType:function(e){var t,r=j[e>>2];if(n){var o=M[e+4+r],i=0;0!=o&&(i=o,M[e+4+r]=0);for(var a=e+4,s=0;s<=r;++s){var c=e+4+s;if(0==M[c]){var l=x(a);void 0===t?t=l:(t+=String.fromCharCode(0),t+=l),a=c+1}}0!=i&&(M[e+4+r]=i)}else{var u=new Array(r);for(s=0;s<r;++s)u[s]=String.fromCharCode(M[e+4+s]);t=u.join("")}return Nt(e),t},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var r="string"===typeof t;r||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||Ae("Cannot pass non-string to std::string");var o=(n&&r?function(){return k(t)}:function(){return t.length})(),i=Lt(4+o+1);if(j[i>>2]=o,n&&r)C(t,i+4,o+1);else if(r)for(var a=0;a<o;++a){var s=t.charCodeAt(a);s>255&&(Nt(i),Ae("String has UTF-16 code units that do not fit in 8 bits")),M[i+4+a]=s}else for(a=0;a<o;++a)M[i+4+a]=t[a];return null!==e&&e.push(Nt,i),i},argPackAdvance:8,readValueFromPointer:qe,destructorFunction:function(e){Nt(e)}})}function pt(e,t,n){var r,o;n=ke(n),2===t?(r=function(){return E},o=1):4===t&&(r=function(){return j},o=2),Le(e,{name:n,fromWireType:function(e){for(var t=r(),n=j[e>>2],i=new Array(n),a=e+4>>o,s=0;s<n;++s)i[s]=String.fromCharCode(t[a+s]);return Nt(e),i.join("")},toWireType:function(e,n){var i=r(),a=n.length,s=Lt(4+a*t);j[s>>2]=a;for(var c=s+4>>o,l=0;l<a;++l)i[c+l]=n.charCodeAt(l);return null!==e&&e.push(Nt,s),s},argPackAdvance:8,readValueFromPointer:qe,destructorFunction:function(e){Nt(e)}})}function vt(e,t){Le(e,{isVoid:!0,name:t=ke(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(e,t){}})}function mt(e){return e||Ae("Cannot use deleted val. handle = "+e),Ue[e].value}function gt(e,t){var n=Pe[e];return void 0===n&&Ae(t+" has unknown type "+st(e)),n}function yt(e,t,n){e=mt(e),t=gt(t,"emval::as");var r=[],o=Ge(r);return Z[n>>2]=o,t.toWireType(r,e)}function bt(e,t){return Ge((e=mt(e))[t=mt(t)])}function wt(e){e>4&&(Ue[e].refcount+=1)}var xt={};function St(e){var t=xt[e];return void 0===t?ke(e):t}function Ct(e){return Ge(St(e))}function kt(e){Qe(Ue[e].value),Ve(e)}function Ot(e,t){return Ge((e=gt(e,"_emval_take_value")).readValueFromPointer(t))}function Pt(){t.abort()}function Mt(){return P.length}function Rt(e){Vt("OOM")}function Et(e){e=_(e,65536);var t=O.byteLength;try{return-1!==p.grow((e-t)/65536)&&(O=p.buffer,!0)}catch(n){return!1}}function Zt(e){var t=Mt(),n=65536,r=2147418112;if(e>r)return!1;for(var o=Math.max(t,16777216);o<e;)o=o<=536870912?_(2*o,n):Math.min(_((3*o+2147483648)/4,n),r);return!!Et(o)&&(I(),!0)}function jt(e,t,n){M.set(M.subarray(t,t+n),e)}function Dt(e){return t.___errno_location&&(Z[t.___errno_location()>>2]=e),e}Se(),Te=t.BindingError=De(Error,"BindingError"),_e=t.InternalError=De(Error,"InternalError"),We(),at=t.UnboundTypeError=De(Error,"UnboundTypeError");var Tt={},At={c:Vt,t:m,b:ue,B:fe,u:ve,j:Dt,s:ge,i:ye,r:be,q:we,p:ze,F:Ke,o:$e,g:lt,e:ft,d:dt,n:ht,E:pt,D:vt,h:yt,C:Ve,m:bt,l:wt,A:Ct,z:kt,f:Ot,k:Pt,y:Mt,x:jt,w:Zt,v:Rt,a:L},_t=t.asm(Tt,At,O);t.asm=_t;t.___errno_location=function(){return t.asm.G.apply(null,arguments)};var It=t.___getTypeName=function(){return t.asm.H.apply(null,arguments)},Nt=t._free=function(){return t.asm.I.apply(null,arguments)},Lt=t._malloc=function(){return t.asm.J.apply(null,arguments)},zt=t.globalCtors=function(){return t.asm.Y.apply(null,arguments)};t.dynCall_ifffffffffffff=function(){return t.asm.K.apply(null,arguments)},t.dynCall_ii=function(){return t.asm.L.apply(null,arguments)},t.dynCall_iidiiii=function(){return t.asm.M.apply(null,arguments)},t.dynCall_iifffffffffffff=function(){return t.asm.N.apply(null,arguments)},t.dynCall_iii=function(){return t.asm.O.apply(null,arguments)},t.dynCall_iiii=function(){return t.asm.P.apply(null,arguments)},t.dynCall_jiji=function(){return t.asm.Q.apply(null,arguments)},t.dynCall_v=function(){return t.asm.R.apply(null,arguments)},t.dynCall_vi=function(){return t.asm.S.apply(null,arguments)},t.dynCall_vii=function(){return t.asm.T.apply(null,arguments)},t.dynCall_viii=function(){return t.asm.U.apply(null,arguments)},t.dynCall_viiii=function(){return t.asm.V.apply(null,arguments)},t.dynCall_viiiii=function(){return t.asm.W.apply(null,arguments)},t.dynCall_viiiiii=function(){return t.asm.X.apply(null,arguments)};function Ft(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Ut(e){function n(){t.calledRun||(t.calledRun=!0,g||(K(),Y(),t.onRuntimeInitialized&&t.onRuntimeInitialized(),X()))}e=e||t.arguments,Q>0||(q(),Q>0||t.calledRun||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),n()}),1)):n()))}function Vt(e){throw t.onAbort&&t.onAbort(e),void 0!==e?(d(e),h(e),e=JSON.stringify(e)):e="",g=!0,1,"abort("+e+"). Build with -s ASSERTIONS=1 for more info."}if(t.asm=_t,t.then=function(e){if(t.calledRun)e(t);else{var n=t.onRuntimeInitialized;t.onRuntimeInitialized=function(){n&&n(),e(t)}}return t},Ft.prototype=new Error,Ft.prototype.constructor=Ft,te=function e(){t.calledRun||Ut(),t.calledRun||(te=e)},t.run=Ut,t.abort=Vt,t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return t.noExitRuntime=!0,Ut(),t.ready=new Promise((function(e,n){delete t.then,t.onAbort=function(e){n(e)},J((function(){e(t)}))})),t}}(),ks="\n// Adding modules and dependencies to worker global scope \nself._scriptDir = '".concat(document.currentScript?document.currentScript.src:"","'\nself.Recast = ").concat(Cs,"\n\n// Script\nconst defaultParams = {\n  cellSize: 0.166,\n  cellHeight: 0.1,\n  agentHeight: 1.7,\n  agentRadius: 0.5,\n  agentMaxClimb: 0.3,\n  agentMaxSlope: 45,\n  regionMinSize: 1,\n  regionMergeSize: 20,\n  edgeMaxLen: 12,\n  edgeMaxError: 1,\n  vertsPerPoly: 3,\n  detailSampleDist: 16,\n  detailSampleMaxError: 1\n}\nlet recast = null\nself.onmessage = function(event) {\n  const message = event.data\n  try {\n    if (!recast) {\n      recast = Recast({\n        locateFile(path) {\n          if (path.endsWith('.wasm')) {\n            return message.params.wasmUrl\n          }\n        }\n      })\n    }\n    recast.ready.then(() => {\n      if (!recast.loadArray(message.verts, message.faces)) {\n        ;self.postMessage({ error: 'error loading navmesh data' })\n      }\n      const {\n        cellSize,\n        cellHeight,\n        agentHeight,\n        agentRadius,\n        agentMaxClimb,\n        agentMaxSlope,\n        regionMinSize,\n        regionMergeSize,\n        edgeMaxLen,\n        edgeMaxError,\n        vertsPerPoly,\n        detailSampleDist,\n        detailSampleMaxError\n      } = Object.assign({}, defaultParams, message.params || {})\n      const status = recast.build(\n        cellSize,\n        cellHeight,\n        agentHeight,\n        agentRadius,\n        agentMaxClimb,\n        agentMaxSlope,\n        regionMinSize,\n        regionMergeSize,\n        edgeMaxLen,\n        edgeMaxError,\n        vertsPerPoly,\n        detailSampleDist,\n        detailSampleMaxError\n      )\n      if (status === 13) {\n        // No contours could be generated. This happens when there are zero walkable cells.\n        ;self.postMessage({\n          indices: [],\n          verts: [],\n          heightfield: null\n        })\n        recast.freeNavMesh()\n        return\n      }\n      if (status !== 0) {\n        ;self.postMessage({\n          error: 'unknown error building nav mesh',\n          status\n        })\n        recast.freeNavMesh()\n        return\n      }\n      const meshes = recast.getMeshes()\n      const wasmVerts = recast.getVerts()\n      const verts = new Float32Array(wasmVerts.length)\n      verts.set(wasmVerts)\n      const tris = recast.getTris()\n      const indices = new Uint16Array((tris.length / 4) * 3)\n      let index = 0\n      const numMeshes = meshes.length / 4\n      for (let i = 0; i < numMeshes; i++) {\n        const meshOffset = i * 4\n        const meshVertsOffset = meshes[meshOffset]\n        const meshTrisOffset = meshes[meshOffset + 2]\n        const meshNumTris = meshes[meshOffset + 3]\n        for (let j = 0; j < meshNumTris; j++) {\n          const triangleOffset = (meshTrisOffset + j) * 4\n          const a = meshVertsOffset + tris[triangleOffset]\n          const b = meshVertsOffset + tris[triangleOffset + 1]\n          const c = meshVertsOffset + tris[triangleOffset + 2]\n          indices[index++] = a\n          indices[index++] = b\n          indices[index++] = c\n        }\n      }\n      ;self.postMessage(\n        {\n          indices,\n          verts\n        },\n        [indices.buffer, verts.buffer]\n      )\n      recast.freeNavMesh()\n    })\n  } catch (err) {\n    console.error(err)\n    ;self.postMessage({\n      error: err.message || 'unknown error building nav mesh'\n    })\n  }\n}"),Os=["success","unknown error","out of memory error","invalid navmesh data","error generating navmesh heightfield","error rasterizing navmesh","error generating navmesh compact heightfield","error eroding navmesh walkable area","error generating navmesh distance field","error generating navmesh regions","error generating monotone navmesh regions","error generating navmesh layer regions","error generating navmesh contours","error generating navmesh data","error generating navmesh detail geometry"],Ps=function(){function e(){(0,l.Z)(this,e),this.working=!1;var t=new Blob([ks]);this.workerUrl=URL.createObjectURL(t),this.worker=new Worker(this.workerUrl)}return(0,u.Z)(e,[{key:"buildNavMesh",value:function(){var e=(0,c.Z)(s().mark((function e(t,n,r){var o,i,a,c,l,u,f=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.working){e.next=2;break}throw new Error("Already building nav mesh");case 2:if(this.working=!0,0!==t.attributes.position.count){e.next=6;break}return this.working=!1,e.abrupt("return",t);case 6:for(o=t.attributes.position.array,i=new Int32Array(o.length/3),a=0;a<i.length;a++)i[a]=a;return c=new Promise((function(e,t){var n=function(){r.removeEventListener("abort",i),f.worker.removeEventListener("message",o),f.worker.removeEventListener("error",a),f.working=!1},o=function(t){e(t.data),n()},i=function(){f.worker.terminate(),f.worker=new Worker(f.workerUrl);var e=new Error("Canceled navmesh generation.");e.aborted=!0,t(e),n()},a=function(e){t(e),n()};r.addEventListener("abort",i),f.worker.addEventListener("message",o),f.worker.addEventListener("error",a),f.working=!1})),this.worker.postMessage({verts:o,faces:i,params:n},[o.buffer,i.buffer]),e.next=13,c;case 13:if(!(l=e.sent).error){e.next=16;break}throw new Error(Os[l.status]||l.error);case 16:return(u=new Yn.u9r).setAttribute("position",new Yn.a$l(l.verts,3)),u.setIndex(new Yn.qlB(l.indices,1)),e.abrupt("return",u);case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),e}(),Ms=n(33236),Rs="\n// Adding modules to worker global scope \n\nself.THREE = {};\nself.THREE.Vector3 = ".concat(Yn.Pa4,";\nself.THREE.Mesh = ").concat(Yn.Kj0,";\nself.THREE.BufferGeometry = ").concat(Yn.u9r,";\nself.THREE.Vector3 = ").concat(Yn.Pa4,";\nself.THREE.Raycaster = ").concat(Yn.iMs,";\nself.THREE.Float32BufferAttribute = ").concat(Yn.a$l,";\nself.acceleratedRaycast = ").concat(Ms.uL,";\nself.computeBoundsTree = ").concat(Ms.Xy,';\n\n// Script\nTHREE.Mesh.prototype.raycast = acceleratedRaycast;\nTHREE.BufferGeometry.prototype["computeBoundsTree"] = computeBoundsTree;\nfunction exceedsDensityThreshold(count, subtree, params) {\n  const bounds = subtree.boundingData;\n  const triangleThreshold = params.triangleThreshold;\n  const minimumVolume = params.minimumVolume;\n  const minimumTriangles = params.minimumTriangles;\n  const dx = bounds[3] - bounds[0];\n  const dy = bounds[4] - bounds[1];\n  const dz = bounds[5] - bounds[2];\n  const volume = dx * dy * dz;\n  if (volume < minimumVolume) {\n    return false;\n  }\n  if (count < minimumTriangles) {\n    return false;\n  }\n  return count / volume > triangleThreshold;\n}\nfunction isHighDensity(subtree, params) {\n  if (!subtree) return false;\n  if (subtree.count) {\n    const result = exceedsDensityThreshold(subtree.count, subtree, params);\n    return result === true || subtree.count;\n  } else {\n    const leftResult = isHighDensity(subtree.left, params);\n    if (leftResult === true) return true;\n    const rightResult = isHighDensity(subtree.right, params);\n    if (rightResult === true) return true;\n    const count = leftResult + rightResult;\n    const result = exceedsDensityThreshold(count, subtree, params);\n    return result === true || count;\n  }\n}\nfunction isGeometryHighDensity(geo, params) {\n  const bvh = geo.boundsTree;\n  const roots = bvh._roots;\n  for (let i = 0; i < roots.length; ++i) {\n    if (isHighDensity(roots[i], params) === true) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction generateHeightfield(geometry, params) {\n  geometry.computeBoundingBox();\n  const size = new THREE.Vector3();\n  geometry.boundingBox.getSize(size);\n  geometry.computeBoundsTree({ strategy: 1, maxDepth: 40 });\n  if (!isGeometryHighDensity(geometry, params)) {\n    return null;\n  }\n  const heightfieldMesh = new THREE.Mesh(geometry);\n  const maxSide = Math.max(size.x, size.z);\n  const distance = Object.prototype.hasOwnProperty.call(params, "distance")\n    ? params.distance\n    : Math.max(0.25, Math.pow(maxSide, 1 / 2) / 10);\n  const resolution = Math.ceil(maxSide / distance);\n  const data = [];\n  const offset = new THREE.Vector3();\n  geometry.boundingBox.getCenter(offset);\n  const down = new THREE.Vector3(0, -1, 0);\n  const position = new THREE.Vector3();\n  const raycaster = new THREE.Raycaster();\n  const offsetX = -maxSide / 2 + offset.x;\n  const offsetZ = -maxSide / 2 + offset.z;\n  let min = Number.POSITIVE_INFINITY;\n  let max = Number.NEGATIVE_INFINITY;\n  for (let z = 0; z < resolution; z++) {\n    data[z] = [];\n    for (let x = 0; x < resolution; x++) {\n      position.set(\n        offsetX + x * distance,\n        params.raycastY,\n        offsetZ + z * distance\n      );\n      raycaster.set(position, down);\n      const hits = [];\n      heightfieldMesh.raycast(raycaster, hits);\n      let hit;\n      if (hits.length === 1) {\n        hit = hits[0];\n      } else {\n        for (let i = 0; i < hits.length; i++) {\n          if (\n            (!hit || hits[i].distance < hit.distance) &&\n            hits[i].point.y < params.minY + params.agentHeight\n          ) {\n            hit = hits[i];\n          }\n        }\n      }\n      if (!hit && hits.length > 0) {\n        hit = hits[0];\n      }\n      let val;\n      if (hit) {\n        val = hit.point.y;\n      } else {\n        val = params.minY;\n      }\n      data[z][x] = val;\n      if (val < min) {\n        min = data[z][x];\n      }\n      if (val > max) {\n        max = data[z][x];\n      }\n    }\n  }\n  if (data.length === 0) {\n    return null;\n  }\n  offset.y = (max + min) / 2; //Bullet expect this to be the center between the max and min heights.\n  return { offset, distance, data, width: maxSide, length: maxSide };\n}\nconst defaultParams = {\n  raycastY: 1000,\n  minY: 0,\n  agentHeight: 1.7,\n  triangleThreshold: 1000,\n  minimumVolume: 0.1,\n  minimumTriangles: 100\n};\nself.onmessage = async event => {\n  const message = event.data;\n  const params = Object.assign({}, defaultParams, message.params || {});\n  const geometry = new THREE.BufferGeometry();\n  geometry.setAttribute(\n    "position",\n    new THREE.Float32BufferAttribute(message.verts, 3)\n  );\n  const heightfield = generateHeightfield(geometry, params);\n  self.postMessage({ heightfield });\n};'),Es=function(){function e(){(0,l.Z)(this,e),this.working=!1;var t=new Blob([Rs]);this.workerUrl=URL.createObjectURL(t),this.worker=new Worker(this.workerUrl)}return(0,u.Z)(e,[{key:"initWorker",value:function(){}},{key:"buildHeightfield",value:function(){var e=(0,c.Z)(s().mark((function e(t,n,r){var o,i,a,c=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.working){e.next=2;break}throw new Error("Already building heightfield");case 2:if(this.working=!0,0!==t.attributes.position.count){e.next=6;break}return this.working=!1,e.abrupt("return",null);case 6:return o=new Promise((function(e,t){var n=null,o=null,i=null,a=function(){r.removeEventListener("abort",i),c.worker.removeEventListener("message",n),c.worker.removeEventListener("error",o),c.working=!1};n=function(t){e(t.data),a()},i=function(){c.worker.terminate(),c.worker=new Worker(c.workerUrl);var e=new Error("Canceled heightfield generation.");e.aborted=!0,t(e),a()},o=function(e){t(e),a()},r.addEventListener("abort",i),c.worker.addEventListener("message",n),c.worker.addEventListener("error",o)})),i=t.attributes.position.array,this.worker.postMessage({verts:i,params:n}),e.next=11,o;case 11:if(!(a=e.sent).error){e.next=14;break}throw new Error(a.error);case 14:return e.abrupt("return",Promise.resolve(a.heightfield));case 15:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),e}();function Zs(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var js=function(e){(0,f.Z)(n,e);var t=Zs(n);function n(){var e;return(0,l.Z)(this,n),(e=t.call(this)).position.y=.005,e.navMesh=null,e.trimesh=null,e.heightfield=null,e.heightfieldMesh=null,e}return(0,u.Z)(n,[{key:"setNavMesh",value:function(e){this.navMesh&&this.remove(this.navMesh),this.navMesh=e,e&&(this.add(e),this.navMesh.layers.set(1),this.navMesh.visible=!1)}},{key:"setTrimesh",value:function(e){this.trimesh&&this.remove(this.trimesh),this.trimesh=e,e&&(this.add(e),this.trimesh.layers.set(1),this.trimesh.visible=!1)}},{key:"setHeightfield",value:function(e){this.heightfield=e||null}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.heightfield=JSON.parse(JSON.stringify(e.heightfield)),t&&(this.remove(this.navMesh),this.remove(this.trimesh)),(0,qn.Z)((0,h.Z)(n.prototype),"copy",this).call(this,e,t),t){var r=e.children.indexOf(e.navMesh);-1!==r&&(this.navMesh=this.children[r]);var o=e.children.indexOf(e.trimesh);-1!==o&&(this.trimesh=this.children[o])}return this}}]),n}(Yn.Tme);function Ds(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Ts=function(e){(0,f.Z)(n,e);var t=Ds(n);function n(e){var r;(0,l.Z)(this,n),r=t.call(this,e);var o=new Yn.Kj0(n._geometry,n._material),i=new Yn.fQA(o,65280);return i.layers.set(1),r.helper=i,r.add(i),r.walkable=!1,r}return(0,u.Z)(n,[{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t&&this.remove(this.helper),(0,qn.Z)((0,h.Z)(n.prototype),"copy",this).call(this,e,t),t){var r=e.children.indexOf(e.helper);if(-1!==r){var o=new Yn.Kj0(n._geometry,n._material),i=new Yn.fQA(o,65280);i.layers.set(1),this.helper=i,i.parent=this,this.children.splice(r,1,i)}}return this.walkable=e.walkable,this}},{key:"serialize",value:function(){var e={"box-collider":{type:"box",mass:0,position:this.position,quaternion:{x:this.quaternion.x,y:this.quaternion.y,z:this.quaternion.z,w:this.quaternion.w},scale:{x:this.scale.x/2,y:this.scale.y/2,z:this.scale.z/2}}};return this.walkable&&(e.walkable={}),(0,qn.Z)((0,h.Z)(n.prototype),"serialize",this).call(this,e)}},{key:"prepareForExport",value:function(){(0,qn.Z)((0,h.Z)(n.prototype),"prepareForExport",this).call(this),this.remove(this.helper),this.addGLTFComponent("box-collider",{position:this.position,rotation:{x:this.rotation.x,y:this.rotation.y,z:this.rotation.z},scale:this.scale})}}],[{key:"deserialize",value:function(){var e=(0,c.Z)(s().mark((function e(t,r){var o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,qn.Z)((0,h.Z)(n),"deserialize",this).call(this,t,r);case 2:return(o=e.sent).walkable=!!r.components.find((function(e){return"walkable"===e.name})),e.abrupt("return",o);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(hs(Yn.Tme));function As(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}Ts.legacyComponentName="box-collider",Ts.nodeName="Box Collider",Ts._geometry=new Yn.nvb,Ts._material=new Yn.F5T;var _s=function(e){(0,f.Z)(n,e);var t=As(n);function n(){var e;(0,l.Z)(this,n),(e=t.call(this))._receiveShadow=!0;var r=new Yn.Wid({roughness:1,metalness:0,color:"#5DE336"}),o=new Yn.Kj0(n._geometry,r);return o.name="GroundPlaneMesh",o.position.y=-.05,o.rotation.x=-Math.PI/2,e.mesh=o,e.mesh.receiveShadow=e.receiveShadow,e.add(e.mesh),e}return(0,u.Z)(n,[{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t&&this.remove(this.mesh),(0,qn.Z)((0,h.Z)(n.prototype),"copy",this).call(this,e,t),t){var r=e.children.indexOf(e.mesh);-1!==r&&(this.mesh=this.children[r])}return this.color.copy(e.color),this}},{key:"color",get:function(){return this.mesh.material.color}},{key:"receiveShadow",get:function(){return this._receiveShadow},set:function(e){if(this._receiveShadow=e,this.mesh){this.mesh.receiveShadow=e;var t=this.mesh.material;if(Array.isArray(t))for(var n=0;n<t.length;n++)t[n].needsUpdate=!0;else t.needsUpdate=!0}}}]),n}(Yn.Tme);function Is(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}_s._geometry=new Yn.trn(4e3,32);var Ns=function(e){(0,f.Z)(n,e);var t=Is(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this,e)).walkable=!0,r.walkableMesh=new Yn.Kj0(new Yn.trn(1,32),new Yn.vBJ),r.walkableMesh.name="WalkableMesh",r.walkableMesh.scale.set(100,100,100),r.walkableMesh.position.y=-.05,r.walkableMesh.rotation.x=-Math.PI/2,r.walkableMesh.visible=!1,r.add(r.walkableMesh),r}return(0,u.Z)(n,[{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t&&this.remove(this.walkableMesh),(0,qn.Z)((0,h.Z)(n.prototype),"copy",this).call(this,e,t),t){var r=e.children.findIndex((function(t){return t===e.walkableMesh}));-1!==r&&(this.walkableMesh=this.children[r])}return this.walkable=e.walkable,this}},{key:"serialize",value:function(){var e={"ground-plane":{color:this.color},"box-collider":{type:"ground",position:this.position},shadow:{receive:this.receiveShadow}};return this.walkable&&(e.walkable={}),(0,qn.Z)((0,h.Z)(n.prototype),"serialize",this).call(this,e)}},{key:"prepareForExport",value:function(){(0,qn.Z)((0,h.Z)(n.prototype),"prepareForExport",this).call(this);var e=new Yn.Tme;e.scale.set(this.walkableMesh.scale.x,.1,this.walkableMesh.scale.z),this.add(e),this.remove(this.walkableMesh),this.addGLTFComponent("shadow",{receive:this.receiveShadow,cast:!1})}},{key:"getRuntimeResourcesForStats",value:function(){return{meshes:[this.mesh],materials:[this.mesh.material]}}}],[{key:"canAddNode",value:function(e){return null===e.scene.findNodeByType(n)}},{key:"deserialize",value:function(){var e=(0,c.Z)(s().mark((function e(t,r){var o,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,qn.Z)((0,h.Z)(n),"deserialize",this).call(this,t,r);case 2:return o=e.sent,i=r.components.find((function(e){return"ground-plane"===e.name})).props.color,o.color.set(i),(a=r.components.find((function(e){return"shadow"===e.name})))&&(o.receiveShadow=a.props.receive),o.walkable=!!r.components.find((function(e){return"walkable"===e.name})),e.abrupt("return",o);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(hs(_s));function Ls(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}Ns.legacyComponentName="ground-plane",Ns.nodeName="Ground Plane";var zs=null,Fs=function(e){(0,f.Z)(n,e);var t=Ls(n);function n(e){var r;return(0,l.Z)(this,n),r=t.call(this,e),zs?(r.helper=zs.clone(),r.add(r.helper)):(console.warn("SpawnPointNode: helper model was not loaded before creating a new SpawnPointNode"),r.helper=null),r}return(0,u.Z)(n,[{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t&&this.remove(this.helper),(0,qn.Z)((0,h.Z)(n.prototype),"copy",this).call(this,e,t),t){var r=e.children.findIndex((function(t){return t===e.helper}));-1!==r&&(this.helper=this.children[r])}return this}},{key:"serialize",value:function(){return(0,qn.Z)((0,h.Z)(n.prototype),"serialize",this).call(this,{"spawn-point":{}})}},{key:"prepareForExport",value:function(){(0,qn.Z)((0,h.Z)(n.prototype),"prepareForExport",this).call(this),this.remove(this.helper),this.addGLTFComponent("spawn-point",{})}}],[{key:"load",value:function(){var e=(0,c.Z)(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Kn.Vb)("/editor/spawn-point.glb");case 2:t=e.sent,n=t.scene,zs=n;case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),n}(hs(Yn.Tme));function Us(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Vs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vs(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Vs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bs(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}Fs.legacyComponentName="spawn-point",Fs.nodeName="Spawn Point";var Hs=new Es,Ws=function(e){(0,f.Z)(n,e);var t=Bs(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this,e)).autoCellSize=!0,r.cellSize=.166,r.cellHeight=.1,r.agentHeight=1.7,r.agentRadius=.5,r.agentMaxClimb=.3,r.agentMaxSlope=45,r.regionMinSize=4,r.maxTriangles=1e3,r.forceTrimesh=!1,r.heightfieldMesh=null,r.recastClient=new Ps,r}return(0,u.Z)(n,[{key:"onSelect",value:function(){this.navMesh&&(this.navMesh.visible=!0),this.trimesh&&(this.trimesh.visible=!0),this.heightfieldMesh&&(this.heightfieldMesh.visible=!0)}},{key:"onDeselect",value:function(){this.navMesh&&(this.navMesh.visible=!1),this.trimesh&&(this.trimesh.visible=!1),this.heightfieldMesh&&(this.heightfieldMesh.visible=!1)}},{key:"generate",value:function(){var e=(0,c.Z)(s().mark((function e(t){var n,r,o,i,a,c,l,u,f,d,h,p,v,m,g,y,b,w,x,S,C,k,O,P,M,R,E,Z,j;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.scene=this,n=[],r=[],(o=this.editor.scene.findNodeByType(Ns))&&o.walkable&&r.push(o.walkableMesh),this.editor.scene.traverse((function(e){e.isNode&&e.model&&(e.collidable||e.walkable)&&e.model.traverse((function(t){t.isMesh&&(e.collidable&&n.push(t),e.walkable&&r.push(t))}))})),i=this.editor.scene.getNodesByType(Ts),a=Us(i);try{for(a.s();!(c=a.n()).done;)(l=c.value).walkable&&(u=l.helper.object,(f=new Yn.Kj0(u.geometry,new Yn.vBJ)).applyMatrix(l.matrixWorld),f.updateMatrixWorld(),r.push(f))}catch(s){a.e(s)}finally{a.f()}if(d=xs(r),h=(new Yn.ZzF).setFromBufferAttribute(d.attributes.position),p=new Yn.Pa4,h.getSize(p),!(Math.max(p.x,p.y,p.z)>2e3)){e.next=15;break}throw new Error("Scene is too large (".concat(p.x.toFixed(3)," x ").concat(p.y.toFixed(3)," x ").concat(p.z.toFixed(3),") ")+'to generate a floor plan.\nYou can un-check the "walkable" checkbox on models to exclude them from the floor plan.');case 15:return v=p.x*p.z,m=this.autoCellSize?Math.pow(v,1/3)/50:this.cellSize,e.next=19,this.recastClient.buildNavMesh(d,{cellSize:m,cellHeight:this.cellHeight,agentHeight:this.agentHeight,agentRadius:this.agentRadius,agentMaxClimb:this.agentMaxClimb,agentMaxSlope:this.agentMaxSlope,regionMinSize:this.regionMinSize,wasmUrl:"https://127.0.0.1:3000/recast/recast.wasm"},t);case 19:if(g=e.sent,y=new Yn.Kj0(g,new Yn.vBJ({color:255,transparent:!0,opacity:.2})),this.setNavMesh(y),y.visible=-1!==this.editor.selected.indexOf(this),b=xs(n),w=null,this.forceTrimesh){e.next=32;break}for(x=this.editor.scene.getNodesByType(Fs),S=Number.POSITIVE_INFINITY,C=0;C<x.length;C++)S=Math.min(S,x[C].position.y);return e.next=31,Hs.buildHeightfield(b,{minY:S,agentHeight:this.agentHeight,triangleThreshold:this.maxTriangles},t);case 31:w=e.sent;case 32:if(null!==w){for(this.setTrimesh(null),this.setHeightfield(w),this.heightfieldMesh&&this.remove(this.heightfieldMesh),k=w.data[0].length,(O=new Yn.BKK(w.width,w.length,k-1,k-1)).rotateX(-Math.PI/2),P=O.attributes.position.array,M=0,R=0,E=P.length;M<E/3;M++,R+=3)P[R+1]=w.data[Math.floor(M/k)][M%k];(Z=new Yn.Kj0(O,new Yn.vBJ({wireframe:!0,color:16776960}))).name="HeightfieldMesh",this.heightfieldMesh=Z,this.add(Z),this.heightfieldMesh.layers.set(1),Z.position.set(w.offset.x,0,w.offset.z),this.heightfieldMesh.visible=-1!==this.editor.selected.indexOf(this)}else j=new Yn.Kj0(b,new Yn.vBJ({wireframe:!0,color:16711680})),this.setTrimesh(j),this.heightfieldMesh&&this.remove(this.heightfieldMesh),-1!==this.editor.selected.indexOf(this)&&(j.visible=!0);return e.abrupt("return",this);case 34:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t&&this.remove(this.heightfieldMesh),(0,qn.Z)((0,h.Z)(n.prototype),"copy",this).call(this,e,t),t){var r=e.children.findIndex((function(t){return t===e.heightfieldMesh}));-1!==r&&(this.heightfieldMesh=this.children[r])}return this.autoCellSize=e.autoCellSize,this.cellSize=e.cellSize,this.cellHeight=e.cellHeight,this.agentHeight=e.agentHeight,this.agentRadius=e.agentRadius,this.agentMaxClimb=e.agentMaxClimb,this.agentMaxSlope=e.agentMaxSlope,this.regionMinSize=e.regionMinSize,this.maxTriangles=e.maxTriangles,this.forceTrimesh=e.forceTrimesh,this}},{key:"serialize",value:function(){return(0,qn.Z)((0,h.Z)(n.prototype),"serialize",this).call(this,{"floor-plan":{autoCellSize:this.autoCellSize,cellSize:this.cellSize,cellHeight:this.cellHeight,agentHeight:this.agentHeight,agentRadius:this.agentRadius,agentMaxClimb:this.agentMaxClimb,agentMaxSlope:this.agentMaxSlope,regionMinSize:this.regionMinSize,maxTriangles:this.maxTriangles,forceTrimesh:this.forceTrimesh}})}},{key:"prepareForExport",value:function(){(0,qn.Z)((0,h.Z)(n.prototype),"prepareForExport",this).call(this),this.heightfieldMesh&&this.remove(this.heightfieldMesh);var e=this.navMesh.material;if(e.transparent=!0,e.opacity=0,this.navMesh.name="navMesh",this.navMesh.userData.gltfExtensions={componentData:{"nav-mesh":{},visible:{visible:!1}}},this.trimesh){this.trimesh.name="trimesh";var t=this.trimesh.material;t.transparent=!0,t.opacity=0,t.wireframe=!1,this.trimesh.userData.gltfExtensions={componentData:{trimesh:{},visible:{visible:!1}}}}if(this.heightfield){var r=new Yn.Tme;r.name="heightfield",r.userData.gltfExtensions={componentData:{heightfield:this.heightfield}},this.add(r)}}}],[{key:"canAddNode",value:function(e){return null===e.scene.findNodeByType(n)}},{key:"deserialize",value:function(){var e=(0,c.Z)(s().mark((function e(t,r){var o,i,a,c,l,u,f,d,p,v,m,g;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,qn.Z)((0,h.Z)(n),"deserialize",this).call(this,t,r);case 2:return o=e.sent,i=r.components.find((function(e){return"floor-plan"===e.name})).props,a=i.autoCellSize,c=i.cellSize,l=i.cellHeight,u=i.agentHeight,f=i.agentRadius,d=i.agentMaxClimb,p=i.agentMaxSlope,v=i.regionMinSize,m=i.maxTriangles,g=i.forceTrimesh,o.autoCellSize=a,o.cellSize=c,o.cellHeight=l,o.agentHeight=u,o.agentRadius=f,o.agentMaxClimb=d,o.agentMaxSlope=p,o.regionMinSize=v,o.maxTriangles=m||1e3,o.forceTrimesh=g||!1,e.abrupt("return",o);case 15:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(hs(js));function Gs(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}Ws.nodeName="Floor Plan",Ws.legacyComponentName="floor-plan",Ws.disableTransform=!0;var qs=function(e){(0,f.Z)(n,e);var t=Gs(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"serialize",value:function(){return(0,qn.Z)((0,h.Z)(n.prototype),"serialize",this).call(this,{group:{}})}}]),n}(hs(Yn.ZAu));function Ks(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}qs.legacyComponentName="group",qs.nodeName="Group";var Ys={Flat:"flat",Equirectangular360:"360-equirectangular"},Xs={Opaque:"opaque",Blend:"blend",Mask:"mask"};function $s(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Js=function(e){(0,f.Z)(n,e);var t=$s(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this,e))._canonicalUrl="",r.controls=!0,r}return(0,u.Z)(n,[{key:"onChange",value:function(){this.onResize()}},{key:"loadTexture",value:function(e){return this.editor.textureCache.get(e)}},{key:"load",value:function(){var e=(0,c.Z)(s().mark((function e(t,r){var o,i,a,c,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((o=t||"")!==this._canonicalUrl||""===o){e.next=3;break}return e.abrupt("return");case 3:return this._canonicalUrl=o,this.issues=[],this._mesh.visible=!1,this.hideErrorIcon(),e.prev=7,e.next=10,this.editor.api.resolveMedia(t);case 10:return i=e.sent,a=i.accessibleUrl,e.next=14,(0,qn.Z)((0,h.Z)(n.prototype),"load",this).call(this,a);case 14:this.issues=za(this._mesh,!1),(c=performance.getEntriesByName(a)).length>0&&La("image",c[0].encodedBodySize,this.issues),e.next=26;break;case 19:e.prev=19,e.t0=e.catch(7),this.showErrorIcon(),l=new va.mQ("Error loading image ".concat(this._canonicalUrl),e.t0),r&&r(this,l),console.error(l),this.issues.push({severity:"error",message:"Error loading image."});case 26:return this.editor.emit("objectsChanged",[this]),this.editor.emit("selectionChanged"),e.abrupt("return",this);case 29:case"end":return e.stop()}}),e,this,[[7,19]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,qn.Z)((0,h.Z)(n.prototype),"copy",this).call(this,e,t),this.controls=e.controls,this.alphaMode=e.alphaMode,this.alphaCutoff=e.alphaCutoff,this._canonicalUrl=e._canonicalUrl,this}},{key:"serialize",value:function(){return(0,qn.Z)((0,h.Z)(n.prototype),"serialize",this).call(this,{image:{src:this._canonicalUrl,controls:this.controls,alphaMode:this.alphaMode,alphaCutoff:this.alphaCutoff,projection:this.projection}})}},{key:"prepareForExport",value:function(){(0,qn.Z)((0,h.Z)(n.prototype),"prepareForExport",this).call(this);var e={src:this._canonicalUrl,controls:this.controls,alphaMode:this.alphaMode,projection:this.projection};this.alphaMode===Xs.Mask&&(e.alphaCutoff=this.alphaCutoff),this.addGLTFComponent("image",e),this.addGLTFComponent("networked",{id:this.uuid}),this.replaceObject()}},{key:"getRuntimeResourcesForStats",value:function(){if(this._texture)return{textures:[this._texture],meshes:[this._mesh],materials:[this._mesh.material]}}},{key:"src",get:function(){return this._canonicalUrl},set:function(e){this.load(e).catch(console.error)}}],[{key:"deserialize",value:function(){var e=(0,c.Z)(s().mark((function e(t,r,o,i){var a,l,u,f,d,p,v;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,qn.Z)((0,h.Z)(n),"deserialize",this).call(this,t,r);case 2:return a=e.sent,l=r.components.find((function(e){return"image"===e.name})).props,u=l.src,f=l.projection,d=l.controls,p=l.alphaMode,v=l.alphaCutoff,o((0,c.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.load(u,i);case 2:a.controls=d||!1,a.alphaMode=void 0===p?Xs.Blend:p,a.alphaCutoff=void 0===v?.5:v,a.projection=f;case 6:case"end":return e.stop()}}),e)})))()),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,r,o){return e.apply(this,arguments)}}()}]),n}(hs(function(e){(0,f.Z)(n,e);var t=Ks(n);function n(){var e;(0,l.Z)(this,n),(e=t.call(this))._src=null,e._projection="flat",e._alphaMode=Xs.Opaque,e._alphaCutoff=.5;var r=new Yn.BKK,o=new Yn.vBJ;return o.side=Yn.ehD,o.transparent=e.alphaMode===Xs.Blend,o.alphaTest=e.alphaMode===Xs.Mask?e._alphaCutoff:0,e._mesh=new Yn.Kj0(r,o),e._mesh.name="ImageMesh",e.add(e._mesh),e._texture=null,e}return(0,u.Z)(n,[{key:"loadTexture",value:function(e){return(0,Or.Z)(e)}},{key:"load",value:function(){var e=(0,c.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._src=t,this._mesh.visible=!1,(n=this._mesh.material).map&&n.map.dispose(),e.next=6,this.loadTexture(t);case 6:return(r=e.sent).encoding=Yn.knz,r.minFilter=Yn.wem,this._texture=r,this.onResize(),n.transparent=this.alphaMode===Xs.Blend,n.alphaTest=this.alphaMode===Xs.Mask?this._alphaCutoff:0,this._mesh.material.map=this._texture,this._mesh.material.needsUpdate=!0,this._mesh.visible=!0,e.abrupt("return",this);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onResize",value:function(){if(this._texture&&this.projection===Ys.Flat){var e=(this._texture.image.height||1)/(this._texture.image.width||1),t=Math.min(1,1/e),n=Math.min(1,e);this._mesh.scale.set(t,n,1)}}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t&&this.remove(this._mesh),(0,qn.Z)((0,h.Z)(n.prototype),"copy",this).call(this,e,t),t){var r=e.children.indexOf(e._mesh);-1!==r&&(this._mesh=this.children[r])}return this.projection=e.projection,this.src=e.src,this}},{key:"src",get:function(){return this._src},set:function(e){this.load(e).catch(console.error)}},{key:"alphaMode",get:function(){return this._alphaMode},set:function(e){this._alphaMode=e,this._mesh.material.transparent=e===Xs.Blend,this._mesh.material.alphaTest=e===Xs.Mask?this.alphaCutoff:0,this._mesh.material.needsUpdate=!0}},{key:"alphaCutoff",get:function(){return this._alphaCutoff},set:function(e){this._alphaCutoff=e,this._mesh.material.alphaTest=e,this._mesh.material.needsUpdate=!0}},{key:"projection",get:function(){return this._projection},set:function(e){var t,n=new Yn.vBJ;"360-equirectangular"===e?(t=new Yn.Aip(1,64,32)).scale(-1,1,1):(t=new Yn.BKK,n.side=Yn.ehD),n.map=this._texture,n.transparent=this.alphaMode===Xs.Blend,n.alphaTest=this.alphaMode===Xs.Mask?this._alphaCutoff:0,this._projection=e;var r=new Yn.Kj0(t,n);r.name="ImageMesh",r.visible=this._mesh.visible;var o=this.children.indexOf(this._mesh);-1===o?this.add(r):(this.children.splice(o,1,r),r.parent=this),this._mesh=r,this.onResize()}}]),n}(Yn.Tme)));function Qs(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}Js.legacyComponentName="image",Js.nodeName="Image",Js.initialElementProps={src:new URL("/editor/favicon-editor.ico",location).href};var ec=null,tc=function(e){(0,f.Z)(n,e);var t=Qs(n);function n(e){var r;(0,l.Z)(this,n),(r=t.call(this,e)).href="";var o=new Yn.BKK,i=new Yn.vBJ;return i.map=ec,i.side=Yn.ehD,i.transparent=!0,r.helper=new Yn.Kj0(o,i),r.helper.layers.set(1),r.add(r.helper),r}return(0,u.Z)(n,[{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t&&this.remove(this.helper),(0,qn.Z)((0,h.Z)(n.prototype),"copy",this).call(this,e,t),t){var r=e.children.findIndex((function(t){return t===e.helper}));-1!==r&&(this.helper=this.children[r])}return this.href=e.href,this}},{key:"serialize",value:function(){return(0,qn.Z)((0,h.Z)(n.prototype),"serialize",this).call(this,{link:{href:this.href}})}},{key:"prepareForExport",value:function(){(0,qn.Z)((0,h.Z)(n.prototype),"prepareForExport",this).call(this),this.remove(this.helper),this.addGLTFComponent("link",{href:this.href}),this.addGLTFComponent("networked",{id:this.uuid}),this.replaceObject()}}],[{key:"load",value:function(){var e=(0,c.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Or.Z)("/editor/link-icon.png");case 2:ec=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"deserialize",value:function(){var e=(0,c.Z)(s().mark((function e(t,r){var o,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,qn.Z)((0,h.Z)(n),"deserialize",this).call(this,t,r);case 2:return o=e.sent,i=r.components.find((function(e){return"link"===e.name})).props.href,o.href=i,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(hs(Yn.Tme));function nc(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return rc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rc(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function rc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}function ic(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return ac(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ac(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function ac(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}tc.legacyComponentName="link",tc.nodeName="Link";var cc=function(e){(0,f.Z)(n,e);var t=sc(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this,e)).meshColliders=[],r.attribution=null,r._canonicalUrl="",r.collidable=!0,r.walkable=!0,r.initialScale=1,r.boundingBox=new Yn.ZzF,r.boundingSphere=new Yn.aLr,r.gltfJson=null,r}return(0,u.Z)(n,[{key:"loadGLTF",value:function(){var e=(0,c.Z)(s().mark((function e(t){var n,r,o,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.editor.gltfCache.get(t),e.next=3,n;case 3:return r=e.sent,o=r.scene,i=r.json,this.gltfJson=i,a=Pi(o),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=(0,c.Z)(s().mark((function e(t,r){var o,i,a,c,l,u,f,d,p=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.startsWith("/")&&(t=window.location.origin+t),(o=t||"")!==this._canonicalUrl||""===o){e.next=4;break}return e.abrupt("return");case 4:return this._canonicalUrl=o,this.attribution=null,this.issues=[],this.gltfJson=null,this.model&&(this.editor.renderer.removeBatchedObject(this.model),this.remove(this.model),this.model=null),this.hideErrorIcon(),e.prev=10,console.log("Try"),e.next=14,this.editor.api.resolveMedia(t);case 14:return i=e.sent,a=i.accessibleUrl,i.files,this.model&&this.editor.renderer.removeBatchedObject(this.model),e.next=20,(0,qn.Z)((0,h.Z)(n.prototype),"load",this).call(this,a);case 20:this.model&&(c=[],l=function(e){if("physics"===e.userData.data||"dynamic"===e.userData.data||"vehicle"===e.userData.data){var t={type:e.userData.type,position:{x:e.position.x,y:e.position.y,z:e.position.z},quaternion:{x:e.quaternion.x,y:e.quaternion.y,z:e.quaternion.z,w:e.quaternion.w},scale:{x:e.scale.x,y:e.scale.y,z:e.scale.z}};c.push(t)}},this.model.traverse(l),console.warn(c),this.meshColliders=c),"fit"===this.initialScale?(this.scale.set(1,1,1),this.model&&(this.updateMatrixWorld(),this.boundingBox.setFromObject(this.model),this.boundingBox.getBoundingSphere(this.boundingSphere),((u=2*this.boundingSphere.radius)>1e3||u<.1)&&0!==u?(f=1/u,this.scale.set(f,f,f)):u>20&&this.scale.set(.01,.01,.01)),this.initialScale=1):(this.scale.multiplyScalar(this.initialScale),this.initialScale=1),this.model&&(this.model.traverse((function(e){e.material&&e.material.isMeshStandardMaterial&&(e.material.envMap=p.editor.scene.environmentMap,e.material.needsUpdate=!0)})),this.issues=za(this.model)),this.updateStaticModes(),e.next=34;break;case 26:e.prev=26,e.t0=e.catch(10),this.showErrorIcon(),d=new va.mQ('Error loading model "'.concat(this._canonicalUrl,'"'),e.t0),r&&r(this,d),console.error(d),this.issues.push({severity:"error",message:"Error loading model."}),this._canonicalUrl="";case 34:return this.editor.emit("objectsChanged",[this]),this.editor.emit("selectionChanged"),e.abrupt("return",this);case 37:case"end":return e.stop()}}),e,this,[[10,26]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onAdd",value:function(){this.model&&this.editor.renderer.addBatchedObject(this.model)}},{key:"onRemove",value:function(){this.model&&this.editor.renderer.removeBatchedObject(this.model)}},{key:"onPlay",value:function(){this.playAnimation()}},{key:"onPause",value:function(){this.stopAnimation()}},{key:"onUpdate",value:function(e){(0,qn.Z)((0,h.Z)(n.prototype),"onUpdate",this).call(this,e),this.editor.playing&&this.update(e)}},{key:"addEditorParametersToCollider",value:function(e){return e.position.x+=this.position.x,e.position.y+=this.position.y,e.position.z+=this.position.z,e.scale.x*=this.scale.x,e.scale.y*=this.scale.y,e.scale.z*=this.scale.z,e}},{key:"updateStaticModes",value:function(){if(this.model&&(is(this.model,ns),this.model.animations&&this.model.animations.length>0)){var e,t=ic(this.model.animations);try{for(t.s();!(e=t.n()).done;){var n,r=e.value,o=ic(r.tracks);try{for(o.s();!(n=o.n()).done;){var i=n.value,a=Yn.iUV.parseTrackName(i.name).nodeName,s=this.model.getObjectByProperty("uuid",a);if(!s)throw new Error('Model.updateStaticModes: model with url "'.concat(this._canonicalUrl,'" has an invalid animation "').concat(r.name,'"'));is(s,rs)}}catch(c){o.e(c)}finally{o.f()}}}catch(c){t.e(c)}finally{t.f()}}}},{key:"serialize",value:function(){for(var e={"gltf-model":{src:this._canonicalUrl,attribution:this.attribution},shadow:{cast:this.castShadow,receive:this.receiveShadow},interact:{interactable:this.interactable,interactionType:this.interactionType,interactionText:this.interactionText,payloadName:this.payloadName,payloadUrl:this.payloadUrl,payloadBuyUrl:this.payloadBuyUrl,payloadLearnMoreUrl:this.payloadLearnMoreUrl,payloadHtmlContent:this.payloadHtmlContent,payloadModelUrl:this._canonicalUrl}},t=0;t<this.meshColliders.length;t++)e["mesh-collider-".concat(t)]=this.addEditorParametersToCollider(this.meshColliders[t]);return-1!==this.activeClipIndex&&(e["loop-animation"]={activeClipIndex:this.activeClipIndex}),this.collidable&&(e.collidable={}),this.walkable&&(e.walkable={}),(0,qn.Z)((0,h.Z)(n.prototype),"serialize",this).call(this,e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,qn.Z)((0,h.Z)(n.prototype),"copy",this).call(this,e,t),e.loadingCube?(this.initialScale=e.initialScale,this.load(e.src)):(this.updateStaticModes(),this.gltfJson=e.gltfJson,this._canonicalUrl=e._canonicalUrl),this.attribution=e.attribution,this.collidable=e.collidable,this.walkable=e.walkable,this}},{key:"prepareForExport",value:function(e){if((0,qn.Z)((0,h.Z)(n.prototype),"prepareForExport",this).call(this),this.addGLTFComponent("shadow",{cast:this.castShadow,receive:this.receiveShadow}),this.activeClip){var t=e.animations.indexOf(this.activeClip);if(-1===t)throw new Error('Error exporting model "'.concat(this.name,'" with url "').concat(this._canonicalUrl,'". Animation could not be found.'));this.addGLTFComponent("loop-animation",{activeClipIndex:t})}}},{key:"src",get:function(){return this._canonicalUrl},set:function(e){this.load(e).catch(console.error)}}],[{key:"deserialize",value:function(){var e=(0,c.Z)(s().mark((function e(t,r,o,i){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,qn.Z)((0,h.Z)(n),"deserialize",this).call(this,t,r);case 2:return a=e.sent,o((0,c.Z)(s().mark((function e(){var t,n,o,c,l,u,f,d,h,p,v,m,g;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.components.find((function(e){return"gltf-model"===e.name})).props,n=t.src,o=t.attribution,e.next=3,a.load(n,i);case 3:o&&"string"===typeof o?(c=o.split(" by "),l=(0,Wn.Z)(c,2),u=l[0],f=l[1],a.attribution={name:u,author:f}):a.attribution=o,a.collidable=!!r.components.find((function(e){return"collidable"===e.name})),a.walkable=!!r.components.find((function(e){return"walkable"===e.name})),(d=r.components.find((function(e){return"loop-animation"===e.name})))&&d.props&&(h=d.props,p=h.clip,void 0!==h.activeClipIndex?a.activeClipIndex=d.props.activeClipIndex:void 0!==p&&a.model&&a.model.animations&&-1!==(v=a.model.animations.findIndex((function(e){return e.name===p})))&&(a.activeClipIndices=[v])),(m=r.components.find((function(e){return"shadow"===e.name})))&&(a.castShadow=m.props.cast,a.receiveShadow=m.props.receive),(g=r.components.find((function(e){return"interact"===e.name})))&&(a.interactable=g.props.interactable,a.interactionType=g.props.interactionType,a.interactionText=g.props.interactionText,a.payloadName=g.props.payloadName,a.payloadUrl=g.props.payloadUrl,a.payloadBuyUrl=g.props.payloadBuyUrl,a.payloadLearnMoreUrl=g.props.payloadLearnMoreUrl,a.payloadHtmlContent=g.props.payloadHtmlContent,a.payloadUrl=g.props.payloadUrl);case 12:case"end":return e.stop()}}),e)})))()),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,o){return e.apply(this,arguments)}}()}]),n}(hs(function(e){(0,f.Z)(n,e);var t=oc(n);function n(){var e;return(0,l.Z)(this,n),(e=t.call(this)).type="Model",e.model=null,e._src=null,e._castShadow=!1,e._receiveShadow=!1,e.activeClipIndex=-1,e.animationMixer=null,e.activeClipAction=null,e}return(0,u.Z)(n,[{key:"loadGLTF",value:function(){var e=(0,c.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Kn.Vb)(t);case 2:return n=e.sent,(r=n.scene).animations=r.animations||[],e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=(0,c.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._src=t,this.model&&(this.remove(this.model),this.model=null),e.next=4,this.loadGLTF(t);case 4:return(n=e.sent).animations=n.animations||[],this.model=n,this.add(n),n.animations&&n.animations.length>0&&(this.animationMixer=new Yn.Xcj(this.model)),this.castShadow=this._castShadow,this.receiveShadow=this._receiveShadow,e.abrupt("return",this);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getClipOptions",value:function(){var e=this.model&&this.model.animations?this.model.animations.map((function(e,t){return{label:e.name,value:t}})):[];return e.unshift({label:"None",value:-1}),e}},{key:"updateAnimationState",value:function(){var e=this.activeClip;e!==(this.activeClipAction&&this.activeClipAction.getClip())&&(this.activeClipAction&&this.activeClipAction.stop(),this.animationMixer&&e?(this.activeClipAction=this.animationMixer.clipAction(e),this.activeClipAction.play()):this.activeClipAction=null)}},{key:"playAnimation",value:function(){this.updateAnimationState()}},{key:"stopAnimation",value:function(){this.activeClipAction&&(this.activeClipAction.stop(),this.activeClipAction=null)}},{key:"update",value:function(e){this.animationMixer&&(this.updateAnimationState(),this.animationMixer.update(e))}},{key:"setShadowsEnabled",value:function(e){var t=this;this.model&&this.model.traverse((function(n){if(n.castShadow=!!e&&t._castShadow,n.receiveShadow=!!e&&t._receiveShadow,n.material){var r=n.material;if(Array.isArray(r))for(var o=0;o<r.length;o++)r[o].needsUpdate=!0;else r.needsUpdate=!0}}))}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,qn.Z)((0,h.Z)(n.prototype),"copy",this).call(this,e,!1);var r,o=nc(e.children);try{for(o.s();!(r=o.n()).done;){var i=r.value,a=void 0;i===e.model?(a=Pi(i),this.model=a,this.model.animations.length>0&&(this.animationMixer=new Yn.Xcj(this.model))):!0===t&&i!==e.loadingCube&&(a=i.clone()),a&&this.add(a)}}catch(s){o.e(s)}finally{o.f()}return this._src=e._src,this.activeClipIndex=e.activeClipIndex,this}},{key:"src",get:function(){return this._src},set:function(e){this.load(e).catch(console.error)}},{key:"activeClip",get:function(){return this.model&&this.model.animations&&this.model.animations[this.activeClipIndex]||null}},{key:"castShadow",get:function(){return this._castShadow},set:function(e){this._castShadow=e,this.model&&this.model.traverse((function(t){if(t.castShadow=e,t.material){var n=t.material;if(Array.isArray(n))for(var r=0;r<n.length;r++)n[r].needsUpdate=!0;else n.needsUpdate=!0}}))}},{key:"receiveShadow",get:function(){return this._receiveShadow},set:function(e){this._receiveShadow=e,this.model&&this.model.traverse((function(t){if(t.receiveShadow=e,t.material){var n=t.material;if(Array.isArray(n))for(var r=0;r<n.length;r++)n[r].needsUpdate=!0;else n.needsUpdate=!0}}))}}]),n}(Yn.Tme)));function lc(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return uc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uc(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function uc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fc(e){var t=[],n=[];for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=e[r];o.parent&&e[o.parent]?n.push(r):t.push(r)}for(var i={},a=0,s=n;a<s.length;a++){var c=s[a],l=e[c];i[l.parent]||(i[l.parent]=[]),i[l.parent].push(c)}for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&i[u].sort((function(t,n){var r=e[t],o=e[n];return r.index-o.index}));function f(e){var n=i[e];if(void 0!==n){n.forEach((function(e){return t.push(e)}));var r,o=lc(n);try{for(o.s();!(r=o.n()).done;){f(r.value)}}catch(a){o.e(a)}finally{o.f()}}}var d,h=lc(n=t.concat());try{for(h.s();!(d=h.n()).done;){f(d.value)}}catch(p){h.e(p)}finally{h.f()}return t}function dc(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return hc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hc(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function hc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pc(e,t){return vc.apply(this,arguments)}function vc(){return(vc=(0,c.Z)(s().mark((function e(t,n){var r,o,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t);case 2:r=dc(t.children),e.prev=3,r.s();case 5:if((o=r.n()).done){e.next=11;break}return i=o.value,e.next=9,pc(i,n);case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),r.e(e.t0);case 16:return e.prev=16,r.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[3,13,16,19]])})))).apply(this,arguments)}function mc(e,t){var n=0,r=0;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&(n++,!Object.prototype.hasOwnProperty.call(t,o)))return!1;for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&r++;return n===r}function gc(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");return n.drawImage(e,0,0),n.getImageData(0,0,t.width,t.height)}function yc(e){return bc.apply(this,arguments)}function bc(){return(bc=(0,c.Z)(s().mark((function e(t){var n,r,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=gc(t),e.next=3,crypto.subtle.digest("SHA-256",n.data);case 3:return r=e.sent,o=Array.from(new Uint8Array(r)),e.abrupt("return",o.map((function(e){return("00"+e.toString(16)).slice(-2)})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wc(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return xc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xc(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function xc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}cc.nodeName="Model",cc.legacyComponentName="gltf-model",cc.initialElementProps={initialScale:"fit",src:""};var Sc=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function Cc(e,t){return Sc(this,void 0,void 0,s().mark((function n(){var r;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.get(t.src)){n.next=6;break}return n.next=4,yc(t);case 4:r=n.sent,e.set(t.src,r);case 6:return n.abrupt("return",r);case 7:case"end":return n.stop()}}),n)})))}function kc(e,t,n){return Sc(this,void 0,void 0,s().mark((function r(){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t!==n){r.next=2;break}return r.abrupt("return",!0);case 2:if(t&&n){r.next=4;break}return r.abrupt("return",!1);case 4:return r.next=6,Cc(e,t);case 6:return r.t0=r.sent,r.next=9,Cc(e,n);case 9:return r.t1=r.sent,r.abrupt("return",r.t0===r.t1);case 11:case"end":return r.stop()}}),r)})))}function Oc(e,t,n){return Sc(this,void 0,void 0,s().mark((function r(){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t||!n){r.next=7;break}if(r.t0=t.wrapS===n.wrapS&&t.wrapT===n.wrapT&&t.magFilter===n.magFilter&&t.minFilter===n.minFilter,!r.t0){r.next=6;break}return r.next=5,kc(e,t.image,n.image);case 5:r.t0=r.sent;case 6:return r.abrupt("return",r.t0);case 7:return r.abrupt("return",t===n);case 8:case"end":return r.stop()}}),r)})))}function Pc(e,t,n){return Sc(this,void 0,void 0,s().mark((function r(){var o;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=e.imageHashes,r.t1=t.alphaTest===n.alphaTest&&t.blendDst===n.blendDst&&t.blendDstAlpha===n.blendDstAlpha&&t.blendEquation===n.blendEquation&&t.blendEquationAlpha===n.blendEquationAlpha&&t.blending===n.blending&&t.blendSrc===n.blendSrc&&t.blendSrcAlpha===n.blendSrcAlpha&&t.opacity===n.opacity&&t.side===n.side&&t.transparent===n.transparent&&t.color.equals(n.color)&&t.lightMapIntensity===n.lightMapIntensity,!r.t1){r.next=6;break}return r.next=5,Oc(o,t.map,n.map);case 5:r.t1=r.sent;case 6:if(r.t0=r.t1,!r.t0){r.next=11;break}return r.next=10,Oc(o,t.lightMap,n.lightMap);case 10:r.t0=r.sent;case 11:return r.abrupt("return",r.t0);case 12:case"end":return r.stop()}}),r)})))}function Mc(e,t,n){return Sc(this,void 0,void 0,s().mark((function r(){var o,i;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n&&n.image){r.next=2;break}return r.abrupt("return",n);case 2:return r.next=4,Cc(e,n.image);case 4:if(o=r.sent,!(i=t.get(o))){r.next=8;break}return r.abrupt("return",i);case 8:return t.set(o,n),r.abrupt("return",n);case 10:case"end":return r.stop()}}),r)})))}var Rc=function(){function e(t,n){if((0,l.Z)(this,e),!t.isMesh)throw new Error("MeshCombinationGroup must be initialized with a Mesh.");this.initialObject=t,this.meshes=[t],this.imageHashes=n}return(0,u.Z)(e,[{key:"_tryAdd",value:function(t){return Sc(this,void 0,void 0,s().mark((function n(){var r;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.isMesh&&!t.isSkinnedMesh){n.next=2;break}return n.abrupt("return",!1);case 2:if(t.geometry.isBufferGeometry){n.next=4;break}return n.abrupt("return",!1);case 4:if(r=e.MaterialComparators[t.material.type],t.visible===this.initialObject.visible&&t.castShadow===this.initialObject.castShadow&&t.receiveShadow===this.initialObject.receiveShadow&&!t.userData.gltfExtensions){n.next=7;break}return n.abrupt("return",!1);case 7:if(n.t0=r,!n.t0){n.next=12;break}return n.next=11,r(this,this.initialObject.material,t.material);case 11:n.t0=n.sent;case 12:if(n.t0){n.next=14;break}return n.abrupt("return",!1);case 14:if(mc(this.initialObject.geometry.attributes,t.geometry.attributes)){n.next=16;break}return n.abrupt("return",!1);case 16:return this.meshes.push(t),n.abrupt("return",!0);case 18:case"end":return n.stop()}}),n,this)})))}},{key:"_combine",value:function(){var e=this.meshes[0];if(1===this.meshes.length)return null;var t,n=[],r=wc(this.meshes);try{for(r.s();!(t=r.n()).done;){var o=t.value,i=o.geometry.clone(),a=o.matrixWorld;i.applyMatrix(a);var s=a.elements[0]*a.elements[5]*a.elements[10]<0,c=i.index.array;if(s&&c)for(var l=0;l<c.length;l+=3){var u=c[l+1];c[l+1]=c[l+2],c[l+2]=u}n.push(i),o.parent.remove(o)}}catch(h){r.e(h)}finally{r.f()}var f=(0,ys.qf)(n);delete f.userData.mergedUserData;var d=new Yn.Kj0(f,e.material);return d.name="CombinedMesh",d.userData.gltfExtensions={componentData:{visible:{visible:e.visible},shadow:{cast:e.castShadow,receive:e.receiveShadow}}},d}}],[{key:"combineMeshes",value:function(t){return Sc(this,void 0,void 0,s().mark((function n(){var r,o,i,a,c,l,u,f,d,h,p,v=this;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.computeAndSetStaticModes(),t.computeAndSetVisible(),r=[],o=new Map,i=new Map,a=Ea(t),c=wc(a),n.prev=7,c.s();case 9:if((l=c.n()).done){n.next=34;break}return u=l.value,n.next=13,Mc(o,i,u.map);case 13:return u.map=n.sent,n.next=16,Mc(o,i,u.roughnessMap);case 16:return u.roughnessMap=n.sent,n.next=19,Mc(o,i,u.metalnessMap);case 19:return u.metalnessMap=n.sent,n.next=22,Mc(o,i,u.aoMap);case 22:return u.aoMap=n.sent,n.next=25,Mc(o,i,u.normalMap);case 25:return u.normalMap=n.sent,n.next=28,Mc(o,i,u.emissiveMap);case 28:return u.emissiveMap=n.sent,n.next=31,Mc(o,i,u.lightMap);case 31:u.lightMap=n.sent;case 32:n.next=9;break;case 34:n.next=39;break;case 36:n.prev=36,n.t0=n.catch(7),c.e(n.t0);case 39:return n.prev=39,c.f(),n.finish(39);case 42:return n.next=44,pc(t,(function(t){return Sc(v,void 0,void 0,s().mark((function n(){var i,a,c,l;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!ss(t)||!t.isMesh){n.next=23;break}i=!1,a=wc(r),n.prev=3,a.s();case 5:if((c=a.n()).done){n.next=14;break}return l=c.value,n.next=9,l._tryAdd(t);case 9:if(!n.sent){n.next=12;break}return i=!0,n.abrupt("break",14);case 12:n.next=5;break;case 14:n.next=19;break;case 16:n.prev=16,n.t0=n.catch(3),a.e(n.t0);case 19:return n.prev=19,a.f(),n.finish(19);case 22:i||r.push(new e(t,o));case 23:case"end":return n.stop()}}),n,null,[[3,16,19,22]])})))}));case 44:for(f=0,d=r;f<d.length;f++)h=d[f],(p=h._combine())&&t.add(p);return n.abrupt("return",t);case 46:case"end":return n.stop()}}),n,null,[[7,36,39,42]])})))}}]),e}();function Ec(e,t){var n=null;return e.traverse((function(e){!n&&e.isNode&&e.uuid===t&&(n=e)})),n}Rc.MaterialComparators={MeshStandardMaterial:function(e,t,n){return Sc(this,void 0,void 0,s().mark((function r(){var o;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=e.imageHashes,r.t5=t.roughness===n.roughness&&t.metalness===n.metalness&&t.aoMapIntensity===n.aoMapIntensity&&t.normalScale.equals(n.normalScale)&&t.emissive.equals(n.emissive),!r.t5){r.next=6;break}return r.next=5,Pc(e,t,n);case 5:r.t5=r.sent;case 6:if(r.t4=r.t5,!r.t4){r.next=11;break}return r.next=10,Oc(o,t.roughnessMap,n.roughnessMap);case 10:r.t4=r.sent;case 11:if(r.t3=r.t4,!r.t3){r.next=16;break}return r.next=15,Oc(o,t.metalnessMap,n.metalnessMap);case 15:r.t3=r.sent;case 16:if(r.t2=r.t3,!r.t2){r.next=21;break}return r.next=20,Oc(o,t.aoMap,n.aoMap);case 20:r.t2=r.sent;case 21:if(r.t1=r.t2,!r.t1){r.next=26;break}return r.next=25,Oc(o,t.normalMap,n.normalMap);case 25:r.t1=r.sent;case 26:if(r.t0=r.t1,!r.t0){r.next=31;break}return r.next=30,Oc(o,t.emissiveMap,n.emissiveMap);case 30:r.t0=r.sent;case 31:return r.abrupt("return",r.t0);case 32:case"end":return r.stop()}}),r)})))},MeshBasicMaterial:Pc};var Zc=n(17405);function jc(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Dc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dc(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Dc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}function Ac(e){var t=e.root,n=e.metadata,r=e.entities,o=Yn.M8C.generateUUID(),a=(0,i.Z)({},t,o);for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[s]=Yn.M8C.generateUUID());for(var c=(0,i.Z)({},o,{name:t}),l=0,u=Object.entries(r);l<u.length;l++){var f=(0,Wn.Z)(u[l],2),d=f[0],h=f[1];c[a[d]]=Object.assign({},h,{name:d,parent:a[h.parent]})}return{version:2,root:a[t],entities:c,metadata:n}}function _c(e){for(var t in e.version=3,e.entities)if(Object.prototype.hasOwnProperty.call(e.entities,t)){var n=e.entities[t];if(n.components){n.components.push({name:"visible",props:{value:!0}});var r=n.components.find((function(e){return"gltf-model"===e.name})),o=n.components.find((function(e){return"nav-mesh"===e.name}));!o&&r&&r.props.includeInFloorPlan&&(n.components.push({name:"collidable",props:{}}),n.components.push({name:"walkable",props:{}})),n.components.find((function(e){return"ground-plane"===e.name}))&&n.components.push({name:"walkable",props:{}}),r&&o&&(n.components=[{name:"floor-plan",props:{autoCellSize:!0,cellSize:1,cellHeight:.1,agentHeight:1,agentRadius:1e-4,agentMaxClimb:.5,agentMaxSlope:45,regionMinSize:4}}])}}return e}function Ic(e){for(var t in e.version=4,e.entities)if(Object.prototype.hasOwnProperty.call(e.entities,t)){var n=e.entities[t];if(n.components){var r=n.components.find((function(e){return"visible"===e.name}));if(r){if(void 0!==r.props.visible)continue;void 0!==r.props.value?r.props={visible:r.props.value}:r.props={visible:!0}}}}return e}var Nc=function(e){(0,f.Z)(n,e);var t=Tc(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this,e)).url=null,r.metadata={},r._environmentMap=null,r._fogType=Zc.f.Disabled,r._fog=new Yn.ybr(16777215,.0025),r._fogExp2=new Yn.yo9(16777215,.0025),r.fog=null,r.overrideAudioSettings=!1,r.avatarDistanceModel=ps.SY.Inverse,r.avatarRolloffFactor=2,r.avatarRefDistance=1,r.avatarMaxDistance=1e4,r.mediaVolume=.5,r.mediaDistanceModel=ps.SY.Inverse,r.mediaRolloffFactor=1,r.mediaRefDistance=1,r.mediaMaxDistance=1e4,r.mediaConeInnerAngle=360,r.mediaConeOuterAngle=0,r.mediaConeOuterGain=0,is((0,Gn.Z)(r),ns),r}return(0,u.Z)(n,[{key:"updateEnvironmentMap",value:function(e){this._environmentMap=e,this.traverse((function(t){t.material&&t.material.isMeshStandardMaterial&&(t.material.envMap=e,t.material.needsUpdate=!0)}))}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,qn.Z)((0,h.Z)(n.prototype),"copy",this).call(this,e,t),this.url=e.url,this.metadata=e.metadata,this._environmentMap=e._environmentMap,this.fogType=e.fogType,this.fogColor.copy(e.fogColor),this.fogDensity=e.fogDensity,this.fogNearDistance=e.fogNearDistance,this.fogFarDistance=e.fogFarDistance,this.overrideAudioSettings=e.overrideAudioSettings,this.avatarDistanceModel=e.avatarDistanceModel,this.avatarRolloffFactor=e.avatarRolloffFactor,this.avatarRefDistance=e.avatarRefDistance,this.avatarMaxDistance=e.avatarMaxDistance,this.mediaVolume=e.mediaVolume,this.mediaDistanceModel=e.mediaDistanceModel,this.mediaRolloffFactor=e.mediaRolloffFactor,this.mediaRefDistance=e.mediaRefDistance,this.mediaMaxDistance=e.mediaMaxDistance,this.mediaConeInnerAngle=e.mediaConeInnerAngle,this.mediaConeOuterAngle=e.mediaConeOuterAngle,this.mediaConeOuterGain=e.mediaConeOuterGain,this}},{key:"serialize",value:function(){var e=this,t={version:4,root:this.uuid,metadata:JSON.parse(JSON.stringify(this.metadata)),entities:(0,i.Z)({},this.uuid,{name:this.name,components:[{name:"fog",props:{type:this.fogType,color:ls(this.fogColor),near:this.fogNearDistance,far:this.fogFarDistance,density:this.fogDensity}},{name:"audio-settings",props:{overrideAudioSettings:this.overrideAudioSettings,avatarDistanceModel:this.avatarDistanceModel,avatarRolloffFactor:this.avatarRolloffFactor,avatarRefDistance:this.avatarRefDistance,avatarMaxDistance:this.avatarMaxDistance,mediaVolume:this.mediaVolume,mediaDistanceModel:this.mediaDistanceModel,mediaRolloffFactor:this.mediaRolloffFactor,mediaRefDistance:this.mediaRefDistance,mediaMaxDistance:this.mediaMaxDistance,mediaConeInnerAngle:this.mediaConeInnerAngle,mediaConeOuterAngle:this.mediaConeOuterAngle,mediaConeOuterGain:this.mediaConeOuterGain}}]})};return this.traverse((function(n){if(n.isNode&&n!==e){var r=n.serialize();r.parent=n.parent.uuid;var o,i=0,a=jc(n.parent.children);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s===n)break;s.isNode&&i++}}catch(c){a.e(c)}finally{a.f()}r.index=i,t.entities[n.uuid]=r}})),t}},{key:"prepareForExport",value:function(e){var t=this;this.children=this.children.filter((function(e){return e.isNode}));var n=[];this.traverse((function(e){e.isNode&&e!==t&&n.push(e)}));for(var r=0,o=n;r<o.length;r++){o[r].prepareForExport(e)}this.fogType===Zc.f.Linear?this.addGLTFComponent("fog",{type:this.fogType,color:ls(this.fogColor),near:this.fogNearDistance,far:this.fogFarDistance}):this.fogType===Zc.f.Exponential&&this.addGLTFComponent("fog",{type:this.fogType,color:ls(this.fogColor),density:this.fogDensity}),this.overrideAudioSettings&&this.addGLTFComponent("audio-settings",{avatarDistanceModel:this.avatarDistanceModel,avatarRolloffFactor:this.avatarRolloffFactor,avatarRefDistance:this.avatarRefDistance,avatarMaxDistance:this.avatarMaxDistance,mediaVolume:this.mediaVolume,mediaDistanceModel:this.mediaDistanceModel,mediaRolloffFactor:this.mediaRolloffFactor,mediaRefDistance:this.mediaRefDistance,mediaMaxDistance:this.mediaMaxDistance,mediaConeInnerAngle:this.mediaConeInnerAngle,mediaConeOuterAngle:this.mediaConeOuterAngle,mediaConeOuterGain:this.mediaConeOuterGain})}},{key:"combineMeshes",value:function(){var e=(0,c.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rc.combineMeshes(this);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeUnusedObjects",value:function(){this.computeAndSetStaticModes(),function e(t){var n,r=!!t.parent,o=jc(t.children.slice(0));try{for(o.s();!(n=o.n()).done;){e(n.value)||(r=!1)}}catch(a){o.e(a)}finally{o.f()}var i=r&&(t.constructor===Yn.Tme||t.constructor===Yn.xsS||t.constructor===Yn.ZAu||t.constructor===qs)&&0===t.children.length&&ss(t)&&!function(e){var t=e.userData;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n))return!0;return!1}(t);return!(!r||!i)&&(t.parent.remove(t),!0)}(this)}},{key:"getAnimationClips",value:function(){var e=[];return this.traverse((function(t){t.isNode&&"Model"===t.type&&(t.activeClip&&e.push(t.activeClip))})),e}},{key:"getContentAttributions",value:function(){var e=[],t=new Set;return this.traverse((function(n){if(n.isNode&&"Model"===n.type){var r=n.attribution;if(r&&r){var o=r.url||"".concat(r.name,"_").concat(r.author);if(t.has(o))return;t.add(o),e.push(r)}}})),e}},{key:"clearMetadata",value:function(){this.metadata={}}},{key:"setMetadata",value:function(e){var t=this.metadata||{};this.metadata=Object.assign(t,e)}},{key:"fogType",get:function(){return this._fogType},set:function(e){switch(this._fogType=e,e){case Zc.f.Linear:this.fog=this._fog;break;case Zc.f.Exponential:this.fog=this._fogExp2;break;default:this.fog=null}}},{key:"fogColor",get:function(){return this.fogType===Zc.f.Linear?this._fog.color:this._fogExp2.color}},{key:"fogDensity",get:function(){return this._fogExp2.density},set:function(e){this._fogExp2.density=e}},{key:"fogNearDistance",get:function(){return this._fog.near},set:function(e){this._fog.near=e}},{key:"fogFarDistance",get:function(){return this._fog.far},set:function(e){this._fog.far=e}},{key:"environmentMap",get:function(){return this._environmentMap}}],[{key:"canAddNode",value:function(){return!1}},{key:"loadProject",value:function(){var e=(0,c.Z)(s().mark((function e(t,n){var r,o,i,a,c,l,u,f,d,h,p,v,m,g,y,b,w,x,S,C;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d=function(e,t){f.push(t)},u=function(e){l.push(e)},n.version||(n=Ac(n)),2===n.version&&(n=_c(n)),3===n.version&&(n=Ic(n)),o=(r=n).root,i=r.metadata,a=r.entities,c=null,l=[],f=[],h=fc(a),p=jc(h),e.prev=11,p.s();case 13:if((v=p.n()).done){e.next=61;break}m=v.value,g=a[m],y=void 0,b=jc(t.nodeTypes),e.prev=18,b.s();case 20:if((w=b.n()).done){e.next=27;break}if(!(x=w.value).shouldDeserialize(g)){e.next=25;break}return y=x,e.abrupt("break",27);case 25:e.next=20;break;case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(18),b.e(e.t0);case 32:return e.prev=32,b.f(),e.finish(32);case 35:if(y){e.next=39;break}console.warn('No node constructor found for entity "'.concat(g.name,'"')),e.next=59;break;case 39:return e.next=41,y.deserialize(t,g,u,d);case 41:if((S=e.sent).uuid=m,!g.parent){e.next=51;break}if(C=Ec(c,g.parent)){e.next=47;break}throw new Error('Node "'.concat(g.name,'" with uuid "').concat(g.uuid,'" specifies parent "').concat(g.parent,'", but was not found.'));case 47:C.children.splice(g.index,0,S),S.parent=C,e.next=58;break;case 51:if(m!==o){e.next=57;break}(c=S).metadata=i,t.scene=c,e.next=58;break;case 57:throw new Error('Node "'.concat(g.name,'" with uuid "').concat(g.uuid,'" does not specify a parent.'));case 58:S.onChange();case 59:e.next=13;break;case 61:e.next=66;break;case 63:e.prev=63,e.t1=e.catch(11),p.e(e.t1);case 66:return e.prev=66,p.f(),e.finish(66);case 69:return e.next=71,Promise.all(l);case 71:return e.abrupt("return",[c,f]);case 72:case"end":return e.stop()}}),e,null,[[11,63,66,69],[18,29,32,35]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"shouldDeserialize",value:function(e){return void 0===e.parent}},{key:"deserialize",value:function(){var e=(0,c.Z)(s().mark((function e(t,r){var o,i,a,c,l,u,f,d,p,v;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,qn.Z)((0,h.Z)(n),"deserialize",this).call(this,t,r);case 2:return o=e.sent,r.components&&((i=r.components.find((function(e){return"fog"===e.name})))&&(a=i.props,c=a.type,l=a.color,u=a.density,f=a.near,d=a.far,o.fogType=c,o.fogColor.set(l),o.fogDensity=u,o.fogNearDistance=f,o.fogFarDistance=d),(p=r.components.find((function(e){return"audio-settings"===e.name})))&&(v=p.props,o.overrideAudioSettings=v.overrideAudioSettings,o.avatarDistanceModel=v.avatarDistanceModel,o.avatarRolloffFactor=v.avatarRolloffFactor,o.avatarRefDistance=v.avatarRefDistance,o.avatarMaxDistance=v.avatarMaxDistance,o.mediaVolume=v.mediaVolume,o.mediaDistanceModel=v.mediaDistanceModel,o.mediaRolloffFactor=v.mediaRolloffFactor,o.mediaRefDistance=v.mediaRefDistance,o.mediaMaxDistance=v.mediaMaxDistance,o.mediaConeInnerAngle=v.mediaConeInnerAngle,o.mediaConeOuterAngle=v.mediaConeOuterAngle,o.mediaConeOuterGain=v.mediaConeOuterGain)),e.abrupt("return",o);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(hs(Yn.xsS));Nc.nodeName="Scene",Nc.disableTransform=!0;var Lc=n(99887),zc=n(77977),Fc=n.n(zc),Uc=n(46597);function Vc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Bc=function(e){(0,f.Z)(n,e);var t=Vc(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this,e,e.audioListener))._canonicalUrl="",r._autoPlay=!0,r.volume=.5,r.controls=!0,r}return(0,u.Z)(n,[{key:"load",value:function(){var e=(0,c.Z)(s().mark((function e(t,r){var o,i,a,c,l,u,f=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((o=t||"")!==this._canonicalUrl||""===o){e.next=3;break}return e.abrupt("return");case 3:return this._canonicalUrl=t||"",this.issues=[],this._mesh.visible=!1,this.hideErrorIcon(),this.editor.playing&&this.el.pause(),e.prev=8,e.next=11,this.editor.api.resolveMedia(t);case 11:return i=e.sent,a=i.accessibleUrl,c=i.contentType,(l=(0,Uc.Z)(t,c))&&(this.hls=new(Fc())({xhrSetup:function(e,n){e.open("GET",f.editor.api.unproxyUrl(t,n))}})),e.next=18,(0,qn.Z)((0,h.Z)(n.prototype),"load",this).call(this,a,c);case 18:l&&this.hls?this.hls.stopLoad():this.el.duration&&(this.el.currentTime=1),this.editor.playing&&this.autoPlay&&this.el.play(),this.issues=za(this._mesh,!1),e.next=30;break;case 23:e.prev=23,e.t0=e.catch(8),this.showErrorIcon(),u=new va.mQ("Error loading video ".concat(this._canonicalUrl),e.t0),r&&r(this,u),console.error(u),this.issues.push({severity:"error",message:"Error loading video."});case 30:return this.editor.emit("objectsChanged",[this]),this.editor.emit("selectionChanged"),e.abrupt("return",this);case 33:case"end":return e.stop()}}),e,this,[[8,23]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onPlay",value:function(){this.autoPlay&&this.el.play()}},{key:"onPause",value:function(){this.el.pause(),this.el.currentTime=0}},{key:"onChange",value:function(){this.onResize()}},{key:"clone",value:function(e){return new this.constructor(this.editor,this.audioListener).copy(this,e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,qn.Z)((0,h.Z)(n.prototype),"copy",this).call(this,e,t),this.controls=e.controls,this._canonicalUrl=e._canonicalUrl,this}},{key:"serialize",value:function(){return(0,qn.Z)((0,h.Z)(n.prototype),"serialize",this).call(this,{video:{src:this._canonicalUrl,controls:this.controls,autoPlay:this.autoPlay,loop:this.loop,audioType:this.audioType,volume:this.volume,distanceModel:this.distanceModel,rolloffFactor:this.rolloffFactor,refDistance:this.refDistance,maxDistance:this.maxDistance,coneInnerAngle:this.coneInnerAngle,coneOuterAngle:this.coneOuterAngle,coneOuterGain:this.coneOuterGain,projection:this.projection}})}},{key:"prepareForExport",value:function(){(0,qn.Z)((0,h.Z)(n.prototype),"prepareForExport",this).call(this),this.addGLTFComponent("video",{src:this._canonicalUrl,controls:this.controls,autoPlay:this.autoPlay,loop:this.loop,audioType:this.audioType,volume:this.volume,distanceModel:this.distanceModel,rolloffFactor:this.rolloffFactor,refDistance:this.refDistance,maxDistance:this.maxDistance,coneInnerAngle:this.coneInnerAngle,coneOuterAngle:this.coneOuterAngle,coneOuterGain:this.coneOuterGain,projection:this.projection}),this.addGLTFComponent("networked",{id:this.uuid}),this.replaceObject()}},{key:"getRuntimeResourcesForStats",value:function(){if(this._texture)return{textures:[this._texture],meshes:[this._mesh],materials:[this._mesh.material]}}},{key:"src",get:function(){return this._canonicalUrl},set:function(e){this.load(e).catch(console.error)}},{key:"autoPlay",get:function(){return this._autoPlay},set:function(e){this._autoPlay=e}}],[{key:"deserialize",value:function(){var e=(0,c.Z)(s().mark((function e(t,r,o,i){var a,l,u,f,d,p,v,m,g,y,b,w,x,S,C,k;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,qn.Z)((0,h.Z)(n),"deserialize",this).call(this,t,r);case 2:return a=e.sent,l=r.components.find((function(e){return"video"===e.name})).props,u=l.src,f=l.controls,d=l.autoPlay,p=l.loop,v=l.audioType,m=l.volume,g=l.distanceModel,y=l.rolloffFactor,b=l.refDistance,w=l.maxDistance,x=l.coneInnerAngle,S=l.coneOuterAngle,C=l.coneOuterGain,k=l.projection,o((0,c.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.load(u,i);case 2:a.controls=f||!1,a.autoPlay=d,a.loop=p,a.audioType=v,a.volume=m,a.distanceModel=g,a.rolloffFactor=y,a.refDistance=b,a.maxDistance=w,a.coneInnerAngle=x,a.coneOuterAngle=S,a.coneOuterGain=C,a.projection=k;case 15:case"end":return e.stop()}}),e)})))()),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,r,o){return e.apply(this,arguments)}}()}]),n}(hs(Lc.Z));Bc.legacyComponentName="video",Bc.nodeName="Video",Bc.initialElementProps={};var Hc=n(483),Wc=n(34452);function Gc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var qc="flat";function Kc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Yc=function(e){(0,f.Z)(n,e);var t=Kc(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this,e,e.audioListener))._canonicalUrl="",r._autoPlay=!0,r.volume=.5,r.controls=!0,r}return(0,u.Z)(n,[{key:"load",value:function(){var e=(0,c.Z)(s().mark((function e(t,n){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=t||"")!==this._canonicalUrl||""===r){e.next=3;break}return e.abrupt("return");case 3:return this._canonicalUrl=t||"",this.issues=[],this._mesh.visible=!1,this.hideErrorIcon(),this.editor.playing&&this.el.pause(),this.editor.emit("objectsChanged",[this]),this.editor.emit("selectionChanged"),e.abrupt("return",this);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onPlay",value:function(){this.autoPlay&&this.el.play()}},{key:"onPause",value:function(){this.el.pause(),this.el.currentTime=0}},{key:"onChange",value:function(){this.onResize()}},{key:"clone",value:function(e){return new this.constructor(this.editor,this.audioListener).copy(this,e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,qn.Z)((0,h.Z)(n.prototype),"copy",this).call(this,e,t),this.controls=e.controls,this._canonicalUrl=e._canonicalUrl,this}},{key:"serialize",value:function(){return(0,qn.Z)((0,h.Z)(n.prototype),"serialize",this).call(this,{volumetric:{src:this._canonicalUrl,controls:this.controls,autoPlay:this.autoPlay,loop:this.loop,audioType:this.audioType,volume:this.volume,distanceModel:this.distanceModel,rolloffFactor:this.rolloffFactor,refDistance:this.refDistance,maxDistance:this.maxDistance,coneInnerAngle:this.coneInnerAngle,coneOuterAngle:this.coneOuterAngle,coneOuterGain:this.coneOuterGain,projection:this.projection}})}},{key:"prepareForExport",value:function(){(0,qn.Z)((0,h.Z)(n.prototype),"prepareForExport",this).call(this),this.addGLTFComponent("volumetric",{src:this._canonicalUrl,controls:this.controls,autoPlay:this.autoPlay,loop:this.loop,audioType:this.audioType,volume:this.volume,distanceModel:this.distanceModel,rolloffFactor:this.rolloffFactor,refDistance:this.refDistance,maxDistance:this.maxDistance,coneInnerAngle:this.coneInnerAngle,coneOuterAngle:this.coneOuterAngle,coneOuterGain:this.coneOuterGain,projection:this.projection}),this.addGLTFComponent("networked",{id:this.uuid}),this.replaceObject()}},{key:"getRuntimeResourcesForStats",value:function(){if(this._texture)return{textures:[this._texture],meshes:[this._mesh],materials:[this._mesh.material]}}},{key:"src",get:function(){return this._canonicalUrl},set:function(e){this.load(e).catch(console.error)}},{key:"autoPlay",get:function(){return this._autoPlay},set:function(e){this._autoPlay=e}}],[{key:"deserialize",value:function(){var e=(0,c.Z)(s().mark((function e(t,r,o,i){var a,l,u,f,d,p,v,m,g,y,b,w,x,S,C,k;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,qn.Z)((0,h.Z)(n),"deserialize",this).call(this,t,r);case 2:return a=e.sent,l=r.components.find((function(e){return"volumetric"===e.name})).props,u=l.src,f=l.controls,d=l.autoPlay,p=l.loop,v=l.audioType,m=l.volume,g=l.distanceModel,y=l.rolloffFactor,b=l.refDistance,w=l.maxDistance,x=l.coneInnerAngle,S=l.coneOuterAngle,C=l.coneOuterGain,k=l.projection,o((0,c.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.load(u,i);case 2:a.controls=f||!1,a.autoPlay=d,a.loop=p,a.audioType=v,a.volume=m,a.distanceModel=g,a.rolloffFactor=y,a.refDistance=b,a.maxDistance=w,a.coneInnerAngle=x,a.coneOuterAngle=S,a.coneOuterGain=C,a.projection=k;case 15:case"end":return e.stop()}}),e)})))()),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,r,o){return e.apply(this,arguments)}}()}]),n}(hs(function(e){(0,f.Z)(n,e);var t=Gc(n);function n(e){var r;(0,l.Z)(this,n),(r=t.call(this,e,"volumetric"))._videoTexture=new Hc.fO(r.el),r._videoTexture.minFilter=Yn.wem,r._videoTexture.encoding=Yn.knz,r._texture=r._videoTexture;var o=new Yn.BKK,i=new Yn.vBJ;return i.map=r._texture,i.side=Yn.ehD,r._mesh=new Yn.Kj0(o,i),r._mesh.name="VideoMesh",r.add(r._mesh),r._projection="flat",r.hls=null,r}return(0,u.Z)(n,[{key:"loadVideo",value:function(e,t){var n=this;return new Promise((function(r,o){var i=(0,Uc.Z)(e,t);i?(n.hls||(n.hls=new(Fc())),n.hls.loadSource(e),n.hls.attachMedia(n.el),n.hls.on(Fc().Events.MANIFEST_PARSED,(function(){n.hls.startLoad(-1)}))):n.el.src=e;var a=null,s=function(){if(n.el.autoplay)if(Hc.D4.hasUserEngaged)n.el.play();else{Wc.NL.instance.addEventListener(Wc.NL.EVENTS.USER_ENGAGE,(function e(){n.el.play(),Wc.NL.instance.removeEventListener(Wc.NL.EVENTS.USER_ENGAGE,e)}))}a(),a(),r(n._videoTexture)},c=function(e){a(),o(new va.mQ('Error loading volumetric "'.concat(n.el.src,'"'),e))};a=function(){n.el.removeEventListener("loadeddata",s),n.el.removeEventListener("error",c)},i&&n.hls.on(Fc().Events.ERROR,c),n.el.addEventListener("loadeddata",s),n.el.addEventListener("error",c)}))}},{key:"load",value:function(){var e=(0,c.Z)(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._mesh.visible=!1,e.next=3,this.loadVideo(t,n);case 3:return this._texture=e.sent,this.onResize(),this.audioSource=this.audioListener.context.createMediaElementSource(this.el),this.audio.setNodeSource(this.audioSource),this._texture.format===Yn.wk1&&(this._mesh.material.transparent=!0),this._mesh.material.map=this._texture,this._mesh.material.needsUpdate=!0,this._mesh.visible=!0,e.abrupt("return",this);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onResize",value:function(){if(this.projection===qc){var e=(this.el.videoHeight||1)/(this.el.videoWidth||1),t=Math.min(1,1/e),n=Math.min(1,e);this._mesh.scale.set(t,n,1)}}},{key:"clone",value:function(e){return new this.constructor(this.audioListener).copy(this,e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if((0,qn.Z)((0,h.Z)(n.prototype),"copy",this).call(this,e,!1),t)for(var r=0;r<e.children.length;r++){var o=e.children[r];o!==e.audio&&o!==e._mesh&&this.add(o.clone())}return this.projection=e.projection,this}},{key:"projection",get:function(){return this._projection},set:function(e){if(e!==this._projection){var t,n=new Yn.vBJ;"360-equirectangular"===e?(t=new Yn.Aip(1,64,32)).scale(-1,1,1):(t=new Yn.BKK,n.side=Yn.ehD),n.map=this._texture,this._projection=e;var r=new Yn.Kj0(t,n);r.name="VideoMesh";var o=this.children.indexOf(this._mesh);-1===o?this.add(r):(this.children.splice(o,1,r),r.parent=this),this._mesh=r,this.onResize()}}}]),n}(ps.ZP)));Yc.legacyComponentName="volumetric",Yc.nodeName="Volumetric",Yc.initialElementProps={};var Xc={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","\tvec4 texel = texture2D( tDiffuse, vUv );","\tgl_FragColor = opacity * texel;","}"].join("\n")};function $c(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}Object.assign($c.prototype,{setSize:function(){},render:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}),$c.FullScreenQuad=function(){var e=new Yn.iKG(-1,1,1,-1,0,1),t=new Yn._12(2,2),n=function(e){this._mesh=new Yn.Kj0(t,e)};return Object.defineProperty(n.prototype,"material",{get:function(){return this._mesh.material},set:function(e){this._mesh.material=e}}),Object.assign(n.prototype,{dispose:function(){this._mesh.geometry.dispose()},render:function(t){t.render(this._mesh,e)}}),n}();var Jc=function(e,t){$c.call(this),this.textureID=void 0!==t?t:"tDiffuse",e instanceof Yn.jyz?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=Yn.rDY.clone(e.uniforms),this.material=new Yn.jyz({defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new $c.FullScreenQuad(this.material)};Jc.prototype=Object.assign(Object.create($c.prototype),{constructor:Jc,render:function(e,t,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}});var Qc=function(e,t){$c.call(this),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1};Qc.prototype=Object.assign(Object.create($c.prototype),{constructor:Qc,render:function(e,t,n){var r,o,i=e.getContext(),a=e.state;a.buffers.color.setMask(!1),a.buffers.depth.setMask(!1),a.buffers.color.setLocked(!0),a.buffers.depth.setLocked(!0),this.inverse?(r=0,o=1):(r=1,o=0),a.buffers.stencil.setTest(!0),a.buffers.stencil.setOp(i.REPLACE,i.REPLACE,i.REPLACE),a.buffers.stencil.setFunc(i.ALWAYS,r,4294967295),a.buffers.stencil.setClear(o),a.buffers.stencil.setLocked(!0),e.setRenderTarget(n),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),a.buffers.color.setLocked(!1),a.buffers.depth.setLocked(!1),a.buffers.stencil.setLocked(!1),a.buffers.stencil.setFunc(i.EQUAL,1,4294967295),a.buffers.stencil.setOp(i.KEEP,i.KEEP,i.KEEP),a.buffers.stencil.setLocked(!0)}});var el=function(){$c.call(this),this.needsSwap=!1};el.prototype=Object.create($c.prototype),Object.assign(el.prototype,{render:function(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}});var tl=function(e,t){if(this.renderer=e,void 0===t){var n={minFilter:Yn.wem,magFilter:Yn.wem,format:Yn.wk1},r=e.getSize(new Yn.FM8);this._pixelRatio=e.getPixelRatio(),this._width=r.width,this._height=r.height,(t=new Yn.dd2(this._width*this._pixelRatio,this._height*this._pixelRatio,n)).texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=t.width,this._height=t.height;this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],void 0===Xc&&console.error("THREE.EffectComposer relies on CopyShader"),void 0===Jc&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new Jc(Xc),this.clock=new Yn.SUY};Object.assign(tl.prototype,{swapBuffers:function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e},addPass:function(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)},insertPass:function(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)},removePass:function(e){var t=this.passes.indexOf(e);-1!==t&&this.passes.splice(t,1)},isLastEnabledPass:function(e){for(var t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0},render:function(e){void 0===e&&(e=this.clock.getDelta());var t,n,r=this.renderer.getRenderTarget(),o=!1,i=this.passes.length;for(n=0;n<i;n++)if(!1!==(t=this.passes[n]).enabled){if(t.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(n),t.render(this.renderer,this.writeBuffer,this.readBuffer,e,o),t.needsSwap){if(o){var a=this.renderer.getContext(),s=this.renderer.state.buffers.stencil;s.setFunc(a.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),s.setFunc(a.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==Qc&&(t instanceof Qc?o=!0:t instanceof el&&(o=!1))}this.renderer.setRenderTarget(r)},reset:function(e){if(void 0===e){var t=this.renderer.getSize(new Yn.FM8);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,(e=this.renderTarget1.clone()).setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2},setSize:function(e,t){this._width=e,this._height=t;var n=this._width*this._pixelRatio,r=this._height*this._pixelRatio;this.renderTarget1.setSize(n,r),this.renderTarget2.setSize(n,r);for(var o=0;o<this.passes.length;o++)this.passes[o].setSize(n,r)},setPixelRatio:function(e){this._pixelRatio=e,this.setSize(this._width,this._height)}});var nl=function(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1};Object.assign(nl.prototype,{setSize:function(){},render:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}),nl.FullScreenQuad=function(){var e=new Yn.iKG(-1,1,1,-1,0,1),t=new Yn._12(2,2),n=function(e){this._mesh=new Yn.Kj0(t,e)};return Object.defineProperty(n.prototype,"material",{get:function(){return this._mesh.material},set:function(e){this._mesh.material=e}}),Object.assign(n.prototype,{dispose:function(){this._mesh.geometry.dispose()},render:function(t){t.render(this._mesh,e)}}),n}();var rl=function(e,t,n,r,o){$c.call(this),this.scene=e,this.camera=t,this.overrideMaterial=n,this.clearColor=r,this.clearAlpha=void 0!==o?o:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new Yn.Ilk};rl.prototype=Object.assign(Object.create($c.prototype),{constructor:rl,render:function(e,t,n){var r,o,i=e.autoClear;e.autoClear=!1,void 0!==this.overrideMaterial&&(o=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(e.getClearColor(this._oldClearColor),r=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:n),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(this._oldClearColor,r),void 0!==this.overrideMaterial&&(this.scene.overrideMaterial=o),e.autoClear=i}});var ol={uniforms:{tDiffuse:{value:null}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","\tvec4 tex = texture2D( tDiffuse, vUv );","\tgl_FragColor = LinearTosRGB( tex );","}"].join("\n")};function il(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var al=function(e){(0,f.Z)(n,e);var t=il(n);function n(e){var r;(0,l.Z)(this,n),r=t.call(this,e,80,16/9,.2,8e3);var o=new Yn.Rki((0,Gn.Z)(r));return o.layers.set(1),r.helper=o,r}return(0,u.Z)(n,[{key:"setFromViewport",value:function(){(new Yn.yGw).copy(this.parent.matrixWorld).invert().multiply(this.editor.camera.matrixWorld).decompose(this.position,this.rotation,this.scale),this.editor.emit("objectsChanged",[this]),this.editor.emit("selectionChanged")}},{key:"onSelect",value:function(){this.editor.scene.add(this.helper),this.helper.update()}},{key:"onDeselect",value:function(){this.editor.scene.remove(this.helper)}},{key:"serialize",value:function(){return(0,qn.Z)((0,h.Z)(n.prototype),"serialize",this).call(this,{"scene-preview-camera":{}})}},{key:"prepareForExport",value:function(){(0,qn.Z)((0,h.Z)(n.prototype),"prepareForExport",this).call(this),this.name="scene-preview-camera",this.addGLTFComponent("scene-preview-camera"),this.replaceObject()}}],[{key:"canAddNode",value:function(e){return null===e.scene.findNodeByType(n)}}]),n}(hs(Yn.cPb));function sl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sl(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ll(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.canvas;o||(o=document.createElement("canvas"));try{n=o.getContext("webgl2",{antialias:!0})}catch(l){n=o.getContext("webgl",{antialias:!0})}var i=cl(cl({},r),{},{canvas:o,context:n,antialias:!0,preserveDrawingBuffer:!0}),a=window,s=a.safariWebBrowser,c=s?new Yn.b5g(i):new Yn.CP7(i);return c.toneMapping=Yn.EoG,c.toneMappingExposure=2,c.physicallyCorrectLights=!0,c.shadowMap.enabled=!0,c.shadowMap.type=Yn.ntZ,c.setSize(e,t,!1),c}function ul(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return fl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fl(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function fl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}al.legacyComponentName="scene-preview-camera",al.nodeName="Scene Preview Camera";var hl=function(e){(0,f.Z)(n,e);var t=dl(n);function n(e){(0,l.Z)(this,n);var r=e.isPerspectiveCamera?"perspective":"orthographic";return t.call(this,{defines:{DEPTH_TO_VIEW_Z:"".concat(r,"DepthToViewZ")},uniforms:{depthTexture:{value:null},cameraNearFar:{value:new Yn.FM8(.5,.5)},textureMatrix:{value:new Yn.yGw}},vertexShader:"\n        varying vec4 projTexCoord;\n        varying vec4 vPosition;\n        uniform mat4 textureMatrix;\n  \n        void main() {\n  \n          vPosition = modelViewMatrix * vec4( position, 1.0 );\n          vec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n          projTexCoord = textureMatrix * worldPosition;\n          gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n  \n        }\n      ",fragmentShader:"\n        #include <packing>\n        varying vec4 vPosition;\n        varying vec4 projTexCoord;\n        uniform sampler2D depthTexture;\n        uniform vec2 cameraNearFar;\n  \n        void main() {\n  \n          float depth = unpackRGBAToDepth(texture2DProj( depthTexture, projTexCoord ));\n          float viewZ = - DEPTH_TO_VIEW_Z( depth, cameraNearFar.x, cameraNearFar.y );\n          float depthTest = (-vPosition.z > viewZ) ? 1.0 : 0.0;\n          gl_FragColor = vec4(0.0, 1.0 - depthTest, 1.0, 1.0);\n  \n        }\n      "})}return n}(Yn.jyz),pl=function(e){(0,f.Z)(n,e);var t=dl(n);function n(){return(0,l.Z)(this,n),t.call(this,{uniforms:{maskTexture:{value:null},texSize:{value:new Yn.FM8(.5,.5)}},vertexShader:"\n        varying vec2 vUv;\n\n        void main() {\n          vUv = uv;\n          gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n        }\n      ",fragmentShader:"\n        varying vec2 vUv;\n        uniform sampler2D maskTexture;\n        uniform vec2 texSize;\n\n        void main() {\n          vec2 invSize = 1.0 / texSize;\n          vec4 uvOffset = vec4(1.0, 0.0, 0.0, 1.0) * vec4(invSize, invSize);\n          vec4 c1 = texture2D( maskTexture, vUv + uvOffset.xy);\n          vec4 c2 = texture2D( maskTexture, vUv - uvOffset.xy);\n          vec4 c3 = texture2D( maskTexture, vUv + uvOffset.yw);\n          vec4 c4 = texture2D( maskTexture, vUv - uvOffset.yw);\n          float diff1 = (c1.r - c2.r)*0.5;\n          float diff2 = (c3.r - c4.r)*0.5;\n          float d = length( vec2(diff1, diff2) ) * 0.5;\n          float depth = (c1.g + c2.g + c3.g + c4.g) * 0.25;\n          gl_FragColor = vec4(depth * d, 0.0, 0.0, d);\n        }\n      "})}return n}(Yn.jyz),vl=function(e){(0,f.Z)(n,e);var t=dl(n);function n(){return(0,l.Z)(this,n),t.call(this,{uniforms:{edgeTexture:{value:null},edgeColor:{value:new Yn.Pa4(1,1,1)},texSize:{value:new Yn.FM8(0,0)}},vertexShader:"\n        varying vec2 vUv;\n\n        void main() {\n          vUv = uv;\n          gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n        }\n      ",fragmentShader:"\n        varying vec2 vUv;\n        uniform sampler2D edgeTexture;\n        uniform vec3 edgeColor;\n        uniform vec2 texSize;\n\n        void main() {\n          vec2 invSize = 1.0 / texSize;\n          vec4 uvOffset = vec4(1.0, 0.0, 0.0, 1.0) * vec4(invSize, invSize);\n          vec4 c1 = texture2D( edgeTexture, vUv + uvOffset.xy);\n          vec4 c2 = texture2D( edgeTexture, vUv - uvOffset.xy);\n          vec4 c3 = texture2D( edgeTexture, vUv + uvOffset.yw);\n          vec4 c4 = texture2D( edgeTexture, vUv - uvOffset.yw);\n          float visibilityFactor =  c1.r + c2.r + c3.r + c4.r;\n          gl_FragColor = vec4(edgeColor, visibilityFactor);\n        }\n      ",depthTest:!1,depthWrite:!1,transparent:!0})}return n}(Yn.jyz),ml=function(e){(0,f.Z)(n,e);var t=dl(n);function n(e,r,o,i,a){var s;(0,l.Z)(this,n),(s=t.call(this)).renderScene=r,s.renderCamera=o,s.selectedObjects=i,s.editorRenderer=a,s.selectedRenderables=[],s.nonSelectedRenderables=[],s.edgeColor=new Yn.Ilk(1,1,1),s.resolution=new Yn.FM8(e.x,e.y);var c={minFilter:Yn.wem,magFilter:Yn.wem,format:Yn.wk1};return s.maskBufferMaterial=new Yn.vBJ({color:16777215}),s.maskBufferMaterial.side=Yn.ehD,s.renderTargetMaskBuffer=new Yn.dd2(s.resolution.x,s.resolution.y,c),s.renderTargetMaskBuffer.texture.name="OutlinePass.mask",s.renderTargetMaskBuffer.texture.generateMipmaps=!1,s.depthMaterial=new Yn.lRF,s.depthMaterial.side=Yn.ehD,s.depthMaterial.depthPacking=Yn.mSO,s.depthMaterial.blending=Yn.jFi,s.depthMaskMaterial=new hl(s.renderCamera),s.depthMaskMaterial.side=Yn.ehD,s.renderTargetDepthBuffer=new Yn.dd2(s.resolution.x,s.resolution.y,c),s.renderTargetDepthBuffer.texture.name="OutlinePass.depth",s.renderTargetDepthBuffer.texture.generateMipmaps=!1,s.edgeDetectionMaterial=new pl,s.renderTargetEdgeBuffer=new Yn.dd2(s.resolution.x,s.resolution.y,c),s.renderTargetEdgeBuffer.texture.name="OutlinePass.edge",s.renderTargetEdgeBuffer.texture.generateMipmaps=!1,s.overlayMaterial=new vl,s.copyUniforms=Yn.rDY.clone(Xc.uniforms),s.copyUniforms.opacity.value=1,s.copyMaterial=new Yn.jyz({uniforms:s.copyUniforms,vertexShader:Xc.vertexShader,fragmentShader:Xc.fragmentShader,blending:Yn.jFi,depthTest:!1,depthWrite:!1,transparent:!0}),s.enabled=!0,s.needsSwap=!1,s.oldClearColor=new Yn.Ilk,s.oldClearAlpha=1,s.outlineCamera=new Yn.iKG(-1,1,1,-1,0,1),s.outlineScene=new Yn.xsS,s.quad=new Yn.Kj0(new Yn.BKK(2,2),null),s.quad.frustumCulled=!1,s.outlineScene.add(s.quad),s.textureMatrix=new Yn.yGw,s.renderableLayers=new Yn.S9g,s}return(0,u.Z)(n,[{key:"render",value:function(e,t,n,r,o){var i=this;if(this.selectedObjects.length>0){this.oldClearColor.copy(e.getClearColor()),this.oldClearAlpha=e.getClearAlpha();var a=e.autoClear;e.autoClear=!1,o&&e.context.disable(e.context.STENCIL_TEST),e.setClearColor(16777215,1);var s,c=ul(this.selectedObjects);try{for(c.s();!(s=c.n()).done;){s.value.traverse((function(e){!(e.isMesh||e.isLine||e.isSprite||e.isPoints)||e.isHelper||e.disableOutline||(i.selectedRenderables.push(e),e.userData.prevVisible=e.visible,e.visible=!1)}))}}catch(b){c.e(b)}finally{c.f()}var l=this.renderScene.background;this.renderScene.background=null,this.renderScene.overrideMaterial=this.depthMaterial,e.setRenderTarget(this.renderTargetDepthBuffer),e.clear(),this.editorRenderer.batchManager&&this.editorRenderer.batchManager.update(),e.render(this.renderScene,this.renderCamera);var u,f=ul(this.selectedRenderables);try{for(f.s();!(u=f.n()).done;){var d=u.value;d.visible=d.userData.prevVisible,d.layers.test(this.renderableLayers)||(d.layers.enable(0),d.userData.prevDisableRenderLayer=!0),delete d.userData.prevVisible}}catch(b){f.e(b)}finally{f.f()}this.textureMatrix.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),this.textureMatrix.multiply(this.renderCamera.projectionMatrix),this.textureMatrix.multiply(this.renderCamera.matrixWorldInverse),this.renderScene.traverse((function(e){(e.isMesh||e.isLine||e.isSprite||e.isPoints)&&-1===i.selectedRenderables.indexOf(e)&&(i.nonSelectedRenderables.push(e),e.userData.prevVisible=e.visible,e.visible=!1)})),this.renderScene.overrideMaterial=this.depthMaskMaterial,this.depthMaskMaterial.uniforms.cameraNearFar.value=new Yn.FM8(this.renderCamera.near,this.renderCamera.far),this.depthMaskMaterial.uniforms.depthTexture.value=this.renderTargetDepthBuffer.texture,this.depthMaskMaterial.uniforms.textureMatrix.value=this.textureMatrix,e.setRenderTarget(this.renderTargetMaskBuffer),e.clear(),this.editorRenderer.batchManager&&this.editorRenderer.batchManager.update(),e.render(this.renderScene,this.renderCamera),this.renderScene.overrideMaterial=null;var h,p=ul(this.nonSelectedRenderables);try{for(p.s();!(h=p.n()).done;){var v=h.value;v.visible=v.userData.prevVisible,delete v.userData.prevVisible}}catch(b){p.e(b)}finally{p.f()}var m,g=ul(this.selectedRenderables);try{for(g.s();!(m=g.n()).done;){var y=m.value;y.userData.prevDisableRenderLayer&&(y.layers.disable(0),delete y.userData.prevDisableRenderLayer)}}catch(b){g.e(b)}finally{g.f()}this.selectedRenderables=[],this.nonSelectedRenderables=[],this.renderScene.background=l,this.quad.material=this.edgeDetectionMaterial,this.edgeDetectionMaterial.uniforms.maskTexture.value=this.renderTargetMaskBuffer.texture,this.edgeDetectionMaterial.uniforms.texSize.value=new Yn.FM8(this.renderTargetMaskBuffer.width,this.renderTargetMaskBuffer.height),e.setRenderTarget(this.renderTargetEdgeBuffer),e.clear(),e.render(this.outlineScene,this.outlineCamera),this.quad.material=this.overlayMaterial,this.overlayMaterial.uniforms.edgeTexture.value=this.renderTargetEdgeBuffer.texture,this.overlayMaterial.uniforms.edgeColor.value=this.edgeColor,this.overlayMaterial.uniforms.texSize.value=new Yn.FM8(this.renderTargetEdgeBuffer.width,this.renderTargetEdgeBuffer.height),o&&e.context.enable(e.context.STENCIL_TEST),e.setRenderTarget(n),e.render(this.outlineScene,this.outlineCamera),e.setClearColor(this.oldClearColor,this.oldClearAlpha),e.autoClear=a}this.renderToScreen&&(this.quad.material=this.copyMaterial,this.copyUniforms.tDiffuse.value=n.texture,e.setRenderTarget(null),e.render(this.outlineScene,this.outlineCamera))}}]),n}($c);function gl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var yl=function(e){(0,f.Z)(n,e);var t=gl(n);function n(e,r,o){var i;(0,l.Z)(this,n),(i=t.call(this,e,r)).name="Unlit",i.effectComposer=new tl(e),i.renderPass=new rl(r.scene,r.camera),i.effectComposer.addPass(i.renderPass),i.renderHelpersPass=new rl(r.helperScene,r.camera),i.renderHelpersPass.clear=!1,i.effectComposer.addPass(i.renderHelpersPass);var a=e.domElement.parentElement;return i.outlinePass=new ml(new Yn.FM8(a.offsetWidth,a.offsetHeight),r.scene,r.camera,r.selectedTransformRoots,o),i.gammaCorrectionPass=new Jc(ol),i.effectComposer.addPass(i.gammaCorrectionPass),i.outlinePass.edgeColor=new Yn.Ilk("#006EFF"),i.outlinePass.renderToScreen=!0,i.effectComposer.addPass(i.outlinePass),i.enableShadows=!1,i.enabledBatchedObjectLayers=new Yn.S9g,i.disabledBatchedObjectLayers=new Yn.S9g,i.disabledBatchedObjectLayers.disable(0),i.disabledBatchedObjectLayers.enable(2),i.hiddenLayers=new Yn.S9g,i.hiddenLayers.set(1),i.disableBatching=!1,i.editorRenderer=o,i}return(0,u.Z)(n,[{key:"onSceneSet",value:function(){var e=this;this.renderer.shadowMap.enabled=this.enableShadows,this.editor.scene.traverse((function(t){t.setShadowsEnabled&&t.setShadowsEnabled(e.enableShadows),e.disableBatching&&t.isMesh&&!t.layers.test(e.enabledBatchedObjectLayers)&&!t.layers.test(e.hiddenLayers)?(t.layers.enable(0),t.layers.enable(2)):!e.disableBatching&&t.isMesh&&t.layers.test(e.disabledBatchedObjectLayers)&&!t.layers.test(e.hiddenLayers)&&(t.layers.disable(0),t.layers.disable(2))})),this.renderPass.scene=this.editor.scene,this.renderPass.camera=this.editor.camera,this.outlinePass.renderScene=this.editor.scene,this.outlinePass.renderCamera=this.editor.camera}},{key:"onResize",value:function(){var e=this.renderer.domElement.parentElement;this.renderer.setSize(e.offsetWidth,e.offsetHeight,!1)}},{key:"render",value:function(e){this.effectComposer.render(e)}}]),n}(function(){function e(t,n){(0,l.Z)(this,e),this.name="Default",this.renderer=t,this.editor=n,this.passes=[],this.enableShadows=!1}return(0,u.Z)(e,[{key:"render",value:function(e){}}]),e}()),bl=function(e){(0,f.Z)(n,e);var t=gl(n);function n(e,r,o){var i;return(0,l.Z)(this,n),(i=t.call(this,e,r,o)).name="Lit",i.enableShadows=!1,i.disableBatching=!0,i}return n}(yl),wl=function(e){(0,f.Z)(n,e);var t=gl(n);function n(e,r,o){var i;return(0,l.Z)(this,n),(i=t.call(this,e,r,o)).name="Shadows",i.disableBatching=!0,i.enableShadows=!0,i}return n}(yl),xl=function(e){(0,f.Z)(n,e);var t=gl(n);function n(e,r,o){var i;return(0,l.Z)(this,n),(i=t.call(this,e,r,o)).name="Wireframe",i.enableShadows=!1,i.disableBatching=!0,i.renderPass.overrideMaterial=new Yn.vBJ({wireframe:!0}),i}return n}(yl),Sl=function(e){(0,f.Z)(n,e);var t=gl(n);function n(e,r,o){var i;return(0,l.Z)(this,n),(i=t.call(this,e,r,o)).name="Normals",i.enableShadows=!1,i.disableBatching=!0,i.renderPass.overrideMaterial=new Yn.RSm,i}return n}(yl),Cl=function(){function e(t,n){var r=this;(0,l.Z)(this,e),this.onSceneSet=function(){r.renderMode.onSceneSet()},this.onResize=function(){var e=r.camera,t=r.canvas.parentElement.parentElement;e.aspect=t.offsetWidth/t.offsetHeight,e.updateProjectionMatrix(),r.renderer.setSize(t.offsetWidth,t.offsetHeight,!1),r.renderMode.onResize()},this.takeScreenshot=(0,c.Z)(s().mark((function e(){var t,n,o,i,a,c,l,u,f=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.length>0&&void 0!==f[0]?f[0]:1920,n=f.length>1&&void 0!==f[1]?f[1]:1080,console.log("Taking screenshot"),o=r.screenshotRenderer,i=r.camera,a=r.renderer,r.renderer=o,r.editor.disableUpdate=!0,(c=r.editor.scene.findNodeByType(al))||(c=new al(r.editor),i.matrix.decompose(c.position,c.rotation,c.scale),r.editor.addObject(c)),l=c.aspect,c.aspect=t/n,c.updateProjectionMatrix(),c.layers.disable(1),o.setSize(t,n,!0),r.editor.scene.traverse((function(e){e.isNode&&e.onRendererChanged()})),r.renderMode!==r.shadowsRenderMode&&r.shadowsRenderMode.onSceneSet(),o.render(r.editor.scene,c),e.next=19,ts(o.domElement);case 19:return u=e.sent,c.aspect=l,c.updateProjectionMatrix(),c.layers.enable(1),r.editor.disableUpdate=!1,r.renderer=a,r.renderMode.onSceneSet(),r.editor.scene.traverse((function(e){e.isNode&&e.onRendererChanged()})),console.log("Returning blob"),console.log(u),e.abrupt("return",u);case 30:case"end":return e.stop()}}),e)}))),this.editor=t,this.canvas=n;var o=ll(n.parentElement.parentElement.offsetWidth,n.parentElement.parentElement.offsetHeight,{canvas:n});o.physicallyCorrectLights=!0,o.outputEncoding=Yn.knz,o.setPixelRatio(window.devicePixelRatio),o.info.autoReset=!1,this.renderer=o,this.renderMode=new bl(o,t,this),this.shadowsRenderMode=new wl(o,t,this),this.renderModes=[],this.renderer.capabilities.isWebGL2&&this.renderModes.push(new yl(o,t,this)),this.renderModes.push(this.renderMode,this.shadowsRenderMode,new xl(o,t,this),new Sl(o,t,this)),this.screenshotRenderer=ll(1920,1080);var i=t.camera;this.camera=i}return(0,u.Z)(e,[{key:"update",value:function(e,t){this.renderer.info.reset(),this.renderMode.render(e),this.onUpdateStats&&(this.renderer.info.render.fps=1/e,this.renderer.info.render.frameTime=1e3*e,this.onUpdateStats(this.renderer.info))}},{key:"setRenderMode",value:function(e){this.renderMode=e,this.renderMode.onSceneSet(),this.renderMode.onResize()}},{key:"addBatchedObject",value:function(e){console.log("Not handling batched object")}},{key:"removeBatchedObject",value:function(e){console.log("Not handling batched object")}},{key:"dispose",value:function(){this.renderer.dispose(),this.screenshotRenderer.dispose()}}]),e}(),kl=null;var Ol=function e(){var t=this;(0,l.Z)(this,e),this.generateThumbnail=function(){var e=(0,c.Z)(s().mark((function e(n){var r,o,i,a,c,l,u,f,d,h,p=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=p.length>1&&void 0!==p[1]?p[1]:256,o=p.length>2&&void 0!==p[2]?p[2]:256,(i=new Yn.xsS).add(n),a=new Yn.Mig(16777215,.3),i.add(a),(c=new Yn.Ox3(16777215,.8*Math.PI)).position.set(.5,0,.866),i.add(c),l=new Yn.cPb,i.add(l),Ra(n,(function(e){(e.isMeshStandardMaterial||e.isGLTFSpecularGlossinessMaterial)&&(e.envMap=kl,e.needsUpdate=!0)})),n.updateMatrixWorld(),u=(new Yn.ZzF).setFromObject(n),f=u.getSize(new Yn.Pa4).length(),d=u.getCenter(new Yn.Pa4),l.near=f/100,l.far=100*f,l.aspect=r/o,l.updateProjectionMatrix(),l.position.copy(d),l.position.x+=f,l.position.y+=f/2,l.position.z+=f,l.lookAt(d),l.layers.disable(1),t.renderer.setSize(r,o,!0),t.renderer.render(i,l),e.next=30,ts(t.renderer.domElement);case 30:return h=e.sent,e.abrupt("return",h);case 32:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.renderer=ll(512,512)};function Pl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}function Ml(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ml(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ml(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function El(e){return Array.isArray?Array.isArray(e):"[object Array]"===Il(e)}function Zl(e){return"string"===typeof e}function jl(e){return"number"===typeof e}function Dl(e){return!0===e||!1===e||function(e){return Tl(e)&&null!==e}(e)&&"[object Boolean]"==Il(e)}function Tl(e){return"object"===typeof e}function Al(e){return void 0!==e&&null!==e}function _l(e){return!e.trim().length}function Il(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}var Nl=function(e){return"Invalid value for key ".concat(e)},Ll=function(e){return"Pattern length exceeds max of ".concat(e,".")},zl=Object.prototype.hasOwnProperty,Fl=function(){function e(t){var n=this;(0,l.Z)(this,e),this._keys=[],this._keyMap={};var r=0;t.forEach((function(e){var t=Ul(e);r+=t.weight,n._keys.push(t),n._keyMap[t.id]=t,r+=t.weight})),this._keys.forEach((function(e){e.weight/=r}))}return(0,u.Z)(e,[{key:"get",value:function(e){return this._keyMap[e]}},{key:"keys",value:function(){return this._keys}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]),e}();function Ul(e){var t=null,n=null,r=null,o=1;if(Zl(e)||El(e))r=e,t=Vl(e),n=Bl(e);else{if(!zl.call(e,"name"))throw new Error(function(e){return"Missing ".concat(e," property in key")}("name"));var i=e.name;if(r=i,zl.call(e,"weight")&&(o=e.weight)<=0)throw new Error(function(e){return"Property 'weight' in key '".concat(e,"' must be a positive integer")}(i));t=Vl(i),n=Bl(i)}return{path:t,id:n,weight:o,src:r}}function Vl(e){return El(e)?e:e.split(".")}function Bl(e){return El(e)?e.join("."):e}var Hl={useExtendedSearch:!1,getFn:function(e,t){var n=[],r=!1;return function e(t,o,i){if(Al(t))if(o[i]){var a=t[o[i]];if(!Al(a))return;if(i===o.length-1&&(Zl(a)||jl(a)||Dl(a)))n.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(a));else if(El(a)){r=!0;for(var s=0,c=a.length;s<c;s+=1)e(a[s],o,i+1)}else o.length&&e(a,o,i+1)}else n.push(t)}(e,Zl(t)?t.split("."):t,0),r?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1},Wl=Rl(Rl(Rl(Rl({},{isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:function(e,t){return e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1}}),{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1}),{location:0,threshold:.6,distance:100}),Hl),Gl=/[^ ]+/g;function ql(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=new Map,n=Math.pow(10,e);return{get:function(e){var r=e.match(Gl).length;if(t.has(r))return t.get(r);var o=1/Math.sqrt(r),i=parseFloat(Math.round(o*n)/n);return t.set(r,i),i},clear:function(){t.clear()}}}var Kl=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.getFn,r=void 0===n?Wl.getFn:n;(0,l.Z)(this,e),this.norm=ql(3),this.getFn=r,this.isCreated=!1,this.setIndexRecords()}return(0,u.Z)(e,[{key:"setSources",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.docs=e}},{key:"setIndexRecords",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.records=e}},{key:"setKeys",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.keys=t,this._keysMap={},t.forEach((function(t,n){e._keysMap[t.id]=n}))}},{key:"create",value:function(){var e=this;!this.isCreated&&this.docs.length&&(this.isCreated=!0,Zl(this.docs[0])?this.docs.forEach((function(t,n){e._addString(t,n)})):this.docs.forEach((function(t,n){e._addObject(t,n)})),this.norm.clear())}},{key:"add",value:function(e){var t=this.size();Zl(e)?this._addString(e,t):this._addObject(e,t)}},{key:"removeAt",value:function(e){this.records.splice(e,1);for(var t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}},{key:"getValueForItemAtKeyId",value:function(e,t){return e[this._keysMap[t]]}},{key:"size",value:function(){return this.records.length}},{key:"_addString",value:function(e,t){if(Al(e)&&!_l(e)){var n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}}},{key:"_addObject",value:function(e,t){var n=this,r={i:t,$:{}};this.keys.forEach((function(t,o){var i=n.getFn(e,t.path);if(Al(i))if(El(i))!function(){for(var e=[],t=[{nestedArrIndex:-1,value:i}];t.length;){var a=t.pop(),s=a.nestedArrIndex,c=a.value;if(Al(c))if(Zl(c)&&!_l(c)){var l={v:c,i:s,n:n.norm.get(c)};e.push(l)}else El(c)&&c.forEach((function(e,n){t.push({nestedArrIndex:n,value:e})}))}r.$[o]=e}();else if(!_l(i)){var a={v:i,n:n.norm.get(i)};r.$[o]=a}})),this.records.push(r)}},{key:"toJSON",value:function(){return{keys:this.keys,records:this.records}}}]),e}();function Yl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.getFn,o=void 0===r?Wl.getFn:r,i=new Kl({getFn:o});return i.setKeys(e.map(Ul)),i.setSources(t),i.create(),i}function Xl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.errors,r=void 0===n?0:n,o=t.currentLocation,i=void 0===o?0:o,a=t.expectedLocation,s=void 0===a?0:a,c=t.distance,l=void 0===c?Wl.distance:c,u=t.ignoreLocation,f=void 0===u?Wl.ignoreLocation:u,d=r/e.length;if(f)return d;var h=Math.abs(s-i);return l?d+h/l:h?1:d}function $l(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wl.minMatchCharLength,n=[],r=-1,o=-1,i=0,a=e.length;i<a;i+=1){var s=e[i];s&&-1===r?r=i:s||-1===r||((o=i-1)-r+1>=t&&n.push([r,o]),r=-1)}return e[i-1]&&i-r>=t&&n.push([r,i-1]),n}var Jl=32;function Ql(e){for(var t={},n=0,r=e.length;n<r;n+=1){var o=e.charAt(n);t[o]=(t[o]||0)|1<<r-n-1}return t}var eu=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.location,i=void 0===o?Wl.location:o,a=r.threshold,s=void 0===a?Wl.threshold:a,c=r.distance,u=void 0===c?Wl.distance:c,f=r.includeMatches,d=void 0===f?Wl.includeMatches:f,h=r.findAllMatches,p=void 0===h?Wl.findAllMatches:h,v=r.minMatchCharLength,m=void 0===v?Wl.minMatchCharLength:v,g=r.isCaseSensitive,y=void 0===g?Wl.isCaseSensitive:g,b=r.ignoreLocation,w=void 0===b?Wl.ignoreLocation:b;if((0,l.Z)(this,e),this.options={location:i,threshold:s,distance:u,includeMatches:d,findAllMatches:p,minMatchCharLength:m,isCaseSensitive:y,ignoreLocation:w},this.pattern=y?t:t.toLowerCase(),this.chunks=[],this.pattern.length){var x=function(e,t){n.chunks.push({pattern:e,alphabet:Ql(e),startIndex:t})},S=this.pattern.length;if(S>Jl){for(var C=0,k=S%Jl,O=S-k;C<O;)x(this.pattern.substr(C,Jl),C),C+=Jl;if(k){var P=S-Jl;x(this.pattern.substr(P),P)}}else x(this.pattern,0)}}return(0,u.Z)(e,[{key:"searchIn",value:function(e){var t=this.options,n=t.isCaseSensitive,r=t.includeMatches;if(n||(e=e.toLowerCase()),this.pattern===e){var o={isMatch:!0,score:0};return r&&(o.indices=[[0,e.length-1]]),o}var i=this.options,a=i.location,s=i.distance,c=i.threshold,l=i.findAllMatches,u=i.minMatchCharLength,f=i.ignoreLocation,d=[],h=0,p=!1;this.chunks.forEach((function(t){var n=t.pattern,o=t.alphabet,i=t.startIndex,v=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.location,i=void 0===o?Wl.location:o,a=r.distance,s=void 0===a?Wl.distance:a,c=r.threshold,l=void 0===c?Wl.threshold:c,u=r.findAllMatches,f=void 0===u?Wl.findAllMatches:u,d=r.minMatchCharLength,h=void 0===d?Wl.minMatchCharLength:d,p=r.includeMatches,v=void 0===p?Wl.includeMatches:p,m=r.ignoreLocation,g=void 0===m?Wl.ignoreLocation:m;if(t.length>Jl)throw new Error(Ll(Jl));for(var y,b=t.length,w=e.length,x=Math.max(0,Math.min(i,w)),S=l,C=x,k=h>1||v,O=k?Array(w):[];(y=e.indexOf(t,C))>-1;){var P=Xl(t,{currentLocation:y,expectedLocation:x,distance:s,ignoreLocation:g});if(S=Math.min(P,S),C=y+b,k)for(var M=0;M<b;)O[y+M]=1,M+=1}C=-1;for(var R=[],E=1,Z=b+w,j=1<<b-1,D=0;D<b;D+=1){for(var T=0,A=Z;T<A;){Xl(t,{errors:D,currentLocation:x+A,expectedLocation:x,distance:s,ignoreLocation:g})<=S?T=A:Z=A,A=Math.floor((Z-T)/2+T)}Z=A;var _=Math.max(1,x-A+1),I=f?w:Math.min(x+A,w)+b,N=Array(I+2);N[I+1]=(1<<D)-1;for(var L=I;L>=_;L-=1){var z=L-1,F=n[e.charAt(z)];if(k&&(O[z]=+!!F),N[L]=(N[L+1]<<1|1)&F,D&&(N[L]|=(R[L+1]|R[L])<<1|1|R[L+1]),N[L]&j&&(E=Xl(t,{errors:D,currentLocation:z,expectedLocation:x,distance:s,ignoreLocation:g}))<=S){if(S=E,(C=z)<=x)break;_=Math.max(1,2*x-C)}}if(Xl(t,{errors:D+1,currentLocation:x,expectedLocation:x,distance:s,ignoreLocation:g})>S)break;R=N}var U={isMatch:C>=0,score:Math.max(.001,E)};if(k){var V=$l(O,h);V.length?v&&(U.indices=V):U.isMatch=!1}return U}(e,n,o,{location:a+i,distance:s,threshold:c,findAllMatches:l,minMatchCharLength:u,includeMatches:r,ignoreLocation:f}),m=v.isMatch,g=v.score,y=v.indices;m&&(p=!0),h+=g,m&&y&&(d=[].concat((0,xa.Z)(d),(0,xa.Z)(y)))}));var v={isMatch:p,score:p?h/this.chunks.length:1};return p&&r&&(v.indices=d),v}}]),e}(),tu=function(){function e(t){(0,l.Z)(this,e),this.pattern=t}return(0,u.Z)(e,[{key:"search",value:function(){}}],[{key:"isMultiMatch",value:function(e){return nu(e,this.multiRegex)}},{key:"isSingleMatch",value:function(e){return nu(e,this.singleRegex)}}]),e}();function nu(e,t){var n=e.match(t);return n?n[1]:null}var ru=function(e){(0,f.Z)(n,e);var t=Pl(n);function n(e){return(0,l.Z)(this,n),t.call(this,e)}return(0,u.Z)(n,[{key:"search",value:function(e){var t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"exact"}},{key:"multiRegex",get:function(){return/^="(.*)"$/}},{key:"singleRegex",get:function(){return/^=(.*)$/}}]),n}(tu),ou=function(e){(0,f.Z)(n,e);var t=Pl(n);function n(e){return(0,l.Z)(this,n),t.call(this,e)}return(0,u.Z)(n,[{key:"search",value:function(e){var t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"$/}},{key:"singleRegex",get:function(){return/^!(.*)$/}}]),n}(tu),iu=function(e){(0,f.Z)(n,e);var t=Pl(n);function n(e){return(0,l.Z)(this,n),t.call(this,e)}return(0,u.Z)(n,[{key:"search",value:function(e){var t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"prefix-exact"}},{key:"multiRegex",get:function(){return/^\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^\^(.*)$/}}]),n}(tu),au=function(e){(0,f.Z)(n,e);var t=Pl(n);function n(e){return(0,l.Z)(this,n),t.call(this,e)}return(0,u.Z)(n,[{key:"search",value:function(e){var t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-prefix-exact"}},{key:"multiRegex",get:function(){return/^!\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^!\^(.*)$/}}]),n}(tu),su=function(e){(0,f.Z)(n,e);var t=Pl(n);function n(e){return(0,l.Z)(this,n),t.call(this,e)}return(0,u.Z)(n,[{key:"search",value:function(e){var t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}],[{key:"type",get:function(){return"suffix-exact"}},{key:"multiRegex",get:function(){return/^"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^(.*)\$$/}}]),n}(tu),cu=function(e){(0,f.Z)(n,e);var t=Pl(n);function n(e){return(0,l.Z)(this,n),t.call(this,e)}return(0,u.Z)(n,[{key:"search",value:function(e){var t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-suffix-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^!(.*)\$$/}}]),n}(tu),lu=function(e){(0,f.Z)(n,e);var t=Pl(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=o.location,a=void 0===i?Wl.location:i,s=o.threshold,c=void 0===s?Wl.threshold:s,u=o.distance,f=void 0===u?Wl.distance:u,d=o.includeMatches,h=void 0===d?Wl.includeMatches:d,p=o.findAllMatches,v=void 0===p?Wl.findAllMatches:p,m=o.minMatchCharLength,g=void 0===m?Wl.minMatchCharLength:m,y=o.isCaseSensitive,b=void 0===y?Wl.isCaseSensitive:y,w=o.ignoreLocation,x=void 0===w?Wl.ignoreLocation:w;return(0,l.Z)(this,n),(r=t.call(this,e))._bitapSearch=new eu(e,{location:a,threshold:c,distance:f,includeMatches:h,findAllMatches:v,minMatchCharLength:g,isCaseSensitive:b,ignoreLocation:x}),r}return(0,u.Z)(n,[{key:"search",value:function(e){return this._bitapSearch.searchIn(e)}}],[{key:"type",get:function(){return"fuzzy"}},{key:"multiRegex",get:function(){return/^"(.*)"$/}},{key:"singleRegex",get:function(){return/^(.*)$/}}]),n}(tu),uu=function(e){(0,f.Z)(n,e);var t=Pl(n);function n(e){return(0,l.Z)(this,n),t.call(this,e)}return(0,u.Z)(n,[{key:"search",value:function(e){for(var t,n=0,r=[],o=this.pattern.length;(t=e.indexOf(this.pattern,n))>-1;)n=t+o,r.push([t,n-1]);var i=!!r.length;return{isMatch:i,score:i?0:1,indices:r}}}],[{key:"type",get:function(){return"include"}},{key:"multiRegex",get:function(){return/^'"(.*)"$/}},{key:"singleRegex",get:function(){return/^'(.*)$/}}]),n}(tu),fu=[ru,uu,iu,au,cu,su,ou,lu],du=fu.length,hu=/ +(?=([^\"]*\"[^\"]*\")*[^\"]*$)/;function pu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.split("|").map((function(e){for(var n=e.trim().split(hu).filter((function(e){return e&&!!e.trim()})),r=[],o=0,i=n.length;o<i;o+=1){for(var a=n[o],s=!1,c=-1;!s&&++c<du;){var l=fu[c],u=l.isMultiMatch(a);u&&(r.push(new l(u,t)),s=!0)}if(!s)for(c=-1;++c<du;){var f=fu[c],d=f.isSingleMatch(a);if(d){r.push(new f(d,t));break}}}return r}))}var vu=new Set([lu.type,uu.type]),mu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.isCaseSensitive,o=void 0===r?Wl.isCaseSensitive:r,i=n.includeMatches,a=void 0===i?Wl.includeMatches:i,s=n.minMatchCharLength,c=void 0===s?Wl.minMatchCharLength:s,u=n.ignoreLocation,f=void 0===u?Wl.ignoreLocation:u,d=n.findAllMatches,h=void 0===d?Wl.findAllMatches:d,p=n.location,v=void 0===p?Wl.location:p,m=n.threshold,g=void 0===m?Wl.threshold:m,y=n.distance,b=void 0===y?Wl.distance:y;(0,l.Z)(this,e),this.query=null,this.options={isCaseSensitive:o,includeMatches:a,minMatchCharLength:c,findAllMatches:h,ignoreLocation:f,location:v,threshold:g,distance:b},this.pattern=o?t:t.toLowerCase(),this.query=pu(this.pattern,this.options)}return(0,u.Z)(e,[{key:"searchIn",value:function(e){var t=this.query;if(!t)return{isMatch:!1,score:1};var n=this.options,r=n.includeMatches;e=n.isCaseSensitive?e:e.toLowerCase();for(var o=0,i=[],a=0,s=0,c=t.length;s<c;s+=1){var l=t[s];i.length=0,o=0;for(var u=0,f=l.length;u<f;u+=1){var d=l[u],h=d.search(e),p=h.isMatch,v=h.indices,m=h.score;if(!p){a=0,o=0,i.length=0;break}if(o+=1,a+=m,r){var g=d.constructor.type;vu.has(g)?i=[].concat((0,xa.Z)(i),(0,xa.Z)(v)):i.push(v)}}if(o){var y={isMatch:!0,score:a/o};return r&&(y.indices=i),y}}return{isMatch:!1,score:1}}}],[{key:"condition",value:function(e,t){return t.useExtendedSearch}}]),e}(),gu=[];function yu(e,t){for(var n=0,r=gu.length;n<r;n+=1){var o=gu[n];if(o.condition(e,t))return new o(e,t)}return new eu(e,t)}var bu="$and",wu="$or",xu="$path",Su="$val",Cu=function(e){return!(!e[bu]&&!e[wu])},ku=function(e){return!!e[xu]},Ou=function(e){return!El(e)&&Tl(e)&&!Cu(e)},Pu=function(e){return(0,i.Z)({},bu,Object.keys(e).map((function(t){return(0,i.Z)({},t,e[t])})))};function Mu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.auto,o=void 0===r||r,i=function e(n){var r=Object.keys(n),i=ku(n);if(!i&&r.length>1&&!Cu(n))return e(Pu(n));if(Ou(n)){var a=i?n[xu]:r[0],s=i?n[Su]:n[a];if(!Zl(s))throw new Error(Nl(a));var c={keyId:Bl(a),pattern:s};return o&&(c.searcher=yu(s,t)),c}var l={children:[],operator:r[0]};return r.forEach((function(t){var r=n[t];El(r)&&r.forEach((function(t){l.children.push(e(t))}))})),l};return Cu(e)||(e=Pu(e)),i(e)}function Ru(e,t){var n=t.ignoreFieldNorm,r=void 0===n?Wl.ignoreFieldNorm:n;e.forEach((function(e){var t=1;e.matches.forEach((function(e){var n=e.key,o=e.norm,i=e.score,a=n?n.weight:null;t*=Math.pow(0===i&&a?Number.EPSILON:i,(a||1)*(r?1:o))})),e.score=t}))}function Eu(e,t){var n=e.matches;t.matches=[],Al(n)&&n.forEach((function(e){if(Al(e.indices)&&e.indices.length){var n={indices:e.indices,value:e.value};e.key&&(n.key=e.key.src),e.idx>-1&&(n.refIndex=e.idx),t.matches.push(n)}}))}function Zu(e,t){t.score=e.score}function ju(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.includeMatches,o=void 0===r?Wl.includeMatches:r,i=n.includeScore,a=void 0===i?Wl.includeScore:i,s=[];return o&&s.push(Eu),a&&s.push(Zu),e.map((function(e){var n=e.idx,r={item:t[n],refIndex:n};return s.length&&s.forEach((function(t){t(e,r)})),r}))}var Du=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;(0,l.Z)(this,e),this.options=Rl(Rl({},Wl),n),this.options.useExtendedSearch,this._keyStore=new Fl(this.options.keys),this.setCollection(t,r)}return(0,u.Z)(e,[{key:"setCollection",value:function(e,t){if(this._docs=e,t&&!(t instanceof Kl))throw new Error("Incorrect 'index' type");this._myIndex=t||Yl(this.options.keys,this._docs,{getFn:this.options.getFn})}},{key:"add",value:function(e){Al(e)&&(this._docs.push(e),this._myIndex.add(e))}},{key:"remove",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!1},t=[],n=0,r=this._docs.length;n<r;n+=1){var o=this._docs[n];e(o,n)&&(this.removeAt(n),n-=1,r-=1,t.push(o))}return t}},{key:"removeAt",value:function(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}},{key:"getIndex",value:function(){return this._myIndex}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.limit,r=void 0===n?-1:n,o=this.options,i=o.includeMatches,a=o.includeScore,s=o.shouldSort,c=o.sortFn,l=o.ignoreFieldNorm,u=Zl(e)?Zl(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return Ru(u,{ignoreFieldNorm:l}),s&&u.sort(c),jl(r)&&r>-1&&(u=u.slice(0,r)),ju(u,this._docs,{includeMatches:i,includeScore:a})}},{key:"_searchStringList",value:function(e){var t=yu(e,this.options),n=this._myIndex.records,r=[];return n.forEach((function(e){var n=e.v,o=e.i,i=e.n;if(Al(n)){var a=t.searchIn(n),s=a.isMatch,c=a.score,l=a.indices;s&&r.push({item:n,idx:o,matches:[{score:c,value:n,norm:i,indices:l}]})}})),r}},{key:"_searchLogical",value:function(e){var t=this,n=Mu(e,this.options),r=function e(n,r,o){if(!n.children){var i=n.keyId,a=n.searcher,s=t._findMatches({key:t._keyStore.get(i),value:t._myIndex.getValueForItemAtKeyId(r,i),searcher:a});return s&&s.length?[{idx:o,item:r,matches:s}]:[]}switch(n.operator){case bu:for(var c=[],l=0,u=n.children.length;l<u;l+=1){var f=e(n.children[l],r,o);if(!f.length)return[];c.push.apply(c,(0,xa.Z)(f))}return c;case wu:for(var d=[],h=0,p=n.children.length;h<p;h+=1){var v=e(n.children[h],r,o);if(v.length){d.push.apply(d,(0,xa.Z)(v));break}}return d}},o=this._myIndex.records,i={},a=[];return o.forEach((function(e){var t=e.$,o=e.i;if(Al(t)){var s=r(n,t,o);s.length&&(i[o]||(i[o]={idx:o,item:t,matches:[]},a.push(i[o])),s.forEach((function(e){var t,n=e.matches;(t=i[o].matches).push.apply(t,(0,xa.Z)(n))})))}})),a}},{key:"_searchObjectList",value:function(e){var t=this,n=yu(e,this.options),r=this._myIndex,o=r.keys,i=r.records,a=[];return i.forEach((function(e){var r=e.$,i=e.i;if(Al(r)){var s=[];o.forEach((function(e,o){s.push.apply(s,(0,xa.Z)(t._findMatches({key:e,value:r[o],searcher:n})))})),s.length&&a.push({idx:i,item:r,matches:s})}})),a}},{key:"_findMatches",value:function(e){var t=e.key,n=e.value,r=e.searcher;if(!Al(n))return[];var o=[];if(El(n))n.forEach((function(e){var n=e.v,i=e.i,a=e.n;if(Al(n)){var s=r.searchIn(n),c=s.isMatch,l=s.score,u=s.indices;c&&o.push({score:l,key:t,value:n,idx:i,norm:a,indices:u})}}));else{var i=n.v,a=n.n,s=r.searchIn(i),c=s.isMatch,l=s.score,u=s.indices;c&&o.push({score:l,key:t,value:i,norm:a,indices:u})}return o}}]),e}();Du.version="6.4.6",Du.createIndex=Yl,Du.parseIndex=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getFn,r=void 0===n?Wl.getFn:n,o=e.keys,i=e.records,a=new Kl({getFn:r});return a.setKeys(o),a.setIndexRecords(i),a},Du.config=Wl,Du.parseQuery=Mu,function(){gu.push.apply(gu,arguments)}(mu);var Tu=Du,Au=n(34314);function _u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Iu,Nu=function(e){(0,f.Z)(n,e);var t=_u(n);function n(){var e;return(0,l.Z)(this,n),(e=t.call(this)).id="",e.name="",e.iconComponent=void 0,e.assetPanelComponent=void 0,e.requiresAuthentication=!1,e.uploadSource=!1,e.searchDebounceTimeout=500,e}return(0,u.Z)(n,[{key:"search",value:function(){var e=(0,c.Z)(s().mark((function e(t,n,r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{results:[],suggestions:[],nextCursor:0,hasMore:!1});case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),n}(pi());function Lu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}function zu(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Fu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fu(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Fu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Uu(e,t){var n,r=zu(t);try{for(r.s();!(n=r.n()).done;){var o=n.value.value;if(-1===e.tags.indexOf(o))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}var Vu=(Iu={},(0,i.Z)(Iu,_n.Audio,AudioNode),(0,i.Z)(Iu,_n.Image,Js),(0,i.Z)(Iu,_n.Video,Bc),(0,i.Z)(Iu,_n.Volumetric,Yc),(0,i.Z)(Iu,_n.Model,cc),Iu),Bu=function(e){(0,f.Z)(n,e);var t=Lu(n);function n(e,r,o){var i;return(0,l.Z)(this,n),(i=t.call(this)).editor=e,i.id=o,i.name=r,i.manifestUrl=(0,Au.xy)(new URL(o,window.location).href),i.assets=[],i.tags=[],i.loaded=!1,i.searchDebounceTimeout=0,i}return(0,u.Z)(n,[{key:"load",value:function(){var e=(0,c.Z)(s().mark((function e(){var t,n,r,o,i,a,c,l,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.editor.api.fetchUrl(this.manifestUrl);case 2:return t=e.sent,e.next=5,t.json().catch((function(e){console.log(e)}));case 5:(n=e.sent).searchPlaceholder&&(this.searchPlaceholder=n.searchPlaceholder),r=zu(n.assets);try{for(r.s();!(o=r.n()).done;)i=o.value,a=(0,Au.xy)(new URL(i.url,this.manifestUrl).href),c=Vu[i.type],l=this.editor.nodeEditors.get(c),this.assets.push({id:i.id,label:i.label,url:a,tags:i.tags||[],type:i.type,iconComponent:l.iconComponent,nodeClass:c,initialProps:{name:i.label,src:a}})}catch(s){r.e(s)}finally{r.f()}this.tags=n.tags,u={shouldSort:!0,threshold:.6,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:["label","tags"]},this.fuse=new Tu(this.assets,u),this.loaded=!0;case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=(0,c.Z)(s().mark((function e(t,n,r){var o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.loaded){e.next=3;break}return e.next=3,this.load();case 3:return o=this.assets,t.tags&&t.tags.length>0&&(o=o.filter((function(e){return Uu(e,t.tags)}))),t.query&&(o=this.fuse.search(t.query)),e.abrupt("return",{results:o,hasMore:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),n}(Nu),Hu=null;function Wu(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Gu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gu(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Gu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Ku,Yu,Xu=new Yn.yGw,$u=(new Yn.yGw,new Yn.yGw),Ju=new Yn.yGw,Qu=new Yn.yGw,ef=new Yn._fP,tf=new Yn._fP,nf=new Yn.Pa4,rf=new Promise((function(e,t){Ku=e,Yu=t})),of=[],af=function(e){(0,f.Z)(n,e);var t=qu(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,l.Z)(this,n),(r=t.call(this)).update=function(){if(!r.disableUpdate){var e=r.clock.getDelta(),t=r.clock.getElapsedTime();r.scene.updateMatrixWorld(),r.inputManager.update(e,t);var n=r.renderer.renderMode.enableShadows;r.scene.traverse((function(o){n&&o.isDirectionalLight&&qa(o,r.scene),o.isNode&&o.onUpdate(e,t)})),r.flyControls.update(e),r.editorControls.update(),r.renderer.update(e,t),r.inputManager.reset()}r.rafId=requestAnimationFrame(r.update)},r.onResize=function(){r.inputManager.onResize(),r.renderer.onResize(),r.emit("resize")},r.onCopy=function(e){na()||(e.preventDefault(),r.selected.length>0&&e.clipboardData.setData("application/vnd.editor.nodes",JSON.stringify({nodeUUIDs:r.selected.map((function(e){return e.uuid}))})))},r.onPaste=function(e){var t;if(!na())if(e.preventDefault(),""!==(t=e.clipboardData.getData("application/vnd.editor.nodes"))){var n=JSON.parse(t).nodeUUIDs;if(!Array.isArray(n))return;var o=n.map((function(e){return r.scene.getObjectByUUID(e)})).filter((function(e){return void 0!==e}));r.duplicateMultiple(o,null,null)}else if(""!==(t=e.clipboardData.getData("text")))try{var i=new URL(t);r.addMedia(i.href,null,null).catch((function(e){return r.emit("error",e)}))}catch(a){console.warn("Clipboard contents did not contain a valid url")}},r.api=e,r.settings=o,r.project=null,r.selected=[],r.selectedTransformRoots=[],r.history=new Nr,r.renderer=null,r.inputManager=null,r.editorControls=null,r.flyControls=null,r.playModeControls=null,r.nodeTypes=new Set,r.nodeEditors=new Map,r.sources=[],r.defaultUploadSource=null,r.textureCache=new Er,r.gltfCache=new kr,r.scene=new Nc((0,Gn.Z)(r)),r.sceneModified=!1,r.projectLoaded=!1,r.camera=new Yn.cPb(80,window.innerWidth/window.innerHeight,.2,8e3),r.audioListener=new Yn.SJI,r.camera.add(r.audioListener),r.camera.layers.enable(1),r.camera.name="Camera",r.helperScene=new Yn.xsS,r.grid=new Dr,r.helperScene.add(r.grid),r.nodes=[r.scene],r.raycaster=new Yn.iMs,r.centerScreenSpace=new Yn.FM8,r.clock=new Yn.SUY,r.disableUpdate=!1,r.initializing=!1,r.initialized=!1,r.sceneLoading=!1,r}return(0,u.Z)(n,[{key:"registerNode",value:function(e,t){this.nodeTypes.add(e),this.nodeEditors.set(e,t)}},{key:"getNodeEditor",value:function(e){return this.nodeEditors.get(e.constructor)}},{key:"registerSource",value:function(e){this.sources.push(e),e.uploadSource&&!this.defaultUploadSource&&(this.defaultUploadSource=e)}},{key:"installAssetSource",value:function(){var e=(0,c.Z)(s().mark((function e(t){var n,r,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.api.proxyUrl(new URL(t,window.location).href),e.next=3,this.api.fetchUrl(n);case 3:return r=e.sent,e.next=6,r.json();case 6:o=e.sent,this.sources.push(new Bu(this,o.name,t)),this.emit("settingsChanged");case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSource",value:function(e){return this.sources.find((function(t){return t.id===e}))}},{key:"setSource",value:function(e){this.emit("setSource",e)}},{key:"emit",value:function(e){if(!this.sceneLoading){for(var t,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return(t=(0,qn.Z)((0,h.Z)(n.prototype),"emit",this)).call.apply(t,[this,e].concat(o)),!0}return!1}},{key:"init",value:function(){var e=(0,c.Z)(s().mark((function e(){var t,n,r,o,i=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.initialized){e.next=2;break}return e.abrupt("return");case 2:if(!this.initializing){e.next=4;break}return e.abrupt("return",new Promise((function(e,t){var n=null,r=function(){e(),n()},o=function(e){t(e),n()};n=function(){i.removeListener("initialized",r),i.removeListener("error",o)},i.addListener("initialized",r),i.addListener("error",o)})));case 4:this.initializing=!0,t=[rf,Hu||(Hu=new Promise((function(e,t){var n=["/cubemap/posx.jpg","/cubemap/negx.jpg","/cubemap/posy.jpg","/cubemap/negy.jpg","/cubemap/posz.jpg","/cubemap/negz.jpg"];Hu=(new Yn.cBK).load(n,(function(t){t.format=Yn.UCm,t,e(t)}),null,(function(e){return t(new va.mQ("Error loading cubemap images ".concat(n.map((function(e){return'"'.concat(e,'"')})).join(", ")),e))}))}))),Ir.load(),Ei.load()],n=Wu(this.nodeTypes);try{for(n.s();!(r=n.n()).done;)o=r.value,t.push(o.load())}catch(a){n.e(a)}finally{n.f()}return e.next=10,Promise.all(t);case 10:this.inputManager=new ha(this.renderer.canvas),this.flyControls=new Qi(this.camera,this.inputManager),this.editorControls=new Bi(this.camera,this,this.inputManager,this.flyControls),this.playModeControls=new pa(this.inputManager,this.editorControls,this.flyControls),this.editorControls.enable(),window.addEventListener("copy",this.onCopy),window.addEventListener("paste",this.onPaste),this.rafId=requestAnimationFrame(this.update),this.initialized=!0,this.emit("initialized");case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onEmitSceneModified",value:function(){this.sceneModified=!0,this.emit("sceneModified")}},{key:"initializeRenderer",value:function(e){try{this.renderer=new Cl(this,e),this.thumbnailRenderer=new Ol,Ku()}catch(t){Yu(t)}}},{key:"clearCaches",value:function(){this.textureCache.disposeAndClear(),this.gltfCache.disposeAndClear()}},{key:"loadProject",value:function(){var e=(0,c.Z)(s().mark((function e(t){var n,r,o,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.removeListener("objectsChanged",this.onEmitSceneModified),this.removeListener("sceneGraphChanged",this.onEmitSceneModified),this.clearCaches(),this.removeObject(this.scene),this.sceneLoading=!0,this.disableUpdate=!0,e.next=8,Nc.loadProject(this,t);case 8:if(n=e.sent,r=(0,Wn.Z)(n,2),o=r[0],i=r[1],this.sceneLoading=!1,this.disableUpdate=!1,this.scene=o,this.camera.position.set(0,5,10),this.camera.lookAt(new Yn.Pa4),this.scene.add(this.camera),this.editorControls.center.set(0,0,0),this.editorControls.onSceneSet(o),this.renderer.onSceneSet(),this.addObject(this.scene,null,null),this.deselectAll(),this.history.clear(),this.sceneModified=!1,this.scene.traverse((function(e){e.isNode&&e.onRendererChanged()})),0===i.length&&this.emit("projectLoaded"),this.emit("sceneGraphChanged"),this.addListener("objectsChanged",this.onEmitSceneModified),this.addListener("sceneGraphChanged",this.onEmitSceneModified),!(i.length>0)){e.next=34;break}throw a=new va.ki("Errors loading project",i),this.emit("error",a),a;case 34:return e.abrupt("return",o);case 35:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"exportScene",value:function(){var e=(0,c.Z)(s().mark((function e(t){var r,o,i,a,c,l,u,f,d,h,p,v,m,g,y,b,w,x,S,C,k,O,P,M,R,E,Z=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Z.length>1&&void 0!==Z[1]?Z[1]:{},o=Object.assign({},n.DefaultExportOptions,r),i=o.combineMeshes,a=o.removeUnusedObjects,this.deselectAll(!1),c=this.scene,!(l=c.findNodeByType(Ws))){e.next=14;break}return e.prev=6,e.next=9,l.generate(t);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),console.warn("Failed to generate floorplan",e.t0);case 14:u=Pi(c,!0),f=u.getAnimationClips(),d=Wu(f);try{for(d.s();!(h=d.n()).done;){p=h.value,v=Wu(p.tracks);try{for(v.s();!(m=v.n()).done;)g=m.value,y=Yn.iUV.parseTrackName(g.name),b=y.nodeName,u.getObjectByProperty("uuid",b)||(c.getObjectByProperty("uuid",b)?console.log("Couldn't find object with uuid: \"".concat(b,'" in cloned scene but was found in original scene!')):console.log("Couldn't find object with uuid: \"".concat(b,'" in cloned or original scene!')))}catch(s){v.e(s)}finally{v.f()}}}catch(s){d.e(s)}finally{d.f()}if(w={animations:f},u.prepareForExport(w),!i){e.next=23;break}return e.next=23,u.combineMeshes();case 23:return a&&u.removeUnusedObjects(),x=new Cr({mode:"glb",onlyVisible:!1,includeCustomExtensions:!0,animations:f}),e.prev=25,e.next=28,x.exportChunks(u);case 28:S=e.sent,e.next=34;break;case 31:throw e.prev=31,e.t1=e.catch(25),new va.mQ("Error exporting scene",e.t1);case 34:if(C=S.json,k=C.nodes)for(O={},P=0;P<k.length;P++)(M=k[P]).extras&&M.extras.XR3_editor_uuid&&(O[M.extras.XR3_editor_uuid]=P,delete M.extras.XR3_editor_uuid,ya(M.extras)&&delete M.extras);return e.prev=37,e.next=40,x.exportGLBBlob(S);case 40:return R=e.sent,r.scores&&(E=Ua(c,R,S)),e.abrupt("return",{glbBlob:R,chunks:S,scores:E});case 45:throw e.prev=45,e.t2=e.catch(37),new va.mQ("Error creating glb blob",e.t2);case 48:case"end":return e.stop()}}),e,this,[[6,11],[25,31],[37,45]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getSpawnPosition",value:function(e){return this.getScreenSpaceSpawnPosition(this.centerScreenSpace,e)}},{key:"getCursorSpawnPosition",value:function(e,t){var n=this.renderer.canvas.getBoundingClientRect(),r=new Yn.FM8;return r.x=(e.x-n.left)/n.width*2-1,r.y=(e.y-n.top)/n.height*-2+1,this.getScreenSpaceSpawnPosition(r,t)}},{key:"getScreenSpaceSpawnPosition",value:function(e,t){this.raycaster.setFromCamera(e,this.camera);var n=Ci(this.raycaster.intersectObject(this.scene,!0),this.scene);if(n&&n.distance<1e3?t.copy(n.point):this.raycaster.ray.at(20,t),this.editorControls.shouldSnap()){var r=this.editorControls.translationSnap;t.set(Math.round(t.x/r)*r,Math.round(t.y/r)*r,Math.round(t.z/r)*r)}}},{key:"reparentToSceneAtCursorPosition",value:function(e,t){var n=new Yn.Pa4;this.getCursorSpawnPosition(t,n),this.history.execute(new Co(this,e,this.scene,void 0,n))}},{key:"takeScreenshot",value:function(){var e=(0,c.Z)(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.renderer.takeScreenshot(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"generateFileThumbnail",value:function(){var e=(0,c.Z)(s().mark((function e(t,n,r){var o,i,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=URL.createObjectURL(t),console.log("URL IS"),console.log(o),!t.name.toLowerCase().endsWith(".glb")){e.next=13;break}return e.next=6,(0,Kn.Vb)(o);case 6:return a=e.sent,c=a.scene,e.next=10,this.thumbnailRenderer.generateThumbnail(c,n,r);case 10:i=e.sent,e.next=23;break;case 13:if(![".png",".jpg",".jpeg",".gif",".webp"].some((function(e){return t.name.toLowerCase().endsWith(e)}))){e.next=19;break}return e.next=16,Ya(t);case 16:i=e.sent,e.next=23;break;case 19:if(!t.name.toLowerCase().endsWith(".mp4")){e.next=23;break}return e.next=22,$a(t);case 22:i=e.sent;case 23:if(URL.revokeObjectURL(o),i){e.next=26;break}throw new Error('Unsupported file type for file: "'.concat(t.name,'". File must be an image, video, or glb model.'));case 26:return e.abrupt("return",i);case 27:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"enterPlayMode",value:function(){this.playing=!0,this.deselectAll(),this.camera.layers.disable(1),this.playModeControls.enable(),this.scene.traverse((function(e){e.isNode&&e.onPlay()})),this.emit("playModeChanged")}},{key:"leavePlayMode",value:function(){this.playing=!1,this.camera.layers.enable(1),this.playModeControls.disable(),this.scene.traverse((function(e){e.isNode&&e.onPause()})),this.emit("playModeChanged")}},{key:"revert",value:function(e){this.history.revert(e)}},{key:"undo",value:function(){this.history.undo()}},{key:"redo",value:function(){this.history.redo()}},{key:"select",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return-1!==this.selected.indexOf(e)?this.selected:(n&&this.emit("beforeSelectionChanged"),t?this.history.execute(new Lo(this,e)):(this.selected.push(e),e.isNode&&e.onSelect(),r&&this.updateTransformRoots(),n&&this.emit("selectionChanged"),this.selected))}},{key:"selectMultiple",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!1,i=0;i<e.length;i++)if(-1===this.selected.indexOf(e[i])){o=!0;break}if(!o)return this.selected;if(n&&this.emit("beforeSelectionChanged"),t)return this.history.execute(new Fo(this,e));for(var a=0;a<e.length;a++)this.select(e[a],!1,!1,!1);return n&&this.emit("selectionChanged"),r&&this.updateTransformRoots(),this.selected}},{key:"selectAll",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.setSelection(this.nodes,e,t,n)}},{key:"deselect",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this.selected.indexOf(e);return-1===o?this.selected:(n&&this.emit("beforeSelectionChanged"),t?this.history.execute(new Xr(this,e)):(this.selected.splice(o,1),e.isNode&&e.onDeselect(),n&&this.emit("selectionChanged"),r&&this.updateTransformRoots(),this.selected))}},{key:"deselectMultiple",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!1,i=0;i<e.length;i++)if(-1!==this.selected.indexOf(e[i])){o=!0;break}if(!o)return this.selected;if(n&&this.emit("beforeSelectionChanged"),t)return this.history.execute(new Jr(this,e));for(var a=0;a<e.length;a++)this.deselect(e[a],!1,!1,!1);return n&&this.emit("selectionChanged"),r&&this.updateTransformRoots(),this.selected}},{key:"deselectAll",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.setSelection([],e,t,n)}},{key:"toggleSelection",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return-1!==this.selected.indexOf(e)?this.deselect(e,t,n,r):this.select(e,t,n,r)}},{key:"setSelection",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e.length===this.selected.length){for(var o=!0,i=0;i<e.length;i++)if(this.selected[i]!==e[i]){o=!1;break}if(o)return this.selected}if(n&&this.emit("beforeSelectionChanged"),t)return this.history.execute(new ci(this,e));for(var a=this.selected.slice(0),s=this.selected.length-1;s>=0;s--){var c=this.selected.pop();c.isNode&&-1===e.indexOf(c)&&c.onDeselect()}for(var l=0;l<e.length;l++){var u=e[l];this.selected.push(u),u.isNode&&-1===a.indexOf(u)&&u.onSelect()}return n&&this.emit("selectionChanged"),r&&this.updateTransformRoots(),this.selected}},{key:"addObject",value:function(e,t,n){var r=this,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(i&&a&&this.emit("beforeSelectionChanged"),o)return this.history.execute(new Kr(this,e,t,n));if(e.saveParent=!0,t)if(n){var c=t.children.indexOf(n);if(-1===c)throw new Error("addObject: before object not found");t.children.splice(c,0,e),e.parent=t}else t.add(e);else e!==this.scene&&this.scene.add(e);return e.traverse((function(e){e.isNode&&(s&&wa(r.scene,e),e.onAdd(),r.nodes.push(e))})),e.updateMatrixWorld(!0),a&&this.setSelection([e],!1,!1),i&&(a&&this.emit("selectionChanged"),this.emit("sceneGraphChanged")),e}},{key:"addMultipleObjects",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(i&&o&&this.emit("beforeSelectionChanged"),r)return this.history.execute(new Gr(this,e,t,n));for(var s=ga(e),c=0;c<s.length;c++)this.addObject(s[c],t,n,!1,!1,!1,a);return i&&this.setSelection(e,!1,!1),o&&(i&&this.emit("selectionChanged"),this.emit("sceneGraphChanged")),s}},{key:"_addMultipleObjectsWithParentsAndBefores",value:function(e,t,n,r){for(var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=ga(e),a=i.length-1;a>=0;a--){var s=i[a],c=e.indexOf(s);this.addObject(s,t[c],n[c],!1,!1,!1)}this.nodes.length=0;for(var l=0;l<r.length;l++)this.nodes.push(r[l]);o&&this.emit("sceneGraphChanged")}},{key:"removeObject",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return null===e.parent?null:n?this.history.execute(new po(this,e)):(e.traverse((function(e){if(e.isNode){e.onRemove();var n=t.nodes.indexOf(e);if(-1===n)throw new Error("removeObject: node not found. This is due to removing a node that is no longer in the scene.");t.nodes.splice(n,1)}})),e.parent.remove(e),o&&this.deselect(e,!1,r),r&&this.emit("sceneGraphChanged"),e)}},{key:"removeMultipleObjects",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(this.getRootObjects(e,of),t)return this.history.execute(new fo(this,of));for(var o=0;o<of.length;o++)this.removeObject(of[o],!1,!1,!1);return r&&this.deselectMultiple(e,!1,n),n&&this.emit("sceneGraphChanged"),of}},{key:"removeSelectedObjects",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.removeMultipleObjects(this.selected,e,t,n)}},{key:"duplicate",value:function(e,t,n){var r=this,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(i&&a&&this.emit("beforeSelectionChanged"),o)return this.history.execute(new eo(this,e,t,n));if(e.constructor.canAddNode(this)){var s=e.clone();return s.traverse((function(e){e.isNode&&wa(r.scene,e)})),this.addObject(s,t||e.parent,n,!1,!1,!1),a&&this.setSelection([s],!1,!1,!1),this.updateTransformRoots(),i&&(a&&this.emit("selectionChanged"),this.emit("sceneGraphChanged")),s}}},{key:"duplicateMultiple",value:function(e,t,n){var r=this,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(i&&a&&this.emit("beforeSelectionChanged"),o)return this.history.execute(new no(this,e,t,n,a));var s=e.filter((function(e){return e.constructor.canAddNode(r)})),c=ga(s),l=c.map((function(e){return e.clone()}));if(t)this.addMultipleObjects(l,t,n,!1,!1,!1,!0);else for(var u=0;u<c.length;u++)this.addObject(l[u],c[u].parent,void 0,!1,!1,!1,!0);return a&&this.setSelection(l,!1,!1,!1),this.updateTransformRoots(),i&&(a&&this.emit("selectionChanged"),this.emit("sceneGraphChanged")),l}},{key:"duplicateSelected",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];this.duplicateMultiple(this.selected,e,t,n,r,o)}},{key:"reparent",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(!e.parent)throw new Error("".concat(e.nodeName||e.type,' "').concat(e.name,'" has no parent. Reparent only works on objects that are currently in the scene.'));if(!t)throw new Error("editor.reparent: newParent is undefined");if(o&&i&&this.emit("beforeSelectionChanged"),r)return this.history.execute(new mo(this,e,t,n));t!==e.parent&&(t.updateMatrixWorld(),Xu.getInverse(t.matrixWorld),e.parent.updateMatrixWorld(),Xu.multiply(e.parent.matrixWorld),e.applyMatrix(Xu),e.updateWorldMatrix(!1,!1));var a=e.parent.children.indexOf(e);if(e.parent.children.splice(a,1),n){var s=t.children.indexOf(n);t.children.splice(s,0,e)}else t.children.push(e);return e.parent=t,e.updateMatrixWorld(!0),i&&this.setSelection([e],!1,!1,!1),this.updateTransformRoots(),o&&(i&&this.emit("selectionChanged"),this.emit("sceneGraphChanged")),e}},{key:"reparentMultiple",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(o&&i&&this.emit("beforeSelectionChanged"),r)return this.history.execute(new yo(this,e,t,n));for(var a=0;a<e.length;a++)this.reparent(e[a],t,n,!1,!1,!1);return i&&this.setSelection(e,!1,!1,!1),this.updateTransformRoots(),o&&(i&&this.emit("selectionChanged"),this.emit("sceneGraphChanged")),e}},{key:"reparentSelected",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return this.reparentMultiple(this.selected,e,t,n,r,o)}},{key:"groupMultiple",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(o&&i&&this.emit("beforeSelectionChanged"),r)return this.history.execute(new io(this,e,t,n));for(var a=this.addObject(new qs(this),t,n,!1,!1,!1),s=0;s<e.length;s++)this.reparent(e[s],a,void 0,!1,!1,!1);return i&&this.setSelection([a],!1,!1,!1),this.updateTransformRoots(),o&&(i&&this.emit("selectionChanged"),this.emit("sceneGraphChanged")),a}},{key:"groupSelected",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return this.groupMultiple(this.selectedTransformRoots,e,t,n,r,o)}},{key:"setPosition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wo,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(r)return this.history.execute(new Vo(this,e,t,n));if(n===wo)e.position.copy(t);else{var i;if(e.updateMatrixWorld(),nf.copy(t),n===bo)i=e.parent.matrixWorld;else if(n===xo)if(this.selected.length>0){var a=this.selected[this.selected.length-1];a.updateMatrixWorld(),i=a.parent.matrixWorld}else i=Xu.identity();else i=n;Xu.getInverse(i),nf.applyMatrix4(Xu),e.position.copy(nf)}return e.updateMatrixWorld(!0),e.onChange("position"),o&&this.emit("objectsChanged",[e],"position"),e}},{key:"setPositionMultiple",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wo,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(r)return this.history.execute(new Ho(this,e,t,n));if(n===xo)if(this.selected.length>0){var i=this.selected[this.selected.length-1];i.updateMatrixWorld(),n=i.parent.matrixWorld}else n=Xu.identity().toString();for(var a=0;a<e.length;a++)this.setPosition(e[a],t,n,!1,!1);return o&&this.emit("objectsChanged",e,"position"),e}},{key:"setPositionSelected",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wo,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return this.setPositionMultiple(this.selectedTransformRoots,e,t,n,r)}},{key:"translate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wo,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(r)return this.history.execute(new ui(this,e,t,n));if(n===wo)e.position.add(t);else{var i;if(e.updateMatrixWorld(),nf.setFromMatrixPosition(e.matrixWorld),nf.add(t),n===bo)i=e.parent.matrixWorld;else if(n===xo)if(this.selected.length>0){var a=this.selected[this.selected.length-1];a.updateMatrixWorld(),i=a.parent.matrixWorld}else i=Xu.identity();else i=n;Xu.copy(i).invert(),nf.applyMatrix4(Xu),e.position.copy(nf)}return e.updateMatrixWorld(!0),e.onChange("position"),o&&this.emit("objectsChanged",[e],"position"),e}},{key:"translateMultiple",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wo,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(r)return this.history.execute(new di(this,e,t,n));if(n===xo)if(this.selected.length>0){var i=this.selected[this.selected.length-1];i.updateMatrixWorld(),n=i.parent.matrixWorld}else n=Xu.identity().toString();for(var a=0;a<e.length;a++)this.translate(e[a],t,n,!1,!1);return o&&this.emit("objectsChanged",e,"position"),e}},{key:"translateSelected",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wo,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return this.translateMultiple(this.selectedTransformRoots,e,t,n,r)}},{key:"setRotation",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wo,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(r)return this.history.execute(new ei(this,e,t,n));if(n===wo)e.rotation.copy(t);else{var i;if(e.updateMatrixWorld(),n===bo)i=e.parent.matrixWorld;else if(n===xo)if(this.selected.length>0){var a=this.selected[this.selected.length-1];a.updateMatrixWorld(),i=a.parent.matrixWorld}else i=Xu.identity();else i=n;var s=ef.setFromEuler(t),c=tf.setFromRotationMatrix(i).inverse(),l=c.multiply(s);e.quaternion.copy(l)}return e.updateMatrixWorld(!0),e.onChange("rotation"),o&&this.emit("objectsChanged",[e],"rotation"),e}},{key:"setRotationMultiple",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wo,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(r)return this.history.execute(new ni(this,e,t,n));if(n===xo)if(this.selected.length>0){var i=this.selected[this.selected.length-1];i.updateMatrixWorld(),n=i.parent.matrixWorld}else n=Xu.identity().toString();for(var a=0;a<e.length;a++)this.setRotation(e[a],t,n,!1,!1);return o&&this.emit("objectsChanged",e,"rotation"),e}},{key:"setRotationSelected",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wo,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return this.setRotationMultiple(this.selectedTransformRoots,e,t,n,r)}},{key:"rotateOnAxis",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:wo,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(o)return this.history.execute(new Zo(this,e,t,n,r));if(r===wo)e.rotateOnAxis(t,n);else if(r===bo)e.rotateOnWorldAxis(t,n);else{var a;if(e.updateMatrixWorld(),r===xo)if(this.selected.length>0){var s=this.selected[this.selected.length-1];s.updateMatrixWorld(),r=s.parent.matrixWorld}else r=Xu.identity().toString();else a=r;Xu.getInverse(a),nf.copy(t).applyMatrix4(Xu),e.rotateOnAxis(nf,n)}return e.updateMatrixWorld(!0),e.onChange("position"),i&&this.emit("objectsChanged",[e],"position"),e}},{key:"rotateOnAxisMultiple",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:wo,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(o)return this.history.execute(new Do(this,e,t,n,r));if(r===xo)if(this.selected.length>0){var a=this.selected[this.selected.length-1];a.updateMatrixWorld(),r=a.parent.matrixWorld}else r=Xu.identity().toString();for(var s=0;s<e.length;s++)this.rotateOnAxis(e[s],t,n,r,!1,!1);return i&&this.emit("objectsChanged",e,"rotation"),e}},{key:"rotateOnAxisSelected",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wo,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return this.rotateOnAxisMultiple(this.selectedTransformRoots,e,t,n,r,o)}},{key:"rotateAround",value:function(e,t,n,r){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(o)return this.history.execute(new Oo(this,e,t,n,r));e.updateMatrixWorld();var a=Xu.copy(e.matrixWorld),s=e.parent.matrixWorld.clone().invert(),c=$u.makeTranslation(-t.x,-t.y,-t.z),l=Ju.makeTranslation(t.x,t.y,t.z),u=Qu.makeRotationAxis(n,r);return a.premultiply(c).premultiply(u).premultiply(l).premultiply(s).decompose(e.position,e.quaternion,e.scale),e.updateMatrixWorld(),i&&this.emit("objectsChanged",[e],"matrix"),e}},{key:"rotateAroundMultiple",value:function(e,t,n,r){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(o)return this.history.execute(new Ro(this,e,t,n,r));for(var a=0;a<e.length;a++)this.rotateAround(e[a],t,n,r,!1,!1);return i&&this.emit("objectsChanged",e,"matrix"),e}},{key:"rotateAroundSelected",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return this.rotateAroundMultiple(this.selectedTransformRoots,e,t,n,r,o)}},{key:"scale",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wo,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return r?this.history.execute(new Ao(this,e,t,n)):(n!==bo||t.x===t.y&&t.x===t.z&&t.y===t.z||console.warn("Scaling an object in world space with a non-uniform scale is not supported"),e.scale.multiply(t),e.updateMatrixWorld(!0),e.onChange("scale"),o&&this.emit("objectsChanged",[e],"scale"),e)}},{key:"scaleMultiple",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wo,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(r)return this.history.execute(new Io(this,e,t,n));for(var i=0;i<e.length;i++)this.scale(e[i],t,n,!1,!1);return o&&this.emit("objectsChanged",e,"scale"),e}},{key:"scaleSelected",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wo,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return this.scaleMultiple(this.selectedTransformRoots,e,t,n,r)}},{key:"setScale",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wo,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(r)return this.history.execute(new oi(this,e,t,n));if(n===wo)nf.set(0===t.x?Number.EPSILON:t.x,0===t.y?Number.EPSILON:t.y,0===t.z?Number.EPSILON:t.z),e.scale.copy(nf);else{var i;if(e.updateMatrixWorld(),nf.copy(t),n===bo)i=e.parent.matrixWorld;else if(n===xo)if(this.selected.length>0){var a=this.selected[this.selected.length-1];a.updateMatrixWorld(),i=a.parent.matrixWorld}else i=Xu.identity();else i=n;Xu.getInverse(i),nf.applyMatrix4(Xu),nf.set(0===nf.x?Number.EPSILON:nf.x,0===nf.y?Number.EPSILON:nf.y,0===nf.z?Number.EPSILON:nf.z),e.scale.copy(nf)}return e.updateMatrixWorld(!0),e.onChange("scale"),o&&this.emit("objectsChanged",[e],"scale"),e}},{key:"setScaleMultiple",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wo,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(r)return this.history.execute(new ai(this,e,t,n));if(n===xo)if(this.selected.length>0){var i=this.selected[this.selected.length-1];i.updateMatrixWorld(),n=i.parent.matrixWorld}else n=Xu.identity().toString();for(var a=0;a<e.length;a++)this.setScale(e[a],t,n,!1,!1);return o&&this.emit("objectsChanged",e,"scale"),e}},{key:"setScaleSelected",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wo,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return this.setScaleMultiple(this.selectedTransformRoots,e,t,n,r)}},{key:"setProperty",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return r?this.history.execute(new Xo(this,e,t,n,i)):(n&&n.copy&&!i?e[t].copy(n):e[t]=n,e.onChange&&e.onChange(t),o&&this.emit("objectsChanged",[e],t),e)}},{key:"setPropertyMultiple",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(r)return this.history.execute(new Jo(this,e,t,n));for(var i=0;i<e.length;i++)this.setProperty(e[i],t,n,!1,!1);return o&&this.emit("objectsChanged",e,t),e}},{key:"setPropertySelected",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return this.setPropertyMultiple(this.selected,e,t,n,r)}},{key:"setProperties",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(n)return this.history.execute(new Go(this,e,t));for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=t[o];i&&i.copy?e[o].copy(i):e[o]=i}return e.onChange(),r&&this.emit("objectsChanged",[e]),e}},{key:"setPropertiesMultiple",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(n)return this.history.execute(new Ko(this,e,t));for(var o=0;o<e.length;o++)this.setProperties(e[o],t,!1,!1);return r&&this.emit("objectsChanged",e),e}},{key:"setPropertiesSelected",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.setPropertiesMultiple(this.selected,e,t,n)}},{key:"loadMaterialSlot",value:function(e,t,n,r){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return o?this.history.execute(new so(this,e,t,n,r)):(e.loadMaterialSlot(t,n,r).catch(console.error),e.onChange&&e.onChange("materialSlot"),i&&this.emit("objectsChanged",[e],"materialSlot"),e)}},{key:"loadMaterialSlotMultiple",value:function(e,t,n,r){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(o)return this.history.execute(new lo(this,e,t,n,r));var a,s=Wu(e);try{for(s.s();!(a=s.n()).done;){var c=a.value;c.loadMaterialSlot(t,n,r).catch(console.error),c.onChange&&c.onChange("materialSlot")}}catch(l){s.e(l)}finally{s.f()}return i&&this.emit("objectsChanged",e,"materialSlot"),e}},{key:"loadMaterialSlotSelected",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return this.loadMaterialSlotMultiple(this.selected,e,t,n,r,o)}},{key:"getRootObjects",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.length=0;var o=function o(i){if(-1===e.indexOf(i)||n&&!i.parent||r&&i.disableTransform)for(var a=i.children,s=0;s<a.length;s++){var c=a[s];c.isNode&&o(c)}else t.push(i)};return o(this.scene),t}},{key:"getTransformRoots",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.getRootObjects(e,t,!0,!0)}},{key:"updateTransformRoots",value:function(){this.getTransformRoots(this.selected,this.selectedTransformRoots)}},{key:"addMedia",value:function(){var e=(0,c.Z)(s().mark((function e(t,n,r){var o,i,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="",i=new URL(t),a=i.hostname,e.prev=2,e.next=5,this.api.getContentType(t);case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0="";case 8:o=e.t0,e.next=14;break;case 11:e.prev=11,e.t1=e.catch(2),console.warn("Couldn't fetch content type for url ".concat(t,". Using LinkNode instead."));case 14:if(!o.startsWith("model/gltf")){e.next=23;break}return c=new cc(this),this.getSpawnPosition(c.position),this.addObject(c,n,r),c.initialScale="fit",e.next=21,c.load(t);case 21:e.next=48;break;case 23:if(!o.startsWith("video/")&&"www.twitch.tv"!==a){e.next=31;break}return c=new Bc(this),this.getSpawnPosition(c.position),this.addObject(c,n,r),e.next=29,c.load(t);case 29:e.next=48;break;case 31:if(!o.startsWith("image/")){e.next=39;break}return c=new Js(this),this.getSpawnPosition(c.position),this.addObject(c,n,r),e.next=37,c.load(t);case 37:e.next=48;break;case 39:if(!o.startsWith("audio/")){e.next=47;break}return c=new gs(this),this.getSpawnPosition(c.position),this.addObject(c,n,r),e.next=45,c.load(t);case 45:e.next=48;break;case 47:t.contains(".drcs")?(console.log("Dracosis volumetric file detected"),c=new Yc(this),this.getSpawnPosition(c.position),this.addObject(c,n,r)):(c=new tc(this),this.getSpawnPosition(c.position),c.href=t,this.addObject(c,n,r));case 48:return e.abrupt("return",c);case 49:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"spawnGrabbedObject",value:function(e){this.editorControls.transformMode===Li.Placement&&this.removeSelectedObjects(),e.disableTransform||this.getSpawnPosition(e.position),this.addObject(e,null,null),e.disableTransform||this.editorControls.setTransformMode(Li.Placement,e.useMultiplePlacementMode)}},{key:"incrementGridHeight",value:function(){this.setGridHeight(this.grid.position.y+1.5)}},{key:"decrementGridHeight",value:function(){this.setGridHeight(this.grid.position.y-1.5)}},{key:"setGridHeight",value:function(e){this.grid.position.y=e,this.emit("gridHeightChanged",e)}},{key:"toggleGridVisible",value:function(){this.grid.visible=!this.grid.visible,this.emit("gridVisibilityChanged",this.grid.visible)}},{key:"dispose",value:function(){this.clearCaches(),this.renderer&&this.renderer.dispose()}}]),n}(pi());af.DefaultExportOptions={combineMeshes:!0,removeUnusedObjects:!0};var sf=y.createElement;function cf(){var e=(0,p.Z)(["\n  display: flex;\n  flex-direction: column;\n"]);return cf=function(){return e},e}function lf(){var e=(0,p.Z)(["\n  background-color: ",";\n  color: ",";\n  white-space: pre-wrap;\n  padding: 0 8px 8px;\n"]);return lf=function(){return e},e}function uf(){var e=(0,p.Z)(["\n  display: flex;\n  flex-direction: row;\n  align-items: left;\n  font-weight: bold;\n  color: ",";\n  padding: 0 8px 8px;\n  :last-child {\n    margin-left: auto;\n  }\n"]);return uf=function(){return e},e}function ff(){var e=(0,p.Z)(["\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n  width: 100%;\n  padding: 12px 0;\n  border-bottom: 1px solid ",";\n"]);return ff=function(){return e},e}var df=Vt.ZP.div(ff(),(function(e){return e.theme.border})),hf=Vt.ZP.div(uf(),(function(e){return e.theme.text2})),pf=Vt.ZP.div(lf(),(function(e){return e.theme.panel}),(function(e){return e.theme.text2})),vf=Vt.ZP.div(cf());var mf=function(e){var t=e.name,n=e.description,r=e.children,o=(0,sn.Z)(e,["name","description","children"]);return sf(df,o,sf(hf,null,t),n&&sf(pf,null,n.split("\\n").map((function(e,t){return sf(y.Fragment,{key:t},e,sf("br",null))}))),sf(vf,null,r))},gf=y.createElement;function yf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var bf=function(e){(0,f.Z)(n,e);var t=yf(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.node,n=e.description,r=e.children;return gf(mf,{name:t.nodeName,description:n},r)}}]),n}(y.Component),wf=y.createElement;function xf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Sf=function(e){(0,f.Z)(n,e);var t=xf(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"render",value:function(){return wf(bf,this.props)}}]),n}(y.Component),Cf=n(54522),kf=y.createElement;function Of(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}function Pf(){var e=(0,p.Z)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  position: relative;\n  overflow: hidden;\n"]);return Pf=function(){return e},e}function Mf(){var e=(0,p.Z)([""]);return Mf=function(){return e},e}function Rf(){var e=(0,p.Z)(["\n  margin-right: 8px;\n"]);return Rf=function(){return e},e}function Ef(){var e=(0,p.Z)(["\n  display: flex;\n  padding: 4px;\n  height: 24px;\n  align-items: center;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n"]);return Ef=function(){return e},e}function Zf(){var e=(0,p.Z)(["\n  position: relative;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  border-radius: 4px;\n  background-color: ",";\n  overflow: hidden;\n  user-select: none;\n"]);return Zf=function(){return e},e}var jf=Vt.ZP.div(Zf(),(function(e){return e.theme.panel})),Df=Vt.ZP.div(Ef()),Tf=Vt.ZP.div(Rf()),Af=Vt.ZP.div(Mf()),_f=Vt.ZP.div(Pf()),If=function(e){(0,f.Z)(n,e);var t=Of(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.title,r=e.children,o=e.toolbarContent,i=(0,sn.Z)(e,["icon","title","children","toolbarContent"]);return kf(jf,i,kf(Df,{className:"toolbar"},t&&kf(Tf,{as:t,size:12}),kf(Af,null,n),o),kf(_f,null,r))}}]),n}(y.Component);function Nf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Lf(e,t,n){var r=Nf(Tn(e,t,n),2),o=r[0],i=r[1];return jn((function(){var t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(i,{handlerIds:[t]})}),[e,i]),o}function zf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ff=!1,Uf=!1,Vf=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sourceId=null,this.internalMonitor=t.getMonitor()}var t,n,r;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.sourceId=e}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){oe(!Ff,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Ff=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Ff=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;oe(!Uf,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Uf=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Uf=!1}}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"isDraggingSource",value:function(e){return this.internalMonitor.isDraggingSource(e)}},{key:"isOverTarget",value:function(e,t){return this.internalMonitor.isOverTarget(e,t)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(e){return this.internalMonitor.subscribeToOffsetChange(e)}},{key:"canDragSource",value:function(e){return this.internalMonitor.canDragSource(e)}},{key:"canDropOnTarget",value:function(e){return this.internalMonitor.canDropOnTarget(e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&zf(t.prototype,n),r&&zf(t,r),e}();function Bf(e,t){"function"===typeof e?e(t):e.current=t}function Hf(e,t){var n=e.ref;return oe("string"!==typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),n?(0,y.cloneElement)(e,{ref:function(e){Bf(n,e),Bf(t,e)}}):(0,y.cloneElement)(e,{ref:t})}function Wf(e){if("string"!==typeof e.type){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(t," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}function Gf(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{var o=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(0,y.isValidElement)(t)){var r=t;return e(r,n),r}var o=t;return Wf(o),Hf(o,n?function(t){return e(t,n)}:e)}}(r);t[n]=function(){return o}}})),t}function qf(e){return(qf="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kf(e){return null!==e&&"object"===qf(e)&&e.hasOwnProperty("current")}function Yf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Xf=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hooks=Gf({dragSource:function(e,t){n.clearDragSource(),n.dragSourceOptions=t||null,Kf(e)?n.dragSourceRef=e:n.dragSourceNode=e,n.reconnectDragSource()},dragPreview:function(e,t){n.clearDragPreview(),n.dragPreviewOptions=t||null,Kf(e)?n.dragPreviewRef=e:n.dragPreviewNode=e,n.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}var t,n,r;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}},{key:"reconnect",value:function(){this.reconnectDragSource(),this.reconnectDragPreview()}},{key:"reconnectDragSource",value:function(){var e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();t&&this.disconnectDragSource(),this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)):this.lastConnectedDragSource=e)}},{key:"reconnectDragPreview",value:function(){var e=this.dragPreview,t=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();this.handlerId?this.dragPreview&&t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=e,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.disconnectDragPreview(),this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,e,this.dragPreviewOptions)):this.disconnectDragPreview()}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!Zn(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!Zn(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(e){this.dragSourceOptionsInternal=e}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(e){this.dragPreviewOptionsInternal=e}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}}])&&Yf(t.prototype,n),r&&Yf(t,r),e}();function $f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Jf(e){return(Jf="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ed(e){var t=(0,y.useRef)(e);t.current=e,oe(null!=e.item,"item must be defined"),oe(null!=e.item.type,"item type must be defined");var n=Qf(function(){var e=En();return[(0,y.useMemo)((function(){return new Vf(e)}),[e]),(0,y.useMemo)((function(){return new Xf(e.getBackend())}),[e])]}(),2),r=n[0],o=n[1];!function(e,t,n){var r=En(),o=(0,y.useMemo)((function(){return{beginDrag:function(){var n=e.current,r=n.begin,o=n.item;if(r){var i=r(t);return oe(null==i||"object"===Jf(i),"dragSpec.begin() must either return an object, undefined, or null"),i||o||{}}return o||{}},canDrag:function(){return"boolean"===typeof e.current.canDrag?e.current.canDrag:"function"!==typeof e.current.canDrag||e.current.canDrag(t)},isDragging:function(n,r){var o=e.current.isDragging;return o?o(t):r===n.getSourceId()},endDrag:function(){var r=e.current.end;r&&r(t.getItem(),t),n.reconnect()}}}),[]);jn((function(){var i=$f(function(e,t,n){var r=n.getRegistry(),o=r.addSource(e,t);return[o,function(){return r.removeSource(o)}]}(e.current.item.type,o,r),2),a=i[0],s=i[1];return t.receiveHandlerId(a),n.receiveHandlerId(a),s}),[])}(t,r,o);var i=Lf(r,t.current.collect||function(){return{}},(function(){return o.reconnect()})),a=(0,y.useMemo)((function(){return o.hooks.dragSource()}),[o]),s=(0,y.useMemo)((function(){return o.hooks.dragPreview()}),[o]);return jn((function(){o.dragSourceOptions=t.current.options||null,o.reconnect()}),[o]),jn((function(){o.dragPreviewOptions=t.current.previewOptions||null,o.reconnect()}),[o]),[i,a,s]}function td(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var nd=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hooks=Gf({dropTarget:function(e,t){n.clearDropTarget(),n.dropTargetOptions=t,Kf(e)?n.dropTargetRef=e:n.dropTargetNode=e,n.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}var t,n,r;return t=e,(n=[{key:"reconnect",value:function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}},{key:"receiveHandlerId",value:function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!Zn(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}},{key:"connectTarget",get:function(){return this.dropTarget}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}}])&&td(t.prototype,n),r&&td(t,r),e}();function rd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var od,id=!1,ad=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.targetId=null,this.internalMonitor=t.getMonitor()}var t,n,r;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.targetId=e}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;oe(!id,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return id=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{id=!1}}},{key:"isOver",value:function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&rd(t.prototype,n),r&&rd(t,r),e}();function sd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function cd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ld(e){var t=(0,y.useRef)(e);t.current=e,oe(null!=e.accept,"accept must be defined");var n=cd(function(){var e=En();return[(0,y.useMemo)((function(){return new ad(e)}),[e]),(0,y.useMemo)((function(){return new nd(e.getBackend())}),[e])]}(),2),r=n[0],o=n[1];!function(e,t,n){var r=En(),o=(0,y.useMemo)((function(){return{canDrop:function(){var n=e.current.canDrop;return!n||n(t.getItem(),t)},hover:function(){var n=e.current.hover;n&&n(t.getItem(),t)},drop:function(){var n=e.current.drop;if(n)return n(t.getItem(),t)}}}),[t]);jn((function(){var i=sd(function(e,t,n){var r=n.getRegistry(),o=r.addTarget(e,t);return[o,function(){return r.removeTarget(o)}]}(e.current.accept,o,r),2),a=i[0],s=i[1];return t.receiveHandlerId(a),n.receiveHandlerId(a),s}),[t,n])}(t,r,o);var i=Lf(r,t.current.collect||function(){return{}},(function(){return o.reconnect()})),a=(0,y.useMemo)((function(){return o.hooks.dropTarget()}),[o]);return jn((function(){o.dropTargetOptions=e.options||null,o.reconnect()}),[e.options]),[i,a]}function ud(){return od||((od=new Image).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),od}var fd=n(87400),dd=n(84770),hd=n(54340);function pd(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var vd=function(e,t){var n;void 0===t&&(t=pd);var r,o=[],i=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return i&&n===this&&t(a,o)||(r=e.apply(this,a),i=!0,n=this,o=a),r}},md=n(48071),gd="object"===typeof performance&&"function"===typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function yd(e){cancelAnimationFrame(e.id)}function bd(e,t){var n=gd();var r={id:requestAnimationFrame((function o(){gd()-n>=t?e.call(null):r.id=requestAnimationFrame(o)}))};return r}var wd=null;function xd(e){if(void 0===e&&(e=!1),null===wd||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),o=r.style;return o.width="100px",o.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?wd="positive-descending":(t.scrollLeft=1,wd=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),wd}return wd}var Sd=function(e,t){return e};function Cd(e){var t,n,r=e.getItemOffset,o=e.getEstimatedTotalSize,i=e.getItemSize,a=e.getOffsetForIndexAndAlignment,s=e.getStartIndexForOffset,c=e.getStopIndexForStartIndex,l=e.initInstanceProps,u=e.shouldResetStyleCacheOnItemSizeChange,f=e.validateProps;return n=t=function(e){function t(t){var n;return(n=e.call(this,t)||this)._instanceProps=l(n.props,(0,hd.Z)((0,hd.Z)(n))),n._outerRef=void 0,n._resetIsScrollingTimeoutId=null,n.state={instance:(0,hd.Z)((0,hd.Z)(n)),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"===typeof n.props.initialScrollOffset?n.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},n._callOnItemsRendered=void 0,n._callOnItemsRendered=vd((function(e,t,r,o){return n.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:r,visibleStopIndex:o})})),n._callOnScroll=void 0,n._callOnScroll=vd((function(e,t,r){return n.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:r})})),n._getItemStyle=void 0,n._getItemStyle=function(e){var t,o=n.props,a=o.direction,s=o.itemSize,c=o.layout,l=n._getItemStyleCache(u&&s,u&&c,u&&a);if(l.hasOwnProperty(e))t=l[e];else{var f=r(n.props,e,n._instanceProps),d=i(n.props,e,n._instanceProps),h="horizontal"===a||"horizontal"===c,p="rtl"===a,v=h?f:0;l[e]=t={position:"absolute",left:p?void 0:v,right:p?v:void 0,top:h?0:f,height:h?"100%":d,width:h?d:"100%"}}return t},n._getItemStyleCache=void 0,n._getItemStyleCache=vd((function(e,t,n){return{}})),n._onScrollHorizontal=function(e){var t=e.currentTarget,r=t.clientWidth,o=t.scrollLeft,i=t.scrollWidth;n.setState((function(e){if(e.scrollOffset===o)return null;var t=n.props.direction,a=o;if("rtl"===t)switch(xd()){case"negative":a=-o;break;case"positive-descending":a=i-r-o}return a=Math.max(0,Math.min(a,i-r)),{isScrolling:!0,scrollDirection:e.scrollOffset<o?"forward":"backward",scrollOffset:a,scrollUpdateWasRequested:!1}}),n._resetIsScrollingDebounced)},n._onScrollVertical=function(e){var t=e.currentTarget,r=t.clientHeight,o=t.scrollHeight,i=t.scrollTop;n.setState((function(e){if(e.scrollOffset===i)return null;var t=Math.max(0,Math.min(i,o-r));return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}}),n._resetIsScrollingDebounced)},n._outerRefSetter=function(e){var t=n.props.outerRef;n._outerRef=e,"function"===typeof t?t(e):null!=t&&"object"===typeof t&&t.hasOwnProperty("current")&&(t.current=e)},n._resetIsScrollingDebounced=function(){null!==n._resetIsScrollingTimeoutId&&yd(n._resetIsScrollingTimeoutId),n._resetIsScrollingTimeoutId=bd(n._resetIsScrolling,150)},n._resetIsScrolling=function(){n._resetIsScrollingTimeoutId=null,n.setState({isScrolling:!1},(function(){n._getItemStyleCache(-1,null)}))},n}(0,dd.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return kd(e,t),f(e),null};var n=t.prototype;return n.scrollTo=function(e){e=Math.max(0,e),this.setState((function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},n.scrollToItem=function(e,t){void 0===t&&(t="auto");var n=this.props.itemCount,r=this.state.scrollOffset;e=Math.max(0,Math.min(e,n-1)),this.scrollTo(a(this.props,e,t,r,this._instanceProps))},n.componentDidMount=function(){var e=this.props,t=e.direction,n=e.initialScrollOffset,r=e.layout;if("number"===typeof n&&null!=this._outerRef){var o=this._outerRef;"horizontal"===t||"horizontal"===r?o.scrollLeft=n:o.scrollTop=n}this._callPropsCallbacks()},n.componentDidUpdate=function(){var e=this.props,t=e.direction,n=e.layout,r=this.state,o=r.scrollOffset;if(r.scrollUpdateWasRequested&&null!=this._outerRef){var i=this._outerRef;if("horizontal"===t||"horizontal"===n)if("rtl"===t)switch(xd()){case"negative":i.scrollLeft=-o;break;case"positive-ascending":i.scrollLeft=o;break;default:var a=i.clientWidth,s=i.scrollWidth;i.scrollLeft=s-a-o}else i.scrollLeft=o;else i.scrollTop=o}this._callPropsCallbacks()},n.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&yd(this._resetIsScrollingTimeoutId)},n.render=function(){var e=this.props,t=e.children,n=e.className,r=e.direction,i=e.height,a=e.innerRef,s=e.innerElementType,c=e.innerTagName,l=e.itemCount,u=e.itemData,f=e.itemKey,d=void 0===f?Sd:f,h=e.layout,p=e.outerElementType,v=e.outerTagName,m=e.style,g=e.useIsScrolling,b=e.width,w=this.state.isScrolling,x="horizontal"===r||"horizontal"===h,S=x?this._onScrollHorizontal:this._onScrollVertical,C=this._getRangeToRender(),k=C[0],O=C[1],P=[];if(l>0)for(var M=k;M<=O;M++)P.push((0,y.createElement)(t,{data:u,key:d(M,u),index:M,isScrolling:g?w:void 0,style:this._getItemStyle(M)}));var R=o(this.props,this._instanceProps);return(0,y.createElement)(p||v||"div",{className:n,onScroll:S,ref:this._outerRefSetter,style:(0,fd.Z)({position:"relative",height:i,width:b,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:r},m)},(0,y.createElement)(s||c||"div",{children:P,ref:a,style:{height:x?"100%":R,pointerEvents:w?"none":void 0,width:x?R:"100%"}}))},n._callPropsCallbacks=function(){if("function"===typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],n=e[1],r=e[2],o=e[3];this._callOnItemsRendered(t,n,r,o)}if("function"===typeof this.props.onScroll){var i=this.state,a=i.scrollDirection,s=i.scrollOffset,c=i.scrollUpdateWasRequested;this._callOnScroll(a,s,c)}},n._getRangeToRender=function(){var e=this.props,t=e.itemCount,n=e.overscanCount,r=this.state,o=r.isScrolling,i=r.scrollDirection,a=r.scrollOffset;if(0===t)return[0,0,0,0];var l=s(this.props,a,this._instanceProps),u=c(this.props,l,a,this._instanceProps),f=o&&"backward"!==i?1:Math.max(1,n),d=o&&"forward"!==i?1:Math.max(1,n);return[Math.max(0,l-f),Math.max(0,Math.min(t-1,u+d)),l,u]},t}(y.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},n}var kd=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},Od=Cd({getItemOffset:function(e,t){return t*e.itemSize},getItemSize:function(e,t){return e.itemSize},getEstimatedTotalSize:function(e){var t=e.itemCount;return e.itemSize*t},getOffsetForIndexAndAlignment:function(e,t,n,r){var o=e.direction,i=e.height,a=e.itemCount,s=e.itemSize,c=e.layout,l=e.width,u="horizontal"===o||"horizontal"===c?l:i,f=Math.max(0,a*s-u),d=Math.min(f,t*s),h=Math.max(0,t*s-u+s);switch("smart"===n&&(n=r>=h-u&&r<=d+u?"auto":"center"),n){case"start":return d;case"end":return h;case"center":var p=Math.round(h+(d-h)/2);return p<Math.ceil(u/2)?0:p>f+Math.floor(u/2)?f:p;case"auto":default:return r>=h&&r<=d?r:r<h?h:d}},getStartIndexForOffset:function(e,t){var n=e.itemCount,r=e.itemSize;return Math.max(0,Math.min(n-1,Math.floor(t/r)))},getStopIndexForStartIndex:function(e,t,n){var r=e.direction,o=e.height,i=e.itemCount,a=e.itemSize,s=e.layout,c=e.width,l=t*a,u="horizontal"===r||"horizontal"===s?c:o,f=Math.ceil((u+n-l)/a);return Math.max(0,Math.min(i-1,t+f-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}});function Pd(e,t){for(var n in e)if(!(n in t))return!0;for(var r in t)if(e[r]!==t[r])return!0;return!1}function Md(e,t){var n=e.style,r=(0,md.Z)(e,["style"]),o=t.style,i=(0,md.Z)(t,["style"]);return!Pd(n,o)&&!Pd(r,i)}function Rd(e){var t;t="undefined"!==typeof window?window:"undefined"!==typeof self?self:n.g;var r="undefined"!==typeof document&&document.attachEvent;if(!r){var o=function(){var e=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||function(e){return t.setTimeout(e,20)};return function(t){return e(t)}}(),i=function(){var e=t.cancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelAnimationFrame||t.clearTimeout;return function(t){return e(t)}}(),a=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,o=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,o.style.width=n.offsetWidth+1+"px",o.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},s=function(e){if(!(e.target.className&&"function"===typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;a(this),this.__resizeRAF__&&i(this.__resizeRAF__),this.__resizeRAF__=o((function(){(function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height})(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(n){n.call(t,e)})))}))}},c=!1,l="",u="animationstart",f="Webkit Moz O ms".split(" "),d="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),h=document.createElement("fakeelement");if(void 0!==h.style.animationName&&(c=!0),!1===c)for(var p=0;p<f.length;p++)if(void 0!==h.style[f[p]+"AnimationName"]){l="-"+f[p].toLowerCase()+"-",u=d[p],c=!0;break}var v="resizeanim",m="@"+l+"keyframes "+v+" { from { opacity: 0; } to { opacity: 0; } } ",g=l+"animation: 1ms "+v+"; "}return{addResizeListener:function(n,o){if(r)n.attachEvent("onresize",o);else{if(!n.__resizeTriggers__){var i=n.ownerDocument,c=t.getComputedStyle(n);c&&"static"==c.position&&(n.style.position="relative"),function(t){if(!t.getElementById("detectElementResize")){var n=(m||"")+".resize-triggers { "+(g||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',r=t.head||t.getElementsByTagName("head")[0],o=t.createElement("style");o.id="detectElementResize",o.type="text/css",null!=e&&o.setAttribute("nonce",e),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(t.createTextNode(n)),r.appendChild(o)}}(i),n.__resizeLast__={},n.__resizeListeners__=[],(n.__resizeTriggers__=i.createElement("div")).className="resize-triggers";var l=i.createElement("div");l.className="expand-trigger",l.appendChild(i.createElement("div"));var f=i.createElement("div");f.className="contract-trigger",n.__resizeTriggers__.appendChild(l),n.__resizeTriggers__.appendChild(f),n.appendChild(n.__resizeTriggers__),a(n),n.addEventListener("scroll",s,!0),u&&(n.__resizeTriggers__.__animationListener__=function(e){e.animationName==v&&a(n)},n.__resizeTriggers__.addEventListener(u,n.__resizeTriggers__.__animationListener__))}n.__resizeListeners__.push(o)}},removeResizeListener:function(e,t){if(r)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",s,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(u,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(n){}}}}}var Ed=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Zd=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),jd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dd=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},Td=function(e){function t(){var e,n,r;Ed(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=Dd(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={height:r.props.defaultHeight||0,width:r.props.defaultWidth||0},r._onResize=function(){var e=r.props,t=e.disableHeight,n=e.disableWidth,o=e.onResize;if(r._parentNode){var i=r._parentNode.offsetHeight||0,a=r._parentNode.offsetWidth||0,s=window.getComputedStyle(r._parentNode)||{},c=parseInt(s.paddingLeft,10)||0,l=parseInt(s.paddingRight,10)||0,u=parseInt(s.paddingTop,10)||0,f=parseInt(s.paddingBottom,10)||0,d=i-u-f,h=a-c-l;(!t&&r.state.height!==d||!n&&r.state.width!==h)&&(r.setState({height:i-u-f,width:a-c-l}),o({height:i,width:a}))}},r._setRef=function(e){r._autoSizer=e},Dd(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Zd(t,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=Rd(e),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.disableHeight,o=e.disableWidth,i=e.style,a=this.state,s=a.height,c=a.width,l={overflow:"visible"},u={},f=!1;return r||(0===s&&(f=!0),l.height=0,u.height=s),o||(0===c&&(f=!0),l.width=0,u.width=c),(0,y.createElement)("div",{className:n,ref:this._setRef,style:jd({},l,i)},!f&&t(u))}}]),t}(y.PureComponent);Td.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}};var Ad=Td,_d=n(50422),Id=n.n(_d),Nd=n(5391),Ld=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 192 512"},e,{ref:t}),y.createElement("path",{fill:"currentColor",d:"M0 384.662V127.338c0-17.818 21.543-26.741 34.142-14.142l128.662 128.662c7.81 7.81 7.81 20.474 0 28.284L34.142 398.804C21.543 411.404 0 402.48 0 384.662z"}))}));Ld.displayName="CaretRight";var zd=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 320 512"},e,{ref:t}),y.createElement("path",{fill:"currentColor",d:"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"}))}));zd.displayName="CaretDown";var Fd=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 640 512"},e,{ref:t}),y.createElement("path",{fill:"currentColor",d:"M384 320H256c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h128c17.67 0 32-14.33 32-32V352c0-17.67-14.33-32-32-32zM192 32c0-17.67-14.33-32-32-32H32C14.33 0 0 14.33 0 32v128c0 17.67 14.33 32 32 32h95.72l73.16 128.04C211.98 300.98 232.4 288 256 288h.28L192 175.51V128h224V64H192V32zM608 0H480c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h128c17.67 0 32-14.33 32-32V32c0-17.67-14.33-32-32-32z"}))}));Fd.displayName="ProjectDiagram";var Ud=n(90588);function Vd(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Bd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bd(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Bd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,y.useContext)($t),n=(0,y.useContext)(Kt),r=n.showDialog,o=n.hideDialog,i=void 0!==e.multiple&&e.multiple,a=e.source||t.defaultUploadSource,l=e.accepts||Ud.XM,u=(0,y.useCallback)(function(){var e=(0,c.Z)(s().mark((function e(t){var n,c,u,f,d,h,p,v,m;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],e.prev=1,i||!(t.length>1)){e.next=4;break}throw new Error("Input does not accept multiple files.");case 4:if(!l){e.next=47;break}c=Vd(t),e.prev=6,c.s();case 8:if((u=c.n()).done){e.next=39;break}f=u.value,d=!1,h=Vd(l),e.prev=12,h.s();case 14:if((p=h.n()).done){e.next=27;break}if(!(v=p.value).startsWith(".")){e.next=22;break}if(!f.name.endsWith(v)){e.next=20;break}return d=!0,e.abrupt("break",27);case 20:e.next=25;break;case 22:if(!f.type.startsWith(v)){e.next=25;break}return d=!0,e.abrupt("break",27);case 25:e.next=14;break;case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(12),h.e(e.t0);case 32:return e.prev=32,h.f(),e.finish(32);case 35:if(d){e.next=37;break}throw new Error('"'.concat(f.name,'" does not match the following mime types or extensions: ').concat(l.join(", ")));case 37:e.next=8;break;case 39:e.next=44;break;case 41:e.prev=41,e.t1=e.catch(6),c.e(e.t1);case 44:return e.prev=44,c.f(),e.finish(44);case 47:return m=new AbortController,r(kn.i,{title:"Uploading Files",message:"Uploading files 1 of ".concat(t.length,": 0%"),cancelable:!0,onCancel:function(){m.abort(),o()}}),e.next=51,a.upload(t,(function(e,t,n){r(kn.i,{title:"Uploading Files",message:"Uploading files: ".concat(e," of ").concat(t,": ").concat(Math.round(100*n),"%"),cancelable:!0,onCancel:function(){m.abort(),o()}})}),m.signal);case 51:n=e.sent,o(),e.next=60;break;case 55:return e.prev=55,e.t2=e.catch(1),console.error(e.t2),r(vn,{title:"Upload Error",message:"Error uploading file: ".concat(e.t2.message||"There was an unknown error."),error:e.t2}),e.abrupt("return",null);case 60:return e.abrupt("return",n);case 61:case"end":return e.stop()}}),e,null,[[1,55],[6,41,44,47],[12,29,32,35]])})));return function(t){return e.apply(this,arguments)}}(),[r,o,a,i,l,t]);return u}var Wd=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 576 512"},e,{ref:t}),y.createElement("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"}))}));Wd.displayName="ExclamationTriangle";var Gd=n(9531);function qd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Kd=function(e){(0,f.Z)(n,e);var t=qd(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this,e)).el=document.createElement("div"),r}return(0,u.Z)(n,[{key:"componentDidMount",value:function(){document.body.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){try{this.el&&document.body.removeChild(this.el)}catch(e){console.warn("Error removing Portal element: ".concat(e))}}},{key:"render",value:function(){return(0,Gd.createPortal)(this.props.children,this.el)}}]),n}(y.Component),Yd=y.createElement;function Xd(){var e=(0,p.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n"]);return Xd=function(){return e},e}var $d="top",Jd="top-left",Qd="top-right",eh="bottom",th="bottom-left",nh="bottom-right",rh="left",oh="right",ih=function(e,t){var n=e.width,r=e.height,o=t.left,i=t.top,a=Math.ceil(o),s=Math.ceil(i);return{width:n,height:r,left:a,top:s,right:a+n,bottom:s+r}},ah=function(e){switch(e){case Jd:return th;case $d:default:return eh;case Qd:return nh;case th:return Jd;case eh:return $d;case nh:return Qd}},sh=function(e){switch(e){case Jd:case $d:case Qd:return!0;default:return!1}};function ch(e){var t=e.position,n=e.dimensions,r=e.targetRect,o=e.targetOffset,i=e.viewport,a=e.viewportOffset,s=void 0===a?8:a;if(function(e){switch(e){case rh:case oh:return!0;default:return!1}}(t)){var c=lh({position:rh,dimensions:n,targetRect:r,targetOffset:o}),l=lh({position:oh,dimensions:n,targetRect:r,targetOffset:o}),u=function(e,t){return e.left>t}(c,s),f=function(e,t,n){return e.right<t.width-n}(l,i,s);if(t===rh){if(u)return{position:t,rect:c};if(f)return{position:oh,rect:l}}if(t===oh){if(f)return{position:t,rect:l};if(u)return{position:rh,rect:c}}return Math.abs(i.width-s-l.right)<Math.abs(c.left-s)?{position:oh,rect:l}:{position:rh,rect:c}}var d,h,p=sh(t);p?(d=lh({position:t,dimensions:n,targetRect:r,targetOffset:o}),h=lh({position:ah(t),dimensions:n,targetRect:r,targetOffset:o})):(d=lh({position:ah(t),dimensions:n,targetRect:r,targetOffset:o}),h=lh({position:t,dimensions:n,targetRect:r,targetOffset:o}));var v=function(e,t){return e.top>t}(d,s),m=function(e,t,n){return e.bottom<t.height-n}(h,i,s);if(p){if(v)return{position:t,rect:d};if(m)return{position:ah(t),rect:h}}if(!p){if(m)return{position:t,rect:h};if(v)return{position:ah(t),rect:d}}return Math.abs(i.height-s-h.bottom)<Math.abs(d.top-s)?{position:p?ah(t):t,rect:h}:{position:p?t:ah(t),rect:d}}function lh(e){var t=e.position,n=e.targetOffset,r=e.dimensions,o=e.targetRect,i=o.left+o.width/2-r.width/2,a=o.top-r.height-n,s=o.bottom+n,c=o.right-r.width,l=o.top+o.height/2-r.height/2;switch(t){case rh:return ih(r,{left:o.left-r.width-n,top:l});case oh:return ih(r,{left:o.right+n,top:l});case $d:return ih(r,{left:i,top:a});case Jd:return ih(r,{left:o.left,top:a});case Qd:return ih(r,{left:c,top:a});default:case eh:return ih(r,{left:i,top:s});case th:return ih(r,{left:o.left,top:s});case nh:return ih(r,{left:c,top:s})}}var uh=Vt.ZP.div.attrs((function(e){return{style:{transform:e.transform,transformOrigin:e.transformOrigin,opacity:e.opacity}}}))(Xd());function fh(e){var t=e.children,n=e.position,r=e.padding,i=e.getTargetRef,a=(0,sn.Z)(e,["children","position","padding","getTargetRef"]),s=(0,y.useRef)(),c=(0,y.useState)({finalPosition:n,transform:"translate(0px,0px)",transformOrigin:"initial",opacity:0}),l=c[0],u=c[1];(0,y.useEffect)((function(){var e=function(){var e=s.current.getBoundingClientRect(),t=i().current.getBoundingClientRect(),o=document.documentElement.clientHeight,a=document.documentElement.clientWidth,c=ch({position:n,targetRect:t,targetOffset:r,dimensions:{width:e.width,height:e.height},viewport:{width:a,height:o},viewportOffset:r}),l=c.rect,f=c.position,d=c.transformOrigin;u({finalPosition:f,transformOrigin:d,transform:"translate(".concat(l.left,"px, ").concat(l.top,"px)"),opacity:1})};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[n,r,i,u]);var f=y.Children.map(t,(function(e){return(0,y.cloneElement)(e,{position:l.finalPosition})}));return Yd(uh,(0,o.Z)({},a,l,{ref:s}),f)}function dh(){var e=(0,y.useState)(!1),t=e[0],n=e[1],r=(0,y.useRef)(null),o=function(){return n(!0)},i=function(){return n(!1)};return(0,y.useEffect)((function(){var e=r.current;if(e)return e.addEventListener("mouseenter",o),e.addEventListener("mouseleave",i),function(){e.removeEventListener("mouseenter",o),e.removeEventListener("mouseleave",i)}}),[r.current]),[r,t]}fh.defaultProps={padding:8,position:"bottom"};var hh=y.createElement;function ph(){var e=(0,p.Z)(["\n  display: inline-block;\n  pointer-events: none;\n  background-color: rgba(21, 23, 27, 0.9);\n  border-radius: 3px;\n  font-size: 13px;\n  padding: 8px;\n  max-width: 200px;\n  overflow: hidden;\n  overflow-wrap: break-word;\n  user-select: none;\n  text-align: center;\n  white-space: pre-wrap;\n}\n"]);return ph=function(){return e},e}function vh(){var e=(0,p.Z)(["\n  display: inherit;\n"]);return vh=function(){return e},e}var mh=Vt.ZP.div(vh());function gh(e){var t=e.children,n=e.padding,r=e.position,i=e.renderContent,a=(e.disabled,(0,sn.Z)(e,["children","padding","position","renderContent","disabled"])),s=dh(),c=(0,Wn.Z)(s,2),l=c[0],u=c[1],f=(0,y.useCallback)((function(){return l}),[l]);return hh(mh,(0,o.Z)({ref:l},a),t,u&&hh(Kd,null,hh(fh,{getTargetRef:f,padding:n,position:r},i())))}var yh=Vt.ZP.div(ph());function bh(e){var t=e.info,n=e.children,r=(0,sn.Z)(e,["info","children"]);return t?hh(gh,(0,o.Z)({},r,{renderContent:function(){return hh(yh,null,t)}}),n):hh("div",r,n)}var wh=y.createElement;function xh(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Sh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sh(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Sh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ch(){var e=(0,p.Z)(["\n  color: ",";\n"]);return Ch=function(){return e},e}function kh(){var e=(0,p.Z)(['\n  display: inline-block;\n  pointer-events: none;\n  background-color: rgba(21, 23, 27, 0.9);\n  border-radius: 3px;\n  padding: 8px;\n  max-width: 320px;\n  overflow: hidden;\n  overflow-wrap: break-word;\n  user-select: none;\n\n  h6 {\n    font-size: 14px;\n  }\n\n  ul {\n    margin-top: 4px;\n  }\n\n  li {\n    margin-bottom: 4px;\n    margin-left: 4px;\n    font-family: "Lucida Console", Monaco, monospace;\n    font-size: 12px;\n  }\n']);return kh=function(){return e},e}var Oh=Vt.ZP.div(kh()),Ph=(0,Vt.ZP)(Wd)(Ch(),(function(e){return e.color}));function Mh(e){var t,n=e.node,r=(0,y.useContext)(Vt.Ni),o=(0,y.useMemo)((function(){return{warning:r.yellow,error:r.red}}),[r]),i=(0,y.useCallback)((function(){return wh(Oh,null,wh("h6",null,"Issues:"),wh("ul",null,n.issues.map((function(e,t){return wh("li",{key:t},wh(Ph,{size:12,color:o[e.severity]})," ",e.message)}))))}),[n,o]),a="warning",s=xh(n.issues);try{for(s.s();!(t=s.n()).done;){if("error"===t.value.severity){a="error";break}}}catch(c){s.e(c)}finally{s.f()}return wh(gh,{renderContent:i},wh(Ph,{size:14,color:o[a]}))}var Rh=y.createElement;function Eh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eh(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jh=s().mark(hp);function Dh(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Th(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Th(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Th(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ah(){var e=(0,p.Z)(["\n  position: relative;\n  height: 15px;\n"]);return Ah=function(){return e},e}function _h(){var e=(0,p.Z)(["\n  position: absolute;\n  top: -3px;\n  background-color: ",";\n  color: ",";\n  border: ",";\n  padding: 2px 4px;\n"]);return _h=function(){return e},e}function Ih(){var e=(0,p.Z)(["\n  height: 4px;\n  box-sizing: content-box;\n  ",";\n  margin-left: ","px;\n"]);return Ih=function(){return e},e}function Nh(){var e=(0,p.Z)(["\n  background-color: ",";\n  color: ",";\n  border-radius: 4px;\n  padding: 0 2px;\n"]);return Nh=function(){return e},e}function Lh(){var e=(0,p.Z)(["\n  width: 12px;\n  height: 12px;\n  margin: 2px 4px;\n"]);return Lh=function(){return e},e}function zh(){var e=(0,p.Z)(["\n  width: 20px;\n"]);return zh=function(){return e},e}function Fh(){var e=(0,p.Z)(["\n  padding: 2px 4px;\n  margin: 0 4px;\n\n  :hover {\n    color: ",";\n    background-color: ",";\n    border-radius: 3px;\n  }\n"]);return Fh=function(){return e},e}function Uh(){var e=(0,p.Z)(["\n  outline: none;\n  display: flex;\n  padding-right: 8px;\n  padding-left: ",";\n"]);return Uh=function(){return e},e}function Vh(){var e=(0,p.Z)(["\n  display: flex;\n  flex: 1;\n"]);return Vh=function(){return e},e}function Bh(){var e=(0,p.Z)(["\n  display: flex;\n  flex: 1;\n  padding: 2px 4px 2px 0;\n"]);return Bh=function(){return e},e}function Hh(){var e=(0,p.Z)(["\n  display: flex;\n  flex-direction: column;\n  outline: none;\n  overflow: hidden;\n\n  background-color: ",";\n  border-bottom: ",";\n\n  color: ",";\n\n  :hover,\n  :focus {\n    background-color: ",";\n    color: ",";\n  }\n\n  :active {\n    background-color: ",";\n    color: ",";\n  }\n"]);return Hh=function(){return e},e}function Wh(){var e=(0,p.Z)([""]);return Wh=function(){return e},e}function Gh(){var e=(0,p.Z)(["\n  outline: none;\n  user-select: none;\n  width: 100%;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  color: ",";\n  flex: 1;\n"]);return Gh=function(){return e},e}var qh={multiple:!0,accepts:Ud.XM};function Kh(e){return e.node}var Yh=Vt.ZP.div(Gh(),(function(e){return e.theme.text2})),Xh=Vt.ZP.li(Wh());function $h(e,t){return t.nodes[e].object.id}function Jh(e){return"hierarchy-node-"+e.id}var Qh=Vt.ZP.div(Hh(),(function(e){var t=e.root,n=e.selected,r=e.active,o=e.theme;return n?r?o.bluePressed:o.selected:t?o.panel2:o.panel}),(function(e){return e.root?e.theme.borderStyle:"none"}),(function(e){return e.selected||e.focused?e.theme.text:e.theme.text2}),(function(e){return e.selected?e.theme.blueHover:e.theme.hover}),(function(e){return e.theme.text}),(function(e){return e.theme.bluePressed}),(function(e){return e.theme.text})),ep=Vt.ZP.div(Bh()),tp=Vt.ZP.div(Vh()),np=Vt.ZP.div(Uh(),(function(e){return 8*e.depth+2+"px"})),rp=Vt.ZP.div(Fh(),(function(e){return e.theme.text}),(function(e){return e.theme.hover2})),op=Vt.ZP.div(zh()),ip=Vt.ZP.div(Lh()),ap=Vt.ZP.div(Nh(),(function(e){return e.isOver&&e.canDrop?"rgba(255, 255, 255, 0.3)":"transparent"}),(function(e){return e.isOver&&e.canDrop?e.theme.text:"inherit"}));var sp=Vt.ZP.div(Ih(),(function(e){var t=e.isOver,n=e.canDrop,r=e.position;return t&&n?"border-".concat("before"===r?"top":"bottom",": 2px solid rgba(255, 255, 255, 0.3)"):""}),(function(e){return e.depth>0?8*e.depth+20:0})),cp=Vt.ZP.input(_h(),(function(e){return e.theme.inputBackground}),(function(e){return e.theme.text}),(function(e){return e.theme.borderStyle})),lp=Vt.ZP.div(Ah());function up(e,t){return!ma(e,(function(e){return e!==t}))}function fp(e){var t=e.index,n=e.data,r=n.nodes,o=n.renamingNode,i=n.onToggle,a=n.onKeyDown,s=n.onMouseDown,c=n.onClick,l=n.onChangeName,u=n.onRenameSubmit,f=n.onUpload,d=e.style,h=r[t],p=h.isLeaf,v=h.object,m=h.depth,g=h.selected,b=h.active,w=h.iconComponent,x=h.isCollapsed,S=h.childIndex,C=h.lastChild,k=(0,y.useContext)($t),O=(0,y.useCallback)((function(e){e.stopPropagation(),i&&i(e,h)}),[i,h]),P=(0,y.useCallback)((function(e){e.stopPropagation(),a&&a(e,h)}),[a,h]),M=(0,y.useCallback)((function(e){"Escape"===e.key?u(h,null):"Enter"===e.key&&u(h,e.target.value)}),[u,h]),R=(0,y.useCallback)((function(e){c(e,h)}),[h,c]),E=(0,y.useCallback)((function(e){s(e,h)}),[h,s]),Z=(0,y.useCallback)((function(e){l(h,e.target.value)}),[h,l]),j=(0,y.useCallback)((function(e){u(h,e.target.value)}),[u,h]),D=o&&o.id===h.id,T=ed({item:{type:_n.Node},begin:function(){var e=k.selected.length>1;return{type:_n.Node,multiple:e,value:e?k.selected:k.selected[0]}},canDrag:function(){return!k.selected.some((function(e){return!e.parent}))},collect:function(e){return{isDragging:!!e.isDragging()}}}),A=(0,Wn.Z)(T,3),_=(A[0],A[1]),I=A[2];(0,y.useEffect)((function(){I(ud(),{captureDraggingState:!0})}),[I]);var N=ld({accept:[_n.Node,_n.File].concat((0,xa.Z)(In)),drop:function(e){e.files?f(e.files).then((function(e){if(e){var t,n=Dh(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;k.addMedia(r.url,v.parent,v)}}catch(o){n.e(o)}finally{n.f()}}})):Ln(k,e,v.parent,v)||(e.multiple?k.reparentMultiple(e.value,v.parent,v):k.reparent(e.value,v.parent,v))},canDrop:function(e,t){return!(!t.isOver()||!v.parent)&&(!!Nn(e)||(e.type!==_n.Node||v.parent&&!(e.multiple?e.value.some((function(e){return up(e,v)})):up(e.value,v))))},collect:function(e){return{canDropBefore:e.canDrop(),isOverBefore:e.isOver()}}}),L=(0,Wn.Z)(N,2),z=L[0],F=z.canDropBefore,U=z.isOverBefore,V=L[1],B=ld({accept:[_n.Node,_n.File].concat((0,xa.Z)(In)),drop:function(e){var t=!C&&v.parent.children[S+1];e.files?f(e.files).then((function(e){if(e){var n,r=Dh(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;k.addMedia(o.url,v.parent,t)}}catch(i){r.e(i)}finally{r.f()}}})):Ln(k,e,v.parent,t)||(e.multiple?k.reparentMultiple(e.value,v.parent,t):k.reparent(e.value,v.parent,t))},canDrop:function(e,t){return!(!t.isOver()||!v.parent)&&(!!Nn(e)||(e.type!==_n.Node||v.parent&&!(e.multiple?e.value.some((function(e){return up(e,v)})):up(e.value,v))))},collect:function(e){return{canDropAfter:e.canDrop(),isOverAfter:e.isOver()}}}),H=(0,Wn.Z)(B,2),W=H[0],G=W.canDropAfter,q=W.isOverAfter,K=H[1],Y=ld({accept:[_n.Node,_n.File].concat((0,xa.Z)(In)),drop:function(e){e.files?f(e.files).then((function(e){if(e){var t,n=Dh(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;k.addMedia(r.url,v)}}catch(o){n.e(o)}finally{n.f()}}})):Ln(k,e,v)||(e.multiple?k.reparentMultiple(e.value,v):k.reparent(e.value,v))},canDrop:function(e,t){return!!t.isOver()&&(!!Nn(e)||(e.type!==_n.Node||!(e.multiple?e.value.some((function(e){return up(e,v)})):up(e.value,v))))},collect:function(e){return{canDropOn:e.canDrop(),isOverOn:e.isOver()}}}),X=(0,Wn.Z)(Y,2),$=X[0],J=$.canDropOn,Q=$.isOverOn,ee=X[1];return Rh(Xh,{style:d},Rh(Cf.W4,{holdToDisplay:-1,id:"hierarchy-node-menu",node:h,collect:Kh},Rh(Qh,{ref:_,id:Jh(h),onMouseDown:E,onClick:R,tabIndex:"0",onKeyDown:P,root:0===m,selected:g,active:b},Rh(sp,{ref:V,depth:m,position:"before",canDrop:F,isOver:U}),Rh(np,{depth:m,ref:ee},p?Rh(op,null):Rh(rp,{collapsed:x,onClick:O},Rh(x?Ld:zd,{size:12})),Rh(ep,null,Rh(ip,{as:w}),Rh(tp,null,D?Rh(lp,null,Rh(cp,{type:"text",onChange:Z,onKeyDown:M,onBlur:j,value:o.name,autoFocus:!0})):Rh(ap,{canDrop:J,isOver:Q},v.name)),h.object.issues.length>0&&Rh(Mh,{node:h.object}))),Rh(sp,{depth:m,ref:K,position:"after",canDrop:G,isOver:q}))))}var dp=(0,y.memo)(fp,Md);function hp(e,t){var n,r,o,i,a,c,l,u,f,d,h;return s().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:(n=[]).push({depth:0,object:e.scene,childIndex:0,lastChild:!0});case 2:if(0===n.length){s.next=12;break}return r=n.pop(),o=r.depth,i=r.object,a=r.childIndex,c=r.lastChild,l=e.getNodeEditor(i)||Sf,u=l.iconComponent,f=t[i.id],s.next=9,{id:i.id,isLeaf:0===i.children.filter((function(e){return e.isNode})).length,isCollapsed:f,depth:o,object:i,iconComponent:u,selected:-1!==e.selected.indexOf(i),active:e.selected.length>0&&i===e.selected[e.selected.length-1],childIndex:a,lastChild:c};case 9:if(0!==i.children.length&&!f)for(d=i.children.length-1;d>=0;d--)(h=i.children[d]).isNode&&n.push({depth:o+1,object:h,childIndex:d,lastChild:0===d});s.next=2;break;case 12:case"end":return s.stop()}}),jh)}function pp(){var e=(0,y.useContext)($t),t=Hd(qh),n=(0,y.useState)(null),r=n[0],o=n[1],a=(0,y.useState)({}),s=a[0],c=a[1],l=(0,y.useState)([]),u=l[0],f=l[1],d=(0,y.useCallback)((function(){f(Array.from(hp(e,s)))}),[e,s]),h=(0,y.useCallback)((function(e){delete s[e.id],c(Zh({},s))}),[s]),p=(0,y.useCallback)((function(e){c(Zh(Zh({},s),{},(0,i.Z)({},e.id,!0)))}),[c,s]),m=(0,y.useCallback)((function(e){e.object.traverse((function(e){e.isNode&&delete s[e.id]})),c(Zh({},s))}),[c,s]),g=(0,y.useCallback)((function(e){e.object.traverse((function(e){e.isNode&&(s[e.id]=!0)})),c(Zh({},s))}),[c,s]),b=(0,y.useCallback)((function(){c({})}),[c]),w=(0,y.useCallback)((function(){var t={};e.scene.traverse((function(e){e.isNode&&(t[e.id]=!0)})),c(t)}),[e,c]),x=(0,y.useCallback)((function(e,t){"name"!==t&&t||d()}),[d]);(0,y.useEffect)((function(){return e.addListener("sceneGraphChanged",d),e.addListener("selectionChanged",d),e.addListener("objectsChanged",x),function(){e.removeListener("sceneGraphChanged",d),e.removeListener("selectionChanged",d),e.removeListener("objectsChanged",x)}}),[e,d,x]);var S=(0,y.useCallback)((function(t,n){1===t.detail&&(t.shiftKey?e.toggleSelection(n.object):n.selected||e.setSelection([n.object]))}),[e]),C=(0,y.useCallback)((function(t,n){2===t.detail?e.editorControls.focus([n.object]):t.shiftKey||e.setSelection([n.object])}),[e]),k=(0,y.useCallback)((function(e,t){s[t.id]?h(t):p(t)}),[s,h,p]),O=(0,y.useCallback)((function(t,n){if("ArrowDown"===t.key){t.preventDefault();var r=u.indexOf(n),o=-1!==r&&u[r+1];if(o){t.shiftKey&&e.select(o.object);var i=document.getElementById(Jh(o));i&&i.focus()}}else if("ArrowUp"===t.key){t.preventDefault();var a=u.indexOf(n),s=-1!==a&&u[a-1];if(s){t.shiftKey&&e.select(s.object);var c=document.getElementById(Jh(s));c&&c.focus()}}else"ArrowLeft"===t.key&&n.object.children.filter((function(e){return e.isNode})).length>0?t.shiftKey?g(n):p(n):"ArrowRight"===t.key&&n.object.children.filter((function(e){return e.isNode})).length>0?t.shiftKey?m(n):n.object.children.filter((function(e){return e.isNode})).length>0&&h(n):"Enter"===t.key&&(t.shiftKey?e.toggleSelection(n.object):e.setSelection([n.object]))}),[u,e,h,p,m,g]),P=(0,y.useCallback)((function(t,n){n.selected?e.removeSelectedObjects():e.removeObject(n.object)}),[e]),M=(0,y.useCallback)((function(t,n){n.selected?e.duplicateSelected():e.duplicate(n.object)}),[e]),R=(0,y.useCallback)((function(t,n){n.selected?e.groupSelected():e.groupMultiple([n.object])}),[e]),E=(0,y.useCallback)((function(e,t){o({id:t.id,name:t.object.name})}),[o]),Z=(0,y.useCallback)((function(e,t){o({id:e.id,name:t})}),[o]),j=(0,y.useCallback)((function(t,n){null!==n&&e.setProperty(t.object,"name",n),o(null)}),[e]),D=ld({accept:[_n.Node,_n.File].concat((0,xa.Z)(In)),drop:function(n,r){r.didDrop()||(n.files?t(n.files).then((function(t){if(t){var n,r=Dh(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;e.addMedia(o.url)}}catch(i){r.e(i)}finally{r.f()}}})):Ln(e,n)||(n.multiple?e.reparentMultiple(n.value,e.scene):e.reparent(n.value,e.scene)))},canDrop:function(t,n){return!!n.isOver({shallow:!0})&&(!!Nn(t)||(t.type!==_n.Node||!(t.multiple?t.value.some((function(t){return up(t,e.scene)})):up(t.value,e.scene))))}}),T=(0,Wn.Z)(D,2)[1];return(0,y.useEffect)((function(){d()}),[s,d]),Rh(If,{id:"hierarchy-panel",title:"Hierarchy",icon:Fd},Rh(Yh,null,e.scene&&Rh(Ad,null,(function(e){var n=e.height,o=e.width;return Rh(Od,{height:n,width:o,itemSize:32,itemCount:u.length,itemData:{renamingNode:r,nodes:u,onKeyDown:O,onChangeName:Z,onRenameSubmit:j,onMouseDown:S,onClick:C,onToggle:k,onUpload:t},itemKey:$h,outerRef:T,innerElementType:"ul"},dp)}))),Rh(Cf.xV,{id:"hierarchy-node-menu"},Rh(Cf.sN,{onClick:E},"Rename"),Rh(Cf.sN,{onClick:M},"Duplicate",Rh("div",null,v.S+"+ D")),Rh(Cf.sN,{onClick:R},"Group",Rh("div",null,v.S+"+ G")),Rh(Cf.sN,{onClick:P},"Delete"),Rh(Cf.sN,{onClick:b},"Expand All"),Rh(Cf.sN,{onClick:w},"Collapse All")))}var vp=y.createElement;function mp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}function gp(){var e=(0,p.Z)(["\n  display: flex;\n  overflow: hidden;\n"]);return gp=function(){return e},e}function yp(){var e=(0,p.Z)(["\n  display: flex;\n  width: 6px;\n\n  :hover {\n    cursor: ew-resize;\n  }\n\n  :hover,\n  :active {\n    background-color: ",";\n  }\n"]);return yp=function(){return e},e}function bp(){var e=(0,p.Z)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  overflow: hidden;\n"]);return bp=function(){return e},e}function wp(){var e=(0,p.Z)(["\n  display: flex;\n  height: 6px;\n\n  :hover {\n    cursor: ns-resize;\n  }\n\n  :active,\n  :hover {\n    background-color: ",";\n  }\n"]);return wp=function(){return e},e}function xp(){var e=(0,p.Z)(["\n  display: flex;\n  flex: 1;\n  overflow: hidden;\n"]);return xp=function(){return e},e}function Sp(){var e=(0,p.Z)(["\n  body {\n    cursor: ",";\n  }\n"]);return Sp=function(){return e},e}var Cp=(0,Vt.vJ)(Sp(),(function(e){return e.resizing?"y"===e.axis?"ns-resize":"ew-resize":"inherit"})),kp=Vt.ZP.div(xp()),Op=Vt.ZP.div(wp(),(function(e){return e.theme.hover})),Pp=Vt.ZP.div(bp()),Mp=Vt.ZP.div(yp(),(function(e){return e.theme.hover})),Rp=Vt.ZP.div.attrs((function(e){return{style:{flex:void 0===e.size?1:e.size}}}))(gp()),Ep=function(e){(0,f.Z)(n,e);var t=mp(n);function n(e){var r,o;if((0,l.Z)(this,n),(r=t.call(this,e)).onMouseDown=function(e,t){r.setState({index:t,resizing:!0}),window.addEventListener("mousemove",r.onMouseMove),window.addEventListener("mouseup",r.onMouseUp),window.addEventListener("blur",r.onMouseUp)},r.onMouseMove=function(e){var t,n=r.props,o=n.axis,i=n.min,a=r.state,s=a.index,c=a.sizes,l=r.containerRef.current.getBoundingClientRect(),u=r.itemRefs[s].getBoundingClientRect(),f=c[s]+c[s+1];t="y"===o?(e.pageY-u.top)/l.height:(e.pageX-u.left)/l.width,t=Math.min(Math.max(t,i),f-i),c[s]=t,c[s+1]=f-t,r.setState({sizes:c},(function(){r.props.onChange&&r.props.onChange()}))},r.onMouseUp=function(){window.removeEventListener("mousemove",r.onMouseMove),window.removeEventListener("mouseup",r.onMouseUp),window.removeEventListener("blur",r.onMouseUp),r.setState({resizing:!1})},e.initialSizes)o=e.initialSizes;else{var i=y.Children.count(e.children);o=[];for(var a=0;a<i;a++)o.push(1/i)}return r.state={sizes:o,index:null,resizing:!1},r.containerRef=(0,y.createRef)(),r.itemRefs=[],r}return(0,u.Z)(n,[{key:"componentWillUnmount",value:function(){window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("blur",this.onMouseUp)}},{key:"render",value:function(){for(var e=this,t=y.Children.toArray(this.props.children),n=[],r="y"===this.props.axis?Op:Mp,o="y"===this.props.axis?Pp:kp,i=function(o){n.push(vp(Rp,{ref:function(t){return e.itemRefs[o]=t},size:e.state.sizes[o],key:"container-"+o},t[o])),o<t.length-1&&n.push(vp(r,{onMouseDown:function(t){return e.onMouseDown(t,o)},key:"resizer-"+o}))},a=0;a<t.length;a++)i(a);return vp(y.Fragment,null,vp(o,{ref:this.containerRef},n),y.cloneElement(vp(Cp,null),{resizing:this.state.resizing,axis:this.props.axis}))}}]),n}(y.Component);function Zp(e,t,n){var r=this;void 0===n&&(n={leading:!1,trailing:!0});var o=(0,y.useRef)(void 0),i=(0,y.useRef)(0),a=(0,y.useRef)(void 0),s=(0,y.useRef)([]),c=(0,y.useRef)(null),l=(0,y.useRef)(null),u=(0,y.useRef)(e),f=(0,y.useRef)(!0);u.current=e;var d=!t&&0!==t&&"undefined"!==typeof window&&"function"===typeof window.requestAnimationFrame;if("function"!==typeof e)throw new TypeError("Expected a function");t=Number(t)||0;var h=!!n.leading,p=!("trailing"in n)||!!n.trailing,v="maxWait"in n,m=v?Math.max(Number(n.maxWait)||0,t):void 0,g=(0,y.useCallback)((function(e){var t=s.current,n=c.current;return s.current=c.current=void 0,i.current=e,l.current=u.current.apply(n,t),l.current}),[]),b=(0,y.useCallback)((function(e,t){return d?(window.cancelAnimationFrame(a.current),window.requestAnimationFrame(e)):setTimeout(e,t)}),[d]),w=(0,y.useCallback)((function(e){if(d)return window.cancelAnimationFrame(e);clearTimeout(e)}),[d]),x=(0,y.useCallback)((function(e){var n=e-o.current,r=e-i.current,a=t-n;return v?Math.min(a,m-r):a}),[m,v,t]),S=(0,y.useCallback)((function(e){if(!f.current)return!1;var n=e-o.current,r=e-i.current;return void 0===o.current||n>=t||n<0||v&&r>=m}),[m,v,t]),C=(0,y.useCallback)((function(e){return a.current=void 0,p&&s.current?g(e):(s.current=c.current=void 0,l.current)}),[g,p]),k=(0,y.useCallback)((function(){var e=Date.now();if(S(e))return C(e);a.current=b(k,x(e))}),[x,S,b,C]),O=(0,y.useCallback)((function(e){return i.current=e,a.current=b(k,t),h?g(e):l.current}),[g,b,h,k,t]),P=(0,y.useCallback)((function(){void 0!==a.current&&w(a.current),i.current=0,s.current=o.current=c.current=a.current=void 0}),[w]),M=(0,y.useCallback)((function(){return void 0===a.current?l.current:C(Date.now())}),[C]);return(0,y.useEffect)((function(){return f.current=!0,function(){f.current=!1}}),[]),[(0,y.useCallback)((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=Date.now(),u=S(i);if(s.current=e,c.current=r,o.current=i,u){if(void 0===a.current&&f.current)return O(o.current);if(v)return a.current=b(k,t),g(o.current)}return void 0===a.current&&(a.current=b(k,t)),l.current}),[g,O,v,S,b,k,t]),P,M]}function jp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jp(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tp(){var e=(0,y.useRef)(!1);return(0,y.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),function(){return e.current}}function Ap(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=(0,y.useRef)(),o=(0,y.useRef)(),i=Tp(),a=(0,y.useState)(t),s=a[0],c=a[1],l=(0,y.useState)([]),u=l[0],f=l[1],d=(0,y.useState)(void 0),h=d[0],p=d[1],v=(0,y.useState)(!1),m=v[0],g=v[1],b=(0,y.useState)(n),w=b[0],x=b[1],S=(0,y.useState)(!0),C=S[0],k=S[1],O=(0,y.useCallback)((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;g(!0),k(!1),p(void 0),0===n&&c([]),o.current&&o.current.abort();var a=new AbortController;o.current=a;var l=e(t,n,a.signal);r.current=l,l.then((function(e){if(i()&&r.current===l){var t=e.results||[];c(0===n?t:[].concat((0,xa.Z)(s),(0,xa.Z)(t))),f(e.suggestions||[]),x(e.nextCursor||0),k(e.hasMore||!1),g(!1)}})).catch((function(e){i()&&r.current===l&&(c([]),f([]),x(0),k(!1),p(e),g(!1),console.error(e))})).finally((function(){o.current===a&&(o.current=void 0)}))}),[o,p,g,e,r,i,s,c,f,x,k]),P=(0,y.useCallback)((function(e){return O(e,0)}),[O]),M=(0,y.useCallback)((function(e){!m&&C&&O(e,w)}),[m,C,O,w]);return{loadAsync:P,loadMore:M,hasMore:C,isLoading:m,results:s,suggestions:u,error:h}}Ep.defaultProps={min:.2,axis:"y"};var _p=n(28008),Ip=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 640 512"},e,{ref:t}),y.createElement("path",{fill:"currentColor",d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z"}))}));Ip.displayName="CloudUploadAlt";var Np=y.createElement;function Lp(){var e=(0,p.Z)(["\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.3);\n  justify-content: center;\n  align-items: center;\n  opacity: ",";\n  pointer-events: ",";\n\n  h3 {\n    font-size: 1.5em;\n    margin-top: 12px;\n  }\n"]);return Lp=function(){return e},e}var zp=Vt.ZP.div(Lp(),(function(e){var t=e.isOver,n=e.canDrop;return t&&n?"1":"0"}),(function(e){return e.isDragging?"auto":"none"}));function Fp(e){var t=e.afterUpload,n=e.uploadOptions,r=(0,y.useContext)($t),o=Hd(n),i=ld({accept:[_n.File],drop:function(e){o(e.files).then((function(e){e&&(r.setSource(r.defaultUploadSource.id),t&&t(e))}))},collect:function(e){return{canDrop:e.canDrop(),isOver:e.isOver(),isDragging:null!==e.getItem()&&e.canDrop()}}}),a=(0,Wn.Z)(i,2),s=a[0],c=s.canDrop,l=s.isOver,u=s.isDragging,f=a[1];return Np(zp,{ref:f,isDragging:u,canDrop:c,isOver:l},Np(Ip,{size:48}),Np("h3",null,"Upload Asset"))}var Up=y.createElement;function Vp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vp(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hp(){var e=(0,p.Z)(["\n  flex: 1;\n  overflow: hidden;\n"]);return Hp=function(){return e},e}function Wp(){var e=(0,p.Z)(["\n  max-width: 175px;\n  border-right: 1px solid ",";\n"]);return Wp=function(){return e},e}function Gp(){var e=(0,p.Z)(["\n  flex: 1;\n  align-items: flex-end;\n\n  & > * {\n    margin-left: 16px;\n  }\n"]);return Gp=function(){return e},e}function qp(){var e=(0,p.Z)(["\n  display: flex;\n  min-height: 32px;\n  background-color: ",";\n  align-items: center;\n  padding: 0 8px;\n  justify-content: space-between;\n  border-bottom: 1px solid ",";\n"]);return qp=function(){return e},e}function Kp(){var e=(0,p.Z)(["\n  position: relative;\n  flex: 1;\n  background-color: ",";\n"]);return Kp=function(){return e},e}var Yp=(0,Vt.ZP)(_p.X2)(Kp(),(function(e){return e.theme.panel})),Xp=Vt.ZP.div(qp(),(function(e){return e.theme.toolbar}),(function(e){return e.theme.panel})),$p=(0,Vt.ZP)(_p.X2)(Gp());function Jp(e){var t=e.title,n=e.children,r=(0,sn.Z)(e,["title","children"]);return Up(Xp,r,Up("div",null,t),Up($p,null,n))}(0,Vt.ZP)(_p.sg)(Wp(),(function(e){return e.theme.border}));var Qp=(0,Vt.ZP)(_p.X2)(Hp());function ev(e){var t=e.api.isAuthenticated();return e.sources.filter((function(e){return!e.requiresAuthentication||t}))}function tv(){var e=(0,y.useContext)($t),t=(0,y.useState)(ev(e)),n=t[0],r=t[1],o=(0,y.useState)(n.length>0?n[0]:null),a=o[0],s=o[1],c=a&&a.component;(0,y.useEffect)((function(){var t=function(e){s(n.find((function(t){return t.id===e})))},o=function(){var t=ev(e);r(t),-1===t.indexOf(a)&&s(t.length>0?t[0]:null)};return e.addListener("settingsChanged",(function(){var t=ev(e);r(t)})),e.addListener("setSource",t),e.api.addListener("authentication-changed",o),function(){e.removeListener("setSource",t),e.api.removeListener("authentication-changed",o)}}),[e,s,n,r,a]);var l=(0,y.useState)({}),u=l[0],f=l[1],d=(0,y.useCallback)((function(e){f(Bp(Bp({},u),{},(0,i.Z)({},a.id,e)))}),[a,f,u]),h=u[a.id]||{};return Up(Yp,{id:"assets-panel"},Up(_p.sg,{flex:!0},c&&Up(c,{key:a.id,source:a,editor:e,savedState:h,setSavedState:d})),Up(Fp,null))}function nv(){var e=(0,p.Z)(["\n  background-color: ",";\n  border-radius: 4px;\n  border: 1px solid ",";\n  color: ",";\n  height: 24px;\n  padding: 6px 8px;\n\n  &:hover {\n    border-color: ",";\n  }\n\n  &:focus {\n    border-color: ",";\n  }\n\n  &:disabled {\n    background-color: ",";\n    color: ",";\n  }\n"]);return nv=function(){return e},e}var rv=(0,Vt.iv)(nv(),(function(e){return e.theme.inputBackground}),(function(e){return e.theme.border}),(function(e){return e.theme.text}),(function(e){return e.theme.blueHover}),(function(e){return e.theme.blue}),(function(e){return e.theme.disabled}),(function(e){return e.theme.disabledText})),ov=y.createElement;function iv(){var e=(0,p.Z)(["\n  display: flex;\n  white-space: nowrap;\n  text-indent: 0.5em;\n"]);return iv=function(){return e},e}function av(){var e=(0,p.Z)(["\n  display: flex;\n  align-items: center;\n  flex: 1;\n  justify-content: flex-end;\n\n  a {\n    color: ",";\n  }\n\n  input {\n    ","\n    margin-right: 8px;\n    display: flex;\n    flex: 1;\n    max-width: 300px;\n  }\n"]);return av=function(){return e},e}var sv=Vt.ZP.div(av(),(function(e){return e.theme.text}),rv),cv=Vt.ZP.div(iv());function lv(e){var t=e.legal,n=e.privacyPolicyUrl,r=e.onChange,i=(0,sn.Z)(e,["legal","privacyPolicyUrl","onChange"]);return ov(sv,null,ov("input",(0,o.Z)({placeholder:"Search...",onChange:r},i)),t&&ov(cv,null,t,n&&ov(y.Fragment,null,ov("span",null,"|"),ov("a",{rel:"noopener noreferrer",target:"_blank",href:n},"Privacy Policy"))))}var uv=n(87521),fv=n.n(uv),dv=n(77672),hv=n.n(dv),pv=y.createElement;function vv(){var e=(0,p.Z)(["\n  display: grid;\n  grid-gap: ",";\n  width: 100%;\n  grid-template-columns: repeat(auto-fill, minmax(",", 1fr));\n  padding: ",";\n"]);return vv=function(){return e},e}function mv(){var e=(0,p.Z)(["\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]);return mv=function(){return e},e}function gv(){var e=(0,p.Z)(["\n  padding-top: 4px;\n  display: flex;\n  justify-content: center;\n"]);return gv=function(){return e},e}function yv(){var e=(0,p.Z)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 8px;\n  text-align: center;\n  overflow: hidden;\n\n  div {\n    margin-top: 8px;\n    display: block;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    width: 100%;\n  }\n"]);return yv=function(){return e},e}function bv(){var e=(0,p.Z)(["\n  display: flex;\n  flex: 1;\n"]);return bv=function(){return e},e}function wv(){var e=(0,p.Z)(["\n  display: flex;\n  flex: 1;\n  background-size: cover;\n  background-position: 50%;\n  background-repeat: no-repeat;\n"]);return wv=function(){return e},e}function xv(){var e=(0,p.Z)(["\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n"]);return xv=function(){return e},e}function Sv(){var e=(0,p.Z)(["\n  position: relative;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  outline: none;\n  overflow: hidden;\n  user-select: none;\n  text-decoration: none;\n  border-radius: ","px;\n  background-color: ",";\n  border: 2px solid ",';\n  cursor: pointer;\n\n  ::before {\n    content: "";\n    display: inline-block;\n    width: 1px;\n    height: 0;\n    padding-bottom: ',"%;\n  }\n\n  :hover,\n  :focus {\n    color: inherit;\n    border-color: ",";\n  }\n\n  :active {\n    border-color: ",";\n  }\n"]);return Sv=function(){return e},e}var Cv=Vt.ZP.div(Sv(),(function(e){return e.borderRadius}),(function(e){return e.theme.panel2}),(function(e){return e.selected?e.theme.selected:"transparent"}),(function(e){return 1/e.aspectRatio*100}),(function(e){return e.theme.blueHover}),(function(e){return e.theme.selected}));Cv.propTypes={aspectRatio:hv().number.isRequired,borderRadius:hv().number.isRequired,selected:hv().bool},Cv.defaultProps={aspectRatio:1,borderRadius:6};var kv=Vt.ZP.div(xv()),Ov=Vt.ZP.div(wv()),Pv=Vt.ZP.video(bv()),Mv=Vt.ZP.div(yv()),Rv=Vt.ZP.div(gv()),Ev=Vt.ZP.div(mv());function Zv(e){var t=e.label,n=e.src,r=(0,sn.Z)(e,["label","src"]);return pv(y.Fragment,null,pv(Cv,r,pv(kv,null,pv(Pv,{autoPlay:!0,muted:!0,src:n}))),pv(Rv,null,pv(Ev,null,t)))}function jv(e){var t=e.label,n=e.src,r=(0,sn.Z)(e,["label","src"]);return pv(y.Fragment,null,pv(Cv,r,pv(kv,null,pv(Ov,{style:{backgroundImage:"url(".concat(n,")")}}))),pv(Rv,null,pv(Ev,null,t)))}function Dv(e){var t=e.label,n=e.iconComponent,r=(0,sn.Z)(e,["label","iconComponent"]);return pv(y.Fragment,null,pv(Cv,r,pv(kv,null,pv(Mv,null,pv(n,{size:48})))),pv(Rv,null,pv(Ev,null,t)))}var Tv=Vt.ZP.div(vv(),(function(e){return e.gap}),(function(e){return e.minWidth}),(function(e){return e.gap}));Tv.propTypes={gap:hv().string.isRequired,minWidth:hv().string.isRequired},Tv.defaultProps={gap:"20px",minWidth:"100px"};var Av=y.createElement;function _v(){var e=(0,p.Z)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  margin-left: 16px;\n  div {\n    margin-top: 8px;\n  }\n"]);return _v=function(){return e},e}function Iv(){var e=(0,p.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 200px;\n  height: 200px;\n"]);return Iv=function(){return e},e}function Nv(){var e=(0,p.Z)(["\n  display: flex;\n  width: 600px;\n  padding: 12px 0;\n"]);return Nv=function(){return e},e}var Lv=Vt.ZP.div(Nv()),zv=Vt.ZP.div(Iv()),Fv=Vt.ZP.div(_v());var Uv=y.createElement,Vv=(0,y.createContext)(new Audio);function Bv(e){var t=e.src,n=e.children,r=(0,y.useContext)(Vv),o=dh(),i=(0,Wn.Z)(o,2),a=i[0],s=i[1];return(0,y.useEffect)((function(){s?(r.src=t,r.play()):r.pause()}),[s,t,r]),Uv("div",{ref:a},n)}var Hv=y.createElement;function Wv(){var e=(0,p.Z)(["\n  display: flex;\n  flex-direction: column;\n  height: 100px;\n  border-radius: 6px;\n  background-color: rgba(128, 128, 128, 0.5);\n  border: 2px solid transparent;\n  overflow: hidden;\n  justify-content: center;\n  align-items: center;\n  user-select: none;\n"]);return Wv=function(){return e},e}function Gv(){var e=(0,p.Z)(["\n  max-width: initial;\n  text-align: left;\n"]);return Gv=function(){return e},e}var qv=(0,Vt.ZP)(yh)(Gv());function Kv(e){return{item:e.item}}function Yv(e){var t,n=e.contextMenuId,r=e.tooltipComponent,i=e.disableTooltip,a=e.item,s=e.onClick,c=(0,sn.Z)(e,["contextMenuId","tooltipComponent","disableTooltip","item","onClick"]),l=(0,y.useCallback)((function(e){s&&s(a,e)}),[a,s]);t=a.thumbnailUrl?Hv(jv,(0,o.Z)({src:a.thumbnailUrl,onClick:l,label:a.label},c)):a.videoUrl?Hv(Zv,(0,o.Z)({src:a.videoUrl,onClick:l,label:a.label},c)):a.iconComponent?Hv(Dv,(0,o.Z)({iconComponent:a.iconComponent,onClick:l,label:a.label},c)):Hv(jv,(0,o.Z)({onClick:l,label:a.label},c)),a.type===_n.Audio&&(t=Hv(Bv,{src:a.url},t));var u=ed({item:{type:a.type},begin:function(){return{type:a.type,multiple:!1,value:a}}}),f=(0,Wn.Z)(u,3),d=(f[0],f[1]),h=f[2],p=(0,y.useCallback)((function(){return Hv(qv,null,Hv(r,{item:a}))}),[a,r]);return(0,y.useEffect)((function(){h(ud(),{captureDraggingState:!0})}),[h]),Hv("div",{ref:d},Hv(Cf.W4,{id:n,item:a,collect:Kv,holdToDisplay:-1},Hv(gh,{renderContent:p,disabled:i},t)))}var Xv=Vt.ZP.div(Wv()),$v=0,Jv=(0,y.memo)(Yv);function Qv(e){var t=e.isLoading,n=e.selectedItems,r=e.items,o=e.onSelect,i=e.onLoadMore,a=e.hasMore,s=e.tooltip,c=e.source,l=(0,y.useContext)($t),u=(0,y.useRef)("AssetGrid".concat($v));(0,y.useEffect)((function(){$v++}),[]);var f=(0,y.useCallback)((function(e,t){var n=t.item,r=new n.nodeClass(l);n.initialProps&&Object.assign(r,n.initialProps),l.getSpawnPosition(r.position),l.addObject(r)}),[l]),d=(0,y.useCallback)((function(e,t){var n=t.item,r=new n.nodeClass(l);n.initialProps&&Object.assign(r,n.initialProps),l.addObject(r)}),[l]),h=(0,y.useCallback)((function(e,t){}),[]),p=(0,y.useCallback)((function(e,t){window.open(t.item.url)}),[]),m=(0,y.useCallback)((function(e,t){c.delete(t.item)}),[c]);return Hv(y.Fragment,null,Hv(_p.Zo,{flex:!0},Hv(fv(),{pageStart:0,loadMore:i,hasMore:a,threshold:100,useWindow:!1},Hv(Tv,null,(0,v.Tw)(r,"id").map((function(e){return Hv(Jv,{key:e.id,tooltipComponent:s,disableTooltip:!1,contextMenuId:u.current,item:e,selected:-1!==n.indexOf(e),onClick:o})})),t&&Hv(Xv,null,"Loading...")))),Hv(Cf.xV,{id:u.current},Hv(Cf.sN,{onClick:f},"Place Object"),Hv(Cf.sN,{onClick:d},"Place Object at Origin"),!c.disableUrl&&Hv(Cf.sN,{onClick:h},"Copy URL"),!c.disableUrl&&Hv(Cf.sN,{onClick:p},"Open URL in New Tab"),c.delete&&Hv(Cf.sN,{onClick:m},"Delete Asset")))}Qv.defaultProps={onSelect:function(){},items:[],selectedItems:[],tooltip:function(e){var t,n=e.item;if(n.thumbnailUrl)t=Av("img",{src:n.thumbnailUrl});else if(n.videoUrl)t=Av("video",{src:n.videoUrl,autoPlay:!0,muted:!0});else if(n.iconComponent){var r=n.iconComponent;t=Av(r,{size:100})}else t=Av("img",{src:n.src});return Av(Lv,null,Av(zv,null,t),Av(Fv,null,Av("b",null,n.label),n.attributions&&n.attributions.creator&&Av("div",null,"by ",n.attributions.creator.name),n.description&&Av("div",null,n.description)))}};var em=n(55956);function tm(){var e=(0,p.Z)(["\n  display: none;\n"]);return tm=function(){return e},e}var nm=Vt.ZP.div(tm()),rm=y.createElement;function om(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var im=0,am=function(e){(0,f.Z)(n,e);var t=om(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this,e)).onChange=function(e){r.props.onChange(e.target.files,e)},r.state={id:"file-input-".concat(im++)},r}return(0,u.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.label,n=(e.onChange,(0,sn.Z)(e,["label","onChange"]));return rm("div",null,rm(em.zx,{as:"label",htmlFor:this.state.id},t),rm(nm,(0,o.Z)({as:"input"},n,{id:this.state.id,type:"file",onChange:this.onChange})))}}]),n}(y.Component),sm=y.createElement;function cm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cm(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function um(e){var t=e.editor,n=e.source,r=e.searchPlaceholder,o=e.initialSearchParams,i=(e.multiselectTags,e.savedState),a=e.setSavedState,s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=(0,y.useState)(t),i=o[0],a=o[1],s=Ap((function(t,n,r){return e.search(t,n,r)}),n,r),c=s.loadAsync,l=(0,sn.Z)(s,["loadAsync"]);(0,y.useEffect)((function(){var t=function(){c(i)};return e.addListener("resultsChanged",t),function(){e.removeListener("resultsChanged",t)}}),[e,c,i]);var u=Zp(c,e.searchDebounceTimeout),f=(0,Wn.Z)(u,1)[0],d=(0,y.useCallback)((function(e){f(e),a(e)}),[f,a]);return Dp({params:i,setParams:d},l)}(n,i.searchParams||o),c=s.params,l=s.setParams,u=s.isLoading,f=s.loadMore,d=s.hasMore,h=s.results,p=(0,y.useCallback)((function(e){var r=e.nodeClass,o=e.initialProps,i=new r(t);o&&Object.assign(i,o);var a=e.transformPivot||n.transformPivot;a&&t.editorControls.setTransformPivot(a),t.spawnGrabbedObject(i)}),[t,n.transformPivot]),v=Hd({source:n}),m=(0,y.useCallback)((function(){f(c)}),[c,f]),g=(0,y.useCallback)((function(e){var t=lm(lm({},c),{},{query:e.target.value});l(t),a(lm(lm({},i),{},{searchParams:t}))}),[c,l,i,a]);(0,y.useCallback)((function(e){var t=lm(lm({},c),{},{tags:e});l(t),a(lm(lm({},i),{},{searchParams:t}))}),[c,l,a,i]),(0,y.useCallback)((function(e){return a(lm(lm({},i),{},{expandedTags:e}))}),[i,a]);return sm(y.Fragment,null,sm(Jp,{title:n.name},sm(lv,{placeholder:r,value:c.query,onChange:g,legal:n.searchLegalCopy,privacyPolicyUrl:n.privacyPolicyUrl}),n.upload&&sm(am,{accept:n.acceptFileTypes||"all",multiple:n.uploadMultiple||!1,onChange:v})),sm(Qp,null,sm(Qv,{source:n,items:h,onLoadMore:m,hasMore:d,onSelect:p,isLoading:u})))}function fm(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}um.defaultProps={searchPlaceholder:"Search...",initialSearchParams:{query:"",tags:[]},multiselectTags:!1};var dm=function(e){(0,f.Z)(n,e);var t=fm(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this)).onSettingsChanged=function(){r.emit("resultsChanged")},r.onSceneGraphChanged=function(){r.emit("resultsChanged")},r.component=um,r.editor=e,r.id="elements",r.name="Elements",r.editor.addListener("settingsChanged",r.onSettingsChanged),r.editor.addListener("sceneGraphChanged",r.onSceneGraphChanged),r.disableUrl=!0,r.searchDebounceTimeout=0,r}return(0,u.Z)(n,[{key:"search",value:function(){var e=(0,c.Z)(s().mark((function e(t){var n,r,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.editor,r=Array.from(n.nodeTypes).reduce((function(e,t){if(!t.canAddNode(n))return e;if(t.hideInElementsPanel)return e;var r=n.nodeEditors.get(t);return e.push({id:t.nodeName,iconComponent:r.iconComponent,label:t.nodeName,description:r.description,type:_n.Element,nodeClass:t,initialProps:t.initialElementProps}),e}),[]),t.query&&(o=new Tu(r,{shouldSort:!0,threshold:.6,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:["label"]}),r=o.search(t.query)),e.abrupt("return",{results:r,hasMore:!1});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Nu),hm=y.createElement;function pm(e){return hm(um,(0,o.Z)({},e,{searchPlaceholder:e.source.searchPlaceholder||"Search assets..."}))}function vm(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var mm={model:cc,image:Js,video:Bc,audio:gs},gm={model:_n.Model,image:_n.Image,video:_n.Video,audio:_n.Audio},ym=function(e){(0,f.Z)(n,e);var t=vm(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this)).component=pm,r.editor=e,r.id="assets",r.name="My Assets",r.tags=[{label:"Models",value:"model"},{label:"Images",value:"image"},{label:"Videos",value:"video"},{label:"Audio",value:"audio"}],r.searchLegalCopy="Search by Mozilla Hubs",r.privacyPolicyUrl="https://github.com/xr3ngine/xr3ngine/blob/master/PRIVACY.md",r.uploadSource=!0,r.uploadMultiple=!0,r.acceptFileTypes=Ud.E3,r.requiresAuthentication=!0,r}return(0,u.Z)(n,[{key:"upload",value:function(){var e=(0,c.Z)(s().mark((function e(t,n,r){var o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.editor.api.uploadAssets(this.editor,t,n,r);case 2:return o=e.sent,this.emit("resultsChanged"),e.abrupt("return",o);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=(0,c.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.editor.api.deleteAsset(t.id);case 2:this.emit("resultsChanged");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=(0,c.Z)(s().mark((function e(t,n,r){var o,i,a,c,l=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.editor.api.searchMedia(this.id,{query:t.query,type:t.tags&&t.tags.length>0&&t.tags[0].value},n,r);case 2:return o=e.sent,i=o.results,a=o.suggestions,c=o.nextCursor,e.abrupt("return",{results:i.map((function(e){var t=e&&e.images&&e.images.preview&&e.images.preview.url,n=mm[e.type],r=t?null:l.editor.nodeEditors.get(n).iconComponent;return{id:e.id,thumbnailUrl:t,iconComponent:r,label:e.name,type:gm[e.type],url:e.url,nodeClass:n,initialProps:{name:e.name,src:e.url}}})),suggestions:a,nextCursor:c,hasMore:!!c});case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),n}(Nu),bm=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),y.createElement("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"}))}));bm.displayName="QuestionCircle";var wm=y.createElement;function xm(){var e=(0,p.Z)(["\n  width: 20px;\n  display: flex;\n  padding-left: 8px;\n  color: ",";\n  cursor: pointer;\n  align-self: center;\n"]);return xm=function(){return e},e}function Sm(){var e=(0,p.Z)(["\n  display: flex;\n  flex-direction: row;\n  flex: 1;\n  padding-left: 8px;\n"]);return Sm=function(){return e},e}function Cm(){var e=(0,p.Z)(["\n  display: flex;\n  flex-direction: row;\n  padding: 4px 8px;\n  flex: 1;\n  min-height: 24px;\n\n  ","\n\n  & > label {\n    display: block;\n    width: 25%;\n    color: ",";\n    padding-bottom: 2px;\n    padding-top: 4px;\n  }\n"]);return Cm=function(){return e},e}var km=Vt.ZP.div(Cm(),(function(e){return e.disabled&&"\n    pointer-events: none;\n    opacity: 0.3;\n  "}),(function(e){return e.theme.text2})),Om=Vt.ZP.div(Sm()),Pm=(0,Vt.ZP)(bm)(xm(),(function(e){return e.theme.blue}));function Mm(e){var t=e.info;return wm(bh,{info:t},wm(Pm,null))}function Rm(e){var t=e.name,n=e.children,r=e.disabled,i=e.info,a=(0,sn.Z)(e,["name","children","disabled","info"]);return wm(km,(0,o.Z)({disabled:r},a),wm("label",null,t,":"),wm(Om,null,n,i&&wm(Mm,{info:i})))}var Em=n(64362),Zm=n(9424);function jm(){var e=(0,p.Z)(["\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  pointer-events: ",";\n"]);return jm=function(){return e},e}var Dm=Vt.ZP.div(jm(),(function(e){return e.pointerEvents||"inherit"})),Tm=y.createElement;function Am(e){var t=e.children,n=e.padding,r=e.position,i=e.renderContent,a=e.disabled,s=(0,sn.Z)(e,["children","padding","position","renderContent","disabled"]),c=(0,y.useRef)(),l=(0,y.useState)(!1),u=l[0],f=l[1],d=(0,y.useCallback)((function(){a||f(!0)}),[f,a]),h=(0,y.useCallback)((function(e){f(!1),e.stopPropagation()}),[f]),p=(0,y.useCallback)((function(e){e.stopPropagation()}),[]),v=(0,y.useCallback)((function(){return c}),[c]);return Tm("div",(0,o.Z)({ref:c,onClick:d},s),t,u&&Tm(Kd,null,Tm(Dm,{onClick:h}),Tm(fh,{onClick:p,getTargetRef:v,padding:n,position:r},i({onClose:h}))))}var _m=y.createElement;function Im(){var e=(0,p.Z)(["\n  box-shadow: ",";\n  margin-bottom: 3px;\n"]);return Im=function(){return e},e}function Nm(){var e=(0,p.Z)(["\n  padding-top: 2px;\n"]);return Nm=function(){return e},e}function Lm(){var e=(0,p.Z)(["\n  width: 32px;\n  height: auto;\n  border-radius: 2px;\n  padding: 6px;\n  margin-right: 8px;\n"]);return Lm=function(){return e},e}function zm(){var e=(0,p.Z)(["\n  display: flex;\n  flex: 1;\n  align-items: center;\n"]);return zm=function(){return e},e}function Fm(){var e=(0,p.Z)(["\n  display: flex;\n  position: relative;\n  width: 100%;\n  max-width: 100px;\n"]);return Fm=function(){return e},e}var Um=Vt.ZP.div(Fm()),Vm=(0,Vt.ZP)(Zm.Z)(zm()),Bm=Vt.ZP.div(Lm()),Hm=Vt.ZP.div(Nm()),Wm=Vt.ZP.div(Im(),(function(e){return e.theme.shadow30}));function Gm(e){var t=e.value,n=e.onChange,r=e.disabled,i=(0,sn.Z)(e,["value","onChange","disabled"]),a=(0,y.useCallback)((function(e){var t=e.hex;n(new Yn.Ilk(t))}),[n]),s="#"+t.getHexString();return _m(Um,null,_m(Am,{disabled:r,renderContent:function(){return _m(Wm,null,_m(Em.Z,(0,o.Z)({},i,{color:s,disableAlpha:!0,onChange:a})))}},_m(Vm,{as:"div",disabled:r},_m(Bm,{style:{background:s}}),_m(Hm,null,s.toUpperCase()))))}Gm.defaultProps={value:new Yn.Ilk,onChange:function(){}};var qm=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),y.createElement("path",{fill:"currentColor",d:"M377.941 169.941V216H134.059v-46.059c0-21.382-25.851-32.09-40.971-16.971L7.029 239.029c-9.373 9.373-9.373 24.568 0 33.941l86.059 86.059c15.119 15.119 40.971 4.411 40.971-16.971V296h243.882v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.568 0-33.941l-86.059-86.059c-15.119-15.12-40.971-4.412-40.971 16.97z"}))}));qm.displayName="ArrowsAltH";var Km=y.createElement;function Ym(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ym(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ym(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}function Jm(){var e=(0,p.Z)(["\n  position: absolute;\n  width: 20px;\n\n  path {\n    stroke: white;\n    stroke-width: 20px;\n    fill: black;\n  }\n"]);return Jm=function(){return e},e}function Qm(){var e=(0,p.Z)(["\n  cursor: ew-resize;\n  user-select: none;\n"]);return Qm=function(){return e},e}var eg=Vt.ZP.div(Qm()),tg=(0,Vt.ZP)(qm).attrs((function(e){var t=e.x,n=e.y;return{style:{transform:"translate(".concat(t,"px,").concat(n,"px)")}}}))(Jm()),ng=function(e){(0,f.Z)(n,e);var t=$m(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this,e)).handleMouseMove=function(e){var t=r.state,n=r.props,o=n.smallStep,i=n.mediumStep,a=n.largeStep,s=n.sensitivity,c=n.min,l=n.max,u=n.precision,f=n.convertTo,d=n.onChange;if(t.isDragging){var h=t.mouseX+e.movementX,p=t.mouseY+e.movementY,m=t.delta+e.movementX,g=(0,v.Kl)(e,o,i,a),y=t.startValue+Math.round(m/s)*g,b=(0,v.uZ)(y,c,l);d(f(u?(0,v.Zd)(b,u):b)),r.setState(Xm(Xm({},t),{},{delta:m,mouseX:h,mouseY:p}))}},r.handleMouseDown=function(e){var t=r.props,n=t.convertFrom,o=t.value;r.setState({isDragging:!0,startValue:n(o),delta:0,mouseX:e.clientX,mouseY:e.clientY}),r.scrubberEl.current.requestPointerLock(),window.addEventListener("mousemove",r.handleMouseMove),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){var e=r.props,t=e.onCommit,n=e.onChange,o=e.value;r.state.isDragging&&(r.setState({isDragging:!1,startValue:null,delta:null,mouseX:null,mouseY:null}),t?t(o):n(o),document.exitPointerLock()),window.removeEventListener("mousemove",r.handleMouseMove),window.removeEventListener("mouseup",r.handleMouseUp)},r.scrubberEl=(0,y.createRef)(),r.state={isDragging:!1,startValue:null,delta:null,mouseX:null,mouseY:null},r}return(0,u.Z)(n,[{key:"componentWillUnmount",value:function(){window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this.props,t=e.tag,n=e.children,r=(e.smallStep,e.mediumStep,e.largeStep,e.sensitivity,e.min,e.max,e.precision,e.convertFrom,e.convertTo,e.value,e.onChange,e.onCommit,(0,sn.Z)(e,["tag","children","smallStep","mediumStep","largeStep","sensitivity","min","max","precision","convertFrom","convertTo","value","onChange","onCommit"])),i=this.state,a=i.isDragging,s=i.mouseX,c=i.mouseY;return Km(eg,(0,o.Z)({as:t,ref:this.scrubberEl,onMouseDown:this.handleMouseDown},r),n,a&&Km(Kd,null,Km(Dm,{pointerEvents:"none"},Km(tg,{x:s,y:c}))))}}]),n}(y.Component);ng.defaultProps={tag:"label",smallStep:.025,mediumStep:.1,largeStep:.25,sensitivity:5,min:-1/0,max:1/0,convertFrom:function(e){return e},convertTo:function(e){return e}};var rg=y.memo(ng),og=y.createElement;function ig(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}function ag(){var e=(0,p.Z)(["\n  position: absolute;\n  color: ",";\n  right: 1px;\n  top: 1px;\n  bottom: 1px;\n  background-color: ",";\n  padding: 0 4px;\n  border-top-right-radius: 4px;\n  border-bottom-right-radius: 4px;\n  line-height: 20px;\n  height: 22px;\n"]);return ag=function(){return e},e}function sg(){var e=(0,p.Z)(["\n  display: flex;\n  width: 100%;\n  color: ",";\n  background-color: ",";\n  border-radius: 4px;\n  border: 1px solid ",";\n  padding-left: 6px;\n  font-size: 12px;\n  height: 24px;\n  box-sizing: border-box;\n  outline: none;\n  padding-right: ",";\n\n  &:hover {\n    border-color: ",";\n  }\n\n  &:focus {\n    border-color: ",";\n  }\n\n  &:disabled {\n    background-color: ",";\n    color: ",";\n  }\n"]);return sg=function(){return e},e}function cg(){var e=(0,p.Z)(["\n  position: relative;\n  display: flex;\n  flex: 1;\n  max-width: 100px;\n"]);return cg=function(){return e},e}function lg(e,t){if(t&&t<=1){var n=Math.abs(Math.log10(t)),r=Math.min(n,2),o=Math.max(r,n);return e.toLocaleString("fullwide",{minimumFractionDigits:r,maximumFractionDigits:o,useGrouping:!1})}return e.toLocaleString("fullwide",{useGrouping:!1})}var ug=Vt.ZP.div(cg()),fg=Vt.ZP.input(sg(),(function(e){return e.theme.text}),(function(e){return e.theme.inputBackground}),(function(e){return e.theme.border}),(function(e){return e.unit?6*e.unit.length+10+"px":0}),(function(e){return e.theme.blueHover}),(function(e){return e.theme.blue}),(function(e){return e.theme.disabled}),(function(e){return e.theme.disabledText})),dg=Vt.ZP.div(ag(),(function(e){return e.theme.text2}),(function(e){return e.theme.inputBackground})),hg=function(e){(0,f.Z)(n,e);var t=ig(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this,e)).handleKeyPress=function(e){var t=0;"ArrowUp"===e.key?t=1:"ArrowDown"===e.key&&(t=-1),t&&(e.preventDefault(),r.handleStep(e,t,!0))},r.handleKeyDown=function(e){"ArrowUp"!==e.key&&"ArrowDown"!==e.key||e.preventDefault()},r.handleChange=function(e){var t=r.props,n=t.min,o=t.max,i=t.precision,a=t.convertTo,s=t.onChange,c=e.target.value;r.setState({tempValue:c,focused:!0});var l=parseFloat(c);if(!Number.isNaN(l)){var u=(0,v.uZ)(l,n,o);s(a(i?(0,v.Zd)(u,i):u))}},r.handleFocus=function(){var e=r.props,t=e.value,n=e.convertFrom,o=e.precision;r.setState({tempValue:n(t).toLocaleString("fullwide",{useGrouping:!1,minimumFractionDigits:0,maximumFractionDigits:Math.abs(Math.log10(o))+1}),focused:!0},(function(){r.inputEl.current.select()}))},r.handleBlur=function(){var e=r.props,t=e.value,n=e.onCommit,o=e.onChange;r.setState({tempValue:null,focused:!1}),n?n(t):o(t)},r.state={tempValue:null,focused:!1},r.inputEl=(0,y.createRef)(),r}return(0,u.Z)(n,[{key:"increment",value:function(){this.handleStep(1,!1)}},{key:"decrement",value:function(){this.handleStep(-1,!1)}},{key:"handleStep",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.props,o=r.smallStep,i=r.mediumStep,a=r.largeStep,s=r.min,c=r.max,l=r.precision,u=r.convertTo,f=r.onChange,d=r.onCommit,h=parseFloat(this.inputEl.current.value)+(0,v.Kl)(e,o,i,a)*t,p=(0,v.uZ)(h,s,c),m=l?(0,v.Zd)(p,l):h,g=u(m);d?d(g):f(g),this.setState({tempValue:m.toLocaleString("fullwide",{useGrouping:!1,minimumFractionDigits:0,maximumFractionDigits:Math.abs(Math.log10(l))+1}),focused:n})}},{key:"render",value:function(){var e=this.props,t=(e.className,e.unit),n=(e.smallStep,e.mediumStep,e.largeStep,e.min,e.max,e.displayPrecision),r=e.value,i=(e.convertTo,e.convertFrom),a=(e.onChange,e.onCommit,(0,sn.Z)(e,["className","unit","smallStep","mediumStep","largeStep","min","max","displayPrecision","value","convertTo","convertFrom","onChange","onCommit"]));return og(ug,null,og(fg,(0,o.Z)({},a,{unit:t,ref:this.inputEl,value:this.state.focused?this.state.tempValue:lg(i(r),n),onKeyUp:this.handleKeyPress,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur})),t&&og(dg,null,t))}}]),n}(y.Component);hg.defaultProps={value:0,smallStep:.025,mediumStep:.1,largeStep:.25,min:-1/0,max:1/0,displayPrecision:.001,precision:Number.EPSILON,convertTo:function(e){return e},convertFrom:function(e){return e}};var pg=y.createElement;function vg(e){var t=e.name,n=(e.className,e.info),r=(0,sn.Z)(e,["name","className","info"]),o=(r.displayPrecision,(0,sn.Z)(r,["displayPrecision"]));return pg(km,null,pg(rg,o,t,":"),pg(Om,null,pg(hg,r),n&&pg(Mm,{info:n})))}var mg=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),y.createElement("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"}))}));mg.displayName="Sun";var gg=y.createElement;function yg(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var bg=function(e){(0,f.Z)(n,e);var t=yg(n);function n(){var e;return(0,l.Z)(this,n),(e=t.apply(this,arguments)).onChangeColor=function(t){e.props.editor.setPropertySelected("color",t)},e.onChangeIntensity=function(t){e.props.editor.setPropertySelected("intensity",t)},e}return(0,u.Z)(n,[{key:"render",value:function(){var e=this.props.node;return gg(bf,(0,o.Z)({},this.props,{description:n.description}),gg(Rm,{name:"Color"},gg(Gm,{value:e.color,onChange:this.onChangeColor})),gg(vg,{name:"Intensity",min:0,smallStep:.001,mediumStep:.01,largeStep:.1,value:e.intensity,onChange:this.onChangeIntensity,unit:"cd"}))}}]),n}(y.Component);bg.iconComponent=mg,bg.description="A light which illuminates all objects in your scene.";var wg=y.createElement,xg={multiple:!1,accepts:Ud.Yj};function Sg(e){var t=e.onChange,n=(0,sn.Z)(e,["onChange"]),r=Hd(xg),i=ld({accept:[_n.Audio,_n.File],drop:function(e){e.type===_n.Audio?t(e.value.url,e.value.initialProps||{}):r(e.files).then((function(e){e&&e.length>0&&t(e[0].url,{})}))},collect:function(e){return{canDrop:e.canDrop(),isOver:e.isOver()}}}),a=(0,Wn.Z)(i,2),s=a[0],c=s.canDrop,l=s.isOver,u=a[1];return wg(On.Y,(0,o.Z)({ref:u,onChange:t,error:l&&!c,canDrop:l&&c},n))}var Cg=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 576 512"},e,{ref:t}),y.createElement("path",{fill:"currentColor",d:"M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zm233.32-51.08c-11.17-7.33-26.18-4.24-33.51 6.95-7.34 11.17-4.22 26.18 6.95 33.51 66.27 43.49 105.82 116.6 105.82 195.58 0 78.98-39.55 152.09-105.82 195.58-11.17 7.32-14.29 22.34-6.95 33.5 7.04 10.71 21.93 14.56 33.51 6.95C528.27 439.58 576 351.33 576 256S528.27 72.43 448.35 19.97zM480 256c0-63.53-32.06-121.94-85.77-156.24-11.19-7.14-26.03-3.82-33.12 7.46s-3.78 26.21 7.41 33.36C408.27 165.97 432 209.11 432 256s-23.73 90.03-63.48 115.42c-11.19 7.14-14.5 22.07-7.41 33.36 6.51 10.36 21.12 15.14 33.12 7.46C447.94 377.94 480 319.54 480 256zm-141.77-76.87c-11.58-6.33-26.19-2.16-32.61 9.45-6.39 11.61-2.16 26.2 9.45 32.61C327.98 228.28 336 241.63 336 256c0 14.38-8.02 27.72-20.92 34.81-11.61 6.41-15.84 21-9.45 32.61 6.43 11.66 21.05 15.8 32.61 9.45 28.23-15.55 45.77-45 45.77-76.88s-17.54-61.32-45.78-76.86z"}))}));Cg.displayName="VolumeUp";n(12493),n(4600),n(20770),n(31077);var kg=n(68489),Og=n(97865),Pg=(n(4884),n(79570));function Mg(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,Pg.Z)(e,t)}var Rg=n(58138);function Eg(e,t){return!t||"object"!==(0,Rg.Z)(t)&&"function"!==typeof t?(0,hd.Z)(e):t}function Zg(e){return(Zg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var jg=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)===0){var t,n=function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(n,t),this.tags.push(n)}var r=this.tags[this.tags.length-1];if(this.isSpeedy){var o=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(r);try{var i=105===e.charCodeAt(1)&&64===e.charCodeAt(0);o.insertRule(e,i?0:o.cssRules.length)}catch(a){0}}else r.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Dg=n(98401),Tg="/*|*/";function Ag(e){e&&_g.current.insert(e+"}")}var _g={current:null},Ig=function(e,t,n,r,o,i,a,s,c,l){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return _g.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===s)return t+Tg;break;case 3:switch(s){case 102:case 112:return _g.current.insert(n[0]+t),"";default:return t+(0===l?Tg:"")}case-2:t.split("/*|*/}").forEach(Ag)}},Ng=function(e){void 0===e&&(e={});var t,n=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var r=new Dg.Z(t);var o,i={};o=e.container||document.head;var a,s=document.querySelectorAll("style[data-emotion-"+n+"]");Array.prototype.forEach.call(s,(function(e){e.getAttribute("data-emotion-"+n).split(" ").forEach((function(e){i[e]=!0})),e.parentNode!==o&&o.appendChild(e)})),r.use(e.stylisPlugins)(Ig),a=function(e,t,n,o){var i=t.name;_g.current=n,r(e,t.styles),o&&(c.inserted[i]=!0)};var c={key:n,sheet:new jg({key:n,container:o,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:i,registered:{},insert:a};return c};n(2619);function Lg(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]):r+=n+" "})),r}var zg=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var o=t;do{e.insert("."+r,o,e.sheet,!0);o=o.next}while(void 0!==o)}};var Fg=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},Ug=n(65885),Vg=n(8713),Bg=/[A-Z]|^ms/g,Hg=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Wg=function(e){return 45===e.charCodeAt(1)},Gg=function(e){return null!=e&&"boolean"!==typeof e},qg=(0,Vg.Z)((function(e){return Wg(e)?e:e.replace(Bg,"-$&").toLowerCase()})),Kg=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Hg,(function(e,t,n){return Xg={name:t,styles:n,next:Xg},t}))}return 1===Ug.Z[e]||Wg(e)||"number"!==typeof t||0===t?t:t+"px"};function Yg(e,t,n,r){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Xg={name:n.name,styles:n.styles,next:Xg},n.name;if(void 0!==n.styles){var o=n.next;if(void 0!==o)for(;void 0!==o;)Xg={name:o.name,styles:o.styles,next:Xg},o=o.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=Yg(e,t,n[o],!1);else for(var i in n){var a=n[i];if("object"!==typeof a)null!=t&&void 0!==t[a]?r+=i+"{"+t[a]+"}":Gg(a)&&(r+=qg(i)+":"+Kg(i,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=Yg(e,t,a,!1);switch(i){case"animation":case"animationName":r+=qg(i)+":"+s+";";break;default:r+=i+"{"+s+"}"}}else for(var c=0;c<a.length;c++)Gg(a[c])&&(r+=qg(i)+":"+Kg(i,a[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Xg,a=n(e);return Xg=i,Yg(e,t,a,r)}break;case"string":}if(null==t)return n;var s=t[n];return void 0===s||r?n:s}var Xg,$g=/label:\s*([^\s;\n{]+)\s*;/g;var Jg=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,o="";Xg=void 0;var i=e[0];null==i||void 0===i.raw?(r=!1,o+=Yg(n,t,i,!1)):o+=i[0];for(var a=1;a<e.length;a++)o+=Yg(n,t,e[a],46===o.charCodeAt(o.length-1)),r&&(o+=i[a]);$g.lastIndex=0;for(var s,c="";null!==(s=$g.exec(o));)c+="-"+s[1];return{name:Fg(o)+c,styles:o,next:Xg}},Qg=Object.prototype.hasOwnProperty,ey=(0,y.createContext)("undefined"!==typeof HTMLElement?Ng():null),ty=(0,y.createContext)({}),ny=ey.Provider,ry=function(e){var t=function(t,n){return(0,y.createElement)(ey.Consumer,null,(function(r){return e(t,r,n)}))};return(0,y.forwardRef)(t)},oy="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",iy=function(e,t){var n={};for(var r in t)Qg.call(t,r)&&(n[r]=t[r]);return n[oy]=e,n},ay=function(e,t,n,r){var o=null===n?t.css:t.css(n);"string"===typeof o&&void 0!==e.registered[o]&&(o=e.registered[o]);var i=t[oy],a=[o],s="";"string"===typeof t.className?s=Lg(e.registered,a,t.className):null!=t.className&&(s=t.className+" ");var c=Jg(a);zg(e,c,"string"===typeof i);s+=e.key+"-"+c.name;var l={};for(var u in t)Qg.call(t,u)&&"css"!==u&&u!==oy&&(l[u]=t[u]);return l.ref=r,l.className=s,(0,y.createElement)(i,l)},sy=ry((function(e,t,n){return"function"===typeof e.css?(0,y.createElement)(ty.Consumer,null,(function(r){return ay(t,e,r,n)})):ay(t,e,null,n)}));var cy=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Jg(t)},ly=function(e,t){var n=arguments;if(null==t||!Qg.call(t,"css"))return y.createElement.apply(void 0,n);var r=n.length,o=new Array(r);o[0]=sy,o[1]=iy(e,t);for(var i=2;i<r;i++)o[i]=n[i];return y.createElement.apply(null,o)},uy=(y.Component,function e(t){for(var n=t.length,r=0,o="";r<n;r++){var i=t[r];if(null!=i){var a=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))a=e(i);else for(var s in a="",i)i[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=i}a&&(o&&(o+=" "),o+=a)}}return o});function fy(e,t,n){var r=[],o=Lg(e,r,n);return r.length<2?n:o+t(r)}var dy=ry((function(e,t){return(0,y.createElement)(ty.Consumer,null,(function(n){var r=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=Jg(n,t.registered);return zg(t,o,!1),t.key+"-"+o.name},o={css:r,cx:function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return fy(t.registered,r,uy(n))},theme:n},i=e.children(o);return!0,i}))})),hy=(n(86698),n(68625)),py=n(42380),vy=n(99537),my=n(26395);var gy=n(98581),yy=function(){};function by(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function wy(e,t,n){var r=[n];if(t&&e)for(var o in t)t.hasOwnProperty(o)&&t[o]&&r.push("".concat(by(e,o)));return r.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var xy=function(e){return Array.isArray(e)?e.filter(Boolean):"object"===(0,Rg.Z)(e)&&null!==e?[e]:[]};function Sy(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function Cy(e){return Sy(e)?window.pageYOffset:e.scrollTop}function ky(e,t){Sy(e)?window.scrollTo(0,t):e.scrollTop=t}function Oy(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function Py(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:yy,o=Cy(e),i=t-o,a=10,s=0;function c(){var t=Oy(s+=a,o,i,n);ky(e,t),s<n?window.requestAnimationFrame(c):r(e)}c()}function My(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}function Ry(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ey(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ry(Object(n),!0).forEach((function(t){(0,my.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ry(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zy(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zg(e);if(t){var o=Zg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Eg(this,n)}}function jy(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,o=e.placement,i=e.shouldScroll,a=e.isFixedPosition,s=e.theme.spacing,c=function(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/,o=document.documentElement;if("fixed"===t.position)return o;for(var i=e;i=i.parentElement;)if(t=getComputedStyle(i),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return i;return o}(n),l={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return l;var u=c.getBoundingClientRect().height,f=n.getBoundingClientRect(),d=f.bottom,h=f.height,p=f.top,v=n.offsetParent.getBoundingClientRect().top,m=window.innerHeight,g=Cy(c),y=parseInt(getComputedStyle(n).marginBottom,10),b=parseInt(getComputedStyle(n).marginTop,10),w=v-b,x=m-p,S=w+g,C=u-g-p,k=d-m+g+y,O=g+p-b,P=160;switch(o){case"auto":case"bottom":if(x>=h)return{placement:"bottom",maxHeight:t};if(C>=h&&!a)return i&&Py(c,k,P),{placement:"bottom",maxHeight:t};if(!a&&C>=r||a&&x>=r)return i&&Py(c,k,P),{placement:"bottom",maxHeight:a?x-y:C-y};if("auto"===o||a){var M=t,R=a?w:S;return R>=r&&(M=Math.min(R-y-s.controlHeight,t)),{placement:"top",maxHeight:M}}if("bottom"===o)return ky(c,k),{placement:"bottom",maxHeight:t};break;case"top":if(w>=h)return{placement:"top",maxHeight:t};if(S>=h&&!a)return i&&Py(c,O,P),{placement:"top",maxHeight:t};if(!a&&S>=r||a&&w>=r){var E=t;return(!a&&S>=r||a&&w>=r)&&(E=a?w-b:S-b),i&&Py(c,O,P),{placement:"top",maxHeight:E}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(o,'".'))}return l}var Dy=function(e){return"auto"===e?"bottom":e},Ty=(0,y.createContext)({getPortalPlacement:null}),Ay=function(e){Mg(n,e);var t=Zy(n);function n(){var e;(0,kg.Z)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={maxHeight:e.props.maxMenuHeight,placement:null},e.getPlacement=function(t){var n=e.props,r=n.minMenuHeight,o=n.maxMenuHeight,i=n.menuPlacement,a=n.menuPosition,s=n.menuShouldScrollIntoView,c=n.theme;if(t){var l="fixed"===a,u=jy({maxHeight:o,menuEl:t,minHeight:r,placement:i,shouldScroll:s&&!l,isFixedPosition:l,theme:c}),f=e.context.getPortalPlacement;f&&f(u),e.setState(u)}},e.getUpdatedProps=function(){var t=e.props.menuPlacement,n=e.state.placement||Dy(t);return Ey(Ey({},e.props),{},{placement:n,maxHeight:e.state.maxHeight})},e}return(0,Og.Z)(n,[{key:"render",value:function(){return(0,this.props.children)({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),n}(y.Component);Ay.contextType=Ty;var _y=function(e){var t=e.theme,n=t.spacing.baseUnit;return{color:t.colors.neutral40,padding:"".concat(2*n,"px ").concat(3*n,"px"),textAlign:"center"}},Iy=_y,Ny=_y,Ly=function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,i=e.innerProps;return ly("div",(0,fd.Z)({css:o("noOptionsMessage",e),className:r({"menu-notice":!0,"menu-notice--no-options":!0},n)},i),t)};Ly.defaultProps={children:"No options"};var zy=function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,i=e.innerProps;return ly("div",(0,fd.Z)({css:o("loadingMessage",e),className:r({"menu-notice":!0,"menu-notice--loading":!0},n)},i),t)};zy.defaultProps={children:"Loading..."};var Fy=function(e){Mg(n,e);var t=Zy(n);function n(){var e;(0,kg.Z)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={placement:null},e.getPortalPlacement=function(t){var n=t.placement;n!==Dy(e.props.menuPlacement)&&e.setState({placement:n})},e}return(0,Og.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.appendTo,n=e.children,r=e.controlElement,o=e.menuPlacement,i=e.menuPosition,a=e.getStyles,s="fixed"===i;if(!t&&!s||!r)return null;var c=this.state.placement||Dy(o),l=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(r),u=s?0:window.pageYOffset,f=l[c]+u,d=ly("div",{css:a("menuPortal",{offset:f,position:i,rect:l})},n);return ly(Ty.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},t?(0,Gd.createPortal)(d,t):d)}}]),n}(y.Component),Uy=Array.isArray,Vy=Object.keys,By=Object.prototype.hasOwnProperty;function Hy(e,t){if(e===t)return!0;if(e&&t&&"object"==(0,Rg.Z)(e)&&"object"==(0,Rg.Z)(t)){var n,r,o,i=Uy(e),a=Uy(t);if(i&&a){if((r=e.length)!=t.length)return!1;for(n=r;0!==n--;)if(!Hy(e[n],t[n]))return!1;return!0}if(i!=a)return!1;var s=e instanceof Date,c=t instanceof Date;if(s!=c)return!1;if(s&&c)return e.getTime()==t.getTime();var l=e instanceof RegExp,u=t instanceof RegExp;if(l!=u)return!1;if(l&&u)return e.toString()==t.toString();var f=Vy(e);if((r=f.length)!==Vy(t).length)return!1;for(n=r;0!==n--;)if(!By.call(t,f[n]))return!1;for(n=r;0!==n--;)if(("_owner"!==(o=f[n])||!e.$$typeof)&&!Hy(e[o],t[o]))return!1;return!0}return e!==e&&t!==t}function Wy(e,t){try{return Hy(e,t)}catch(n){if(n.message&&n.message.match(/stack|recursion/i))return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}}function Gy(){var e,t,n=(e=["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return Gy=function(){return n},n}var qy={name:"19bqh2r",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0;"},Ky=function(e){var t=e.size,n=(0,hy.Z)(e,["size"]);return ly("svg",(0,fd.Z)({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:qy},n))},Yy=function(e){return ly(Ky,(0,fd.Z)({size:20},e),ly("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Xy=function(e){return ly(Ky,(0,fd.Z)({size:20},e),ly("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},$y=function(e){var t=e.isFocused,n=e.theme,r=n.spacing.baseUnit,o=n.colors;return{label:"indicatorContainer",color:t?o.neutral60:o.neutral20,display:"flex",padding:2*r,transition:"color 150ms",":hover":{color:t?o.neutral80:o.neutral40}}},Jy=$y,Qy=$y,eb=function(){var e=cy.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(Gy()),tb=function(e){var t=e.delay,n=e.offset;return ly("span",{css:cy({animation:"".concat(eb," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"")})},nb=function(e){var t=e.className,n=e.cx,r=e.getStyles,o=e.innerProps,i=e.isRtl;return ly("div",(0,fd.Z)({},o,{css:r("loadingIndicator",e),className:n({indicator:!0,"loading-indicator":!0},t)}),ly(tb,{delay:0,offset:i}),ly(tb,{delay:160,offset:!0}),ly(tb,{delay:320,offset:!i}))};nb.defaultProps={size:4};function rb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ob(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rb(Object(n),!0).forEach((function(t){(0,my.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ib(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ab(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ib(Object(n),!0).forEach((function(t){(0,my.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ib(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sb=function(e){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:e?0:1,outline:0,padding:0,color:"inherit"}};function cb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cb(Object(n),!0).forEach((function(t){(0,my.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ub=function(e){var t=e.children,n=e.innerProps;return ly("div",n,t)},fb=ub,db=ub;var hb=function(e){var t=e.children,n=e.className,r=e.components,o=e.cx,i=e.data,a=e.getStyles,s=e.innerProps,c=e.isDisabled,l=e.removeProps,u=e.selectProps,f=r.Container,d=r.Label,h=r.Remove;return ly(dy,null,(function(r){var p=r.css,v=r.cx;return ly(f,{data:i,innerProps:lb(lb({},s),{},{className:v(p(a("multiValue",e)),o({"multi-value":!0,"multi-value--is-disabled":c},n))}),selectProps:u},ly(d,{data:i,innerProps:{className:v(p(a("multiValueLabel",e)),o({"multi-value__label":!0},n))},selectProps:u},t),ly(h,{data:i,innerProps:lb({className:v(p(a("multiValueRemove",e)),o({"multi-value__remove":!0},n))},l),selectProps:u}))}))};hb.defaultProps={cropWithEllipsis:!0};function pb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pb(Object(n),!0).forEach((function(t){(0,my.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}for(var mb={ClearIndicator:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,i=e.innerProps;return ly("div",(0,fd.Z)({},i,{css:o("clearIndicator",e),className:r({indicator:!0,"clear-indicator":!0},n)}),t||ly(Yy,null))},Control:function(e){var t=e.children,n=e.cx,r=e.getStyles,o=e.className,i=e.isDisabled,a=e.isFocused,s=e.innerRef,c=e.innerProps,l=e.menuIsOpen;return ly("div",(0,fd.Z)({ref:s,css:r("control",e),className:n({control:!0,"control--is-disabled":i,"control--is-focused":a,"control--menu-is-open":l},o)},c),t)},DropdownIndicator:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,i=e.innerProps;return ly("div",(0,fd.Z)({},i,{css:o("dropdownIndicator",e),className:r({indicator:!0,"dropdown-indicator":!0},n)}),t||ly(Xy,null))},DownChevron:Xy,CrossIcon:Yy,Group:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,i=e.Heading,a=e.headingProps,s=e.label,c=e.theme,l=e.selectProps;return ly("div",{css:o("group",e),className:r({group:!0},n)},ly(i,(0,fd.Z)({},a,{selectProps:l,theme:c,getStyles:o,cx:r}),s),ly("div",null,t))},GroupHeading:function(e){var t=e.className,n=e.cx,r=e.getStyles,o=e.theme,i=(e.selectProps,(0,hy.Z)(e,["className","cx","getStyles","theme","selectProps"]));return ly("div",(0,fd.Z)({css:r("groupHeading",ob({theme:o},i)),className:n({"group-heading":!0},t)},i))},IndicatorsContainer:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles;return ly("div",{css:o("indicatorsContainer",e),className:r({indicators:!0},n)},t)},IndicatorSeparator:function(e){var t=e.className,n=e.cx,r=e.getStyles,o=e.innerProps;return ly("span",(0,fd.Z)({},o,{css:r("indicatorSeparator",e),className:n({"indicator-separator":!0},t)}))},Input:function(e){var t=e.className,n=e.cx,r=e.getStyles,o=e.innerRef,i=e.isHidden,a=e.isDisabled,s=e.theme,c=(e.selectProps,(0,hy.Z)(e,["className","cx","getStyles","innerRef","isHidden","isDisabled","theme","selectProps"]));return ly("div",{css:r("input",ab({theme:s},c))},ly(gy.Z,(0,fd.Z)({className:n({input:!0},t),inputRef:o,inputStyle:sb(i),disabled:a},c)))},LoadingIndicator:nb,Menu:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,i=e.innerRef,a=e.innerProps;return ly("div",(0,fd.Z)({css:o("menu",e),className:r({menu:!0},n)},a,{ref:i}),t)},MenuList:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,i=e.isMulti,a=e.innerRef,s=e.innerProps;return ly("div",(0,fd.Z)({css:o("menuList",e),className:r({"menu-list":!0,"menu-list--is-multi":i},n),ref:a},s),t)},MenuPortal:Fy,LoadingMessage:zy,NoOptionsMessage:Ly,MultiValue:hb,MultiValueContainer:fb,MultiValueLabel:db,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return ly("div",n,t||ly(Yy,{size:14}))},Option:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,i=e.isDisabled,a=e.isFocused,s=e.isSelected,c=e.innerRef,l=e.innerProps;return ly("div",(0,fd.Z)({css:o("option",e),className:r({option:!0,"option--is-disabled":i,"option--is-focused":a,"option--is-selected":s},n),ref:c},l),t)},Placeholder:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,i=e.innerProps;return ly("div",(0,fd.Z)({css:o("placeholder",e),className:r({placeholder:!0},n)},i),t)},SelectContainer:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,i=e.innerProps,a=e.isDisabled,s=e.isRtl;return ly("div",(0,fd.Z)({css:o("container",e),className:r({"--is-disabled":a,"--is-rtl":s},n)},i),t)},SingleValue:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,i=e.isDisabled,a=e.innerProps;return ly("div",(0,fd.Z)({css:o("singleValue",e),className:r({"single-value":!0,"single-value--is-disabled":i},n)},a),t)},ValueContainer:function(e){var t=e.children,n=e.className,r=e.cx,o=e.isMulti,i=e.getStyles,a=e.hasValue;return ly("div",{css:i("valueContainer",e),className:r({"value-container":!0,"value-container--is-multi":o,"value-container--has-value":a},n)},t)}},gb=function(e){return vb(vb({},mb),e.components)},yb=[{base:"A",letters:"A\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",letters:"\ua732"},{base:"AE",letters:"\xc6\u01fc\u01e2"},{base:"AO",letters:"\ua734"},{base:"AU",letters:"\ua736"},{base:"AV",letters:"\ua738\ua73a"},{base:"AY",letters:"\ua73c"},{base:"B",letters:"B\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0182\u0181"},{base:"C",letters:"C\u24b8\uff23\u0106\u0108\u010a\u010c\xc7\u1e08\u0187\u023b\ua73e"},{base:"D",letters:"D\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018b\u018a\u0189\ua779"},{base:"DZ",letters:"\u01f1\u01c4"},{base:"Dz",letters:"\u01f2\u01c5"},{base:"E",letters:"E\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e"},{base:"F",letters:"F\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",letters:"G\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e"},{base:"H",letters:"H\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",letters:"I\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",letters:"J\u24bf\uff2a\u0134\u0248"},{base:"K",letters:"K\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",letters:"L\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",letters:"\u01c7"},{base:"Lj",letters:"\u01c8"},{base:"M",letters:"M\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c"},{base:"N",letters:"N\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u0220\u019d\ua790\ua7a4"},{base:"NJ",letters:"\u01ca"},{base:"Nj",letters:"\u01cb"},{base:"O",letters:"O\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OI",letters:"\u01a2"},{base:"OO",letters:"\ua74e"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",letters:"Q\u24c6\uff31\ua756\ua758\u024a"},{base:"R",letters:"R\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",letters:"S\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",letters:"T\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"TZ",letters:"\ua728"},{base:"U",letters:"U\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",letters:"V\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",letters:"\ua760"},{base:"W",letters:"W\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",letters:"X\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",letters:"Y\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",letters:"Z\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",letters:"a\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250"},{base:"aa",letters:"\ua733"},{base:"ae",letters:"\xe6\u01fd\u01e3"},{base:"ao",letters:"\ua735"},{base:"au",letters:"\ua737"},{base:"av",letters:"\ua739\ua73b"},{base:"ay",letters:"\ua73d"},{base:"b",letters:"b\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253"},{base:"c",letters:"c\u24d2\uff43\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",letters:"d\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\ua77a"},{base:"dz",letters:"\u01f3\u01c6"},{base:"e",letters:"e\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u025b\u01dd"},{base:"f",letters:"f\u24d5\uff46\u1e1f\u0192\ua77c"},{base:"g",letters:"g\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\u1d79\ua77f"},{base:"h",letters:"h\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",letters:"j\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",letters:"k\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",letters:"l\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747"},{base:"lj",letters:"\u01c9"},{base:"m",letters:"m\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",letters:"n\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5"},{base:"nj",letters:"\u01cc"},{base:"o",letters:"o\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\u0254\ua74b\ua74d\u0275"},{base:"oi",letters:"\u01a3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\ua74f"},{base:"p",letters:"p\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755"},{base:"q",letters:"q\u24e0\uff51\u024b\ua757\ua759"},{base:"r",letters:"r\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",letters:"s\u24e2\uff53\xdf\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b"},{base:"t",letters:"t\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"tz",letters:"\ua729"},{base:"u",letters:"u\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",letters:"v\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",letters:"\ua761"},{base:"w",letters:"w\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",letters:"x\u24e7\uff58\u1e8b\u1e8d"},{base:"y",letters:"y\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",letters:"z\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],bb=new RegExp("["+yb.map((function(e){return e.letters})).join("")+"]","g"),wb={},xb=0;xb<yb.length;xb++)for(var Sb=yb[xb],Cb=0;Cb<Sb.letters.length;Cb++)wb[Sb.letters[Cb]]=Sb.base;var kb=function(e){return e.replace(bb,(function(e){return wb[e]}))};function Ob(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Pb=function(e){return e.replace(/^\s+|\s+$/g,"")},Mb=function(e){return"".concat(e.label," ").concat(e.value)};var Rb={name:"1laao21-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap;"},Eb=function(e){return ly("span",(0,fd.Z)({css:Rb},e))};function Zb(e){e.in,e.out,e.onExited,e.appear,e.enter,e.exit;var t=e.innerRef,n=(e.emotion,(0,hy.Z)(e,["in","out","onExited","appear","enter","exit","innerRef","emotion"]));return ly("input",(0,fd.Z)({ref:t},n,{css:cy({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"")}))}function jb(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zg(e);if(t){var o=Zg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Eg(this,n)}}var Db=function(e){Mg(n,e);var t=jb(n);function n(){return(0,kg.Z)(this,n),t.apply(this,arguments)}return(0,Og.Z)(n,[{key:"componentDidMount",value:function(){this.props.innerRef((0,Gd.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),n}(y.Component),Tb=["boxSizing","height","overflow","paddingRight","position"],Ab={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function _b(e){e.preventDefault()}function Ib(e){e.stopPropagation()}function Nb(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function Lb(){return"ontouchstart"in window||navigator.maxTouchPoints}function zb(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zg(e);if(t){var o=Zg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Eg(this,n)}}var Fb=!(!window.document||!window.document.createElement),Ub=0,Vb=function(e){Mg(n,e);var t=zb(n);function n(){var e;(0,kg.Z)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).originalStyles={},e.listenerOptions={capture:!1,passive:!1},e}return(0,Og.Z)(n,[{key:"componentDidMount",value:function(){var e=this;if(Fb){var t=this.props,n=t.accountForScrollbars,r=t.touchScrollTarget,o=document.body,i=o&&o.style;if(n&&Tb.forEach((function(t){var n=i&&i[t];e.originalStyles[t]=n})),n&&Ub<1){var a=parseInt(this.originalStyles.paddingRight,10)||0,s=document.body?document.body.clientWidth:0,c=window.innerWidth-s+a||0;Object.keys(Ab).forEach((function(e){var t=Ab[e];i&&(i[e]=t)})),i&&(i.paddingRight="".concat(c,"px"))}o&&Lb()&&(o.addEventListener("touchmove",_b,this.listenerOptions),r&&(r.addEventListener("touchstart",Nb,this.listenerOptions),r.addEventListener("touchmove",Ib,this.listenerOptions))),Ub+=1}}},{key:"componentWillUnmount",value:function(){var e=this;if(Fb){var t=this.props,n=t.accountForScrollbars,r=t.touchScrollTarget,o=document.body,i=o&&o.style;Ub=Math.max(Ub-1,0),n&&Ub<1&&Tb.forEach((function(t){var n=e.originalStyles[t];i&&(i[t]=n)})),o&&Lb()&&(o.removeEventListener("touchmove",_b,this.listenerOptions),r&&(r.removeEventListener("touchstart",Nb,this.listenerOptions),r.removeEventListener("touchmove",Ib,this.listenerOptions)))}}},{key:"render",value:function(){return null}}]),n}(y.Component);function Bb(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zg(e);if(t){var o=Zg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Eg(this,n)}}Vb.defaultProps={accountForScrollbars:!0};var Hb={name:"1dsbpcp",styles:"position:fixed;left:0;bottom:0;right:0;top:0;"},Wb=function(e){Mg(n,e);var t=Bb(n);function n(){var e;(0,kg.Z)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={touchScrollTarget:null},e.getScrollTarget=function(t){t!==e.state.touchScrollTarget&&e.setState({touchScrollTarget:t})},e.blurSelectInput=function(){document.activeElement&&document.activeElement.blur()},e}return(0,Og.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.isEnabled,r=this.state.touchScrollTarget;return n?ly("div",null,ly("div",{onClick:this.blurSelectInput,css:Hb}),ly(Db,{innerRef:this.getScrollTarget},t),r?ly(Vb,{touchScrollTarget:r}):null):t}}]),n}(y.PureComponent);function Gb(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zg(e);if(t){var o=Zg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Eg(this,n)}}var qb=function(e){Mg(n,e);var t=Gb(n);function n(){var e;(0,kg.Z)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).isBottom=!1,e.isTop=!1,e.scrollTarget=void 0,e.touchStart=void 0,e.cancelScroll=function(e){e.preventDefault(),e.stopPropagation()},e.handleEventDelta=function(t,n){var r=e.props,o=r.onBottomArrive,i=r.onBottomLeave,a=r.onTopArrive,s=r.onTopLeave,c=e.scrollTarget,l=c.scrollTop,u=c.scrollHeight,f=c.clientHeight,d=e.scrollTarget,h=n>0,p=u-f-l,v=!1;p>n&&e.isBottom&&(i&&i(t),e.isBottom=!1),h&&e.isTop&&(s&&s(t),e.isTop=!1),h&&n>p?(o&&!e.isBottom&&o(t),d.scrollTop=u,v=!0,e.isBottom=!0):!h&&-n>l&&(a&&!e.isTop&&a(t),d.scrollTop=0,v=!0,e.isTop=!0),v&&e.cancelScroll(t)},e.onWheel=function(t){e.handleEventDelta(t,t.deltaY)},e.onTouchStart=function(t){e.touchStart=t.changedTouches[0].clientY},e.onTouchMove=function(t){var n=e.touchStart-t.changedTouches[0].clientY;e.handleEventDelta(t,n)},e.getScrollTarget=function(t){e.scrollTarget=t},e}return(0,Og.Z)(n,[{key:"componentDidMount",value:function(){this.startListening(this.scrollTarget)}},{key:"componentWillUnmount",value:function(){this.stopListening(this.scrollTarget)}},{key:"startListening",value:function(e){e&&("function"===typeof e.addEventListener&&e.addEventListener("wheel",this.onWheel,!1),"function"===typeof e.addEventListener&&e.addEventListener("touchstart",this.onTouchStart,!1),"function"===typeof e.addEventListener&&e.addEventListener("touchmove",this.onTouchMove,!1))}},{key:"stopListening",value:function(e){e&&("function"===typeof e.removeEventListener&&e.removeEventListener("wheel",this.onWheel,!1),"function"===typeof e.removeEventListener&&e.removeEventListener("touchstart",this.onTouchStart,!1),"function"===typeof e.removeEventListener&&e.removeEventListener("touchmove",this.onTouchMove,!1))}},{key:"render",value:function(){return y.createElement(Db,{innerRef:this.getScrollTarget},this.props.children)}}]),n}(y.Component);function Kb(e){var t=e.isEnabled,n=void 0===t||t,r=(0,hy.Z)(e,["isEnabled"]);return n?y.createElement(qb,r):r.children}var Yb=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isSearchable,r=t.isMulti,o=t.label,i=t.isDisabled,a=t.tabSelectsValue;switch(e){case"menu":return"Use Up and Down to choose options".concat(i?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(a?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(o||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value"}},Xb=function(e,t){var n=t.value,r=t.isDisabled;if(n)switch(e){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(n,", deselected.");case"select-option":return"option ".concat(n,r?" is disabled. Select another option.":", selected.")}},$b=function(e){return!!e.isDisabled};var Jb={clearIndicator:Qy,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":null,pointerEvents:t?"none":null,position:"relative"}},control:function(e){var t=e.isDisabled,n=e.isFocused,r=e.theme,o=r.colors,i=r.borderRadius,a=r.spacing;return{label:"control",alignItems:"center",backgroundColor:t?o.neutral5:o.neutral0,borderColor:t?o.neutral10:n?o.primary:o.neutral20,borderRadius:i,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px ".concat(o.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:a.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:n?o.primary:o.neutral30}}},dropdownIndicator:Jy,group:function(e){var t=e.theme.spacing;return{paddingBottom:2*t.baseUnit,paddingTop:2*t.baseUnit}},groupHeading:function(e){var t=e.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:3*t.baseUnit,paddingRight:3*t.baseUnit,textTransform:"uppercase"}},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing.baseUnit,o=n.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:t?o.neutral10:o.neutral20,marginBottom:2*r,marginTop:2*r,width:1}},input:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing,o=n.colors;return{margin:r.baseUnit/2,paddingBottom:r.baseUnit/2,paddingTop:r.baseUnit/2,visibility:t?"hidden":"visible",color:o.neutral80}},loadingIndicator:function(e){var t=e.isFocused,n=e.size,r=e.theme,o=r.colors,i=r.spacing.baseUnit;return{label:"loadingIndicator",color:t?o.neutral60:o.neutral20,display:"flex",padding:2*i,transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"}},loadingMessage:Ny,menu:function(e){var t,n=e.placement,r=e.theme,o=r.borderRadius,i=r.spacing,a=r.colors;return t={label:"menu"},(0,my.Z)(t,function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(n),"100%"),(0,my.Z)(t,"backgroundColor",a.neutral0),(0,my.Z)(t,"borderRadius",o),(0,my.Z)(t,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),(0,my.Z)(t,"marginBottom",i.menuGutter),(0,my.Z)(t,"marginTop",i.menuGutter),(0,my.Z)(t,"position","absolute"),(0,my.Z)(t,"width","100%"),(0,my.Z)(t,"zIndex",1),t},menuList:function(e){var t=e.maxHeight,n=e.theme.spacing.baseUnit;return{maxHeight:t,overflowY:"auto",paddingBottom:n,paddingTop:n,position:"relative",WebkitOverflowScrolling:"touch"}},menuPortal:function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},multiValue:function(e){var t=e.theme,n=t.spacing,r=t.borderRadius;return{label:"multiValue",backgroundColor:t.colors.neutral10,borderRadius:r/2,display:"flex",margin:n.baseUnit/2,minWidth:0}},multiValueLabel:function(e){var t=e.theme,n=t.borderRadius,r=t.colors,o=e.cropWithEllipsis;return{borderRadius:n/2,color:r.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:o?"ellipsis":null,whiteSpace:"nowrap"}},multiValueRemove:function(e){var t=e.theme,n=t.spacing,r=t.borderRadius,o=t.colors;return{alignItems:"center",borderRadius:r/2,backgroundColor:e.isFocused&&o.dangerLight,display:"flex",paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}}},noOptionsMessage:Iy,option:function(e){var t=e.isDisabled,n=e.isFocused,r=e.isSelected,o=e.theme,i=o.spacing,a=o.colors;return{label:"option",backgroundColor:r?a.primary:n?a.primary25:"transparent",color:t?a.neutral20:r?a.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(2*i.baseUnit,"px ").concat(3*i.baseUnit,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!t&&(r?a.primary:a.primary50)}}},placeholder:function(e){var t=e.theme,n=t.spacing;return{label:"placeholder",color:t.colors.neutral50,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},singleValue:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing,o=n.colors;return{label:"singleValue",color:t?o.neutral40:o.neutral80,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2,maxWidth:"calc(100% - ".concat(2*r.baseUnit,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},valueContainer:function(e){var t=e.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(t.baseUnit/2,"px ").concat(2*t.baseUnit,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}}};var Qb={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}};function ew(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ew(Object(n),!0).forEach((function(t){(0,my.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ew(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nw(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zg(e);if(t){var o=Zg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Eg(this,n)}}var rw,ow={backspaceRemovesValue:!0,blurInputOnSelect:My(),captureMenuScroll:!My(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ob(Object(n),!0).forEach((function(t){(0,my.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ob(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ignoreCase:!0,ignoreAccents:!0,stringify:Mb,trim:!0,matchFrom:"any"},rw),r=n.ignoreCase,o=n.ignoreAccents,i=n.stringify,a=n.trim,s=n.matchFrom,c=a?Pb(t):t,l=a?Pb(i(e)):i(e);return r&&(c=c.toLowerCase(),l=l.toLowerCase()),o&&(c=kb(c),l=kb(l)),"start"===s?l.substr(0,c.length)===c:l.indexOf(c)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:$b,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0},iw=1,aw=function(e){Mg(n,e);var t=nw(n);function n(e){var r;(0,kg.Z)(this,n),(r=t.call(this,e)).state={ariaLiveSelection:"",ariaLiveContext:"",focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,menuOptions:{render:[],focusable:[]},selectValue:[]},r.blockOptionHover=!1,r.isComposing=!1,r.clearFocusValueOnUpdate=!1,r.commonProps=void 0,r.components=void 0,r.hasGroups=!1,r.initialTouchX=0,r.initialTouchY=0,r.inputIsHiddenAfterUpdate=void 0,r.instancePrefix="",r.openAfterFocus=!1,r.scrollToFocusedOptionOnUpdate=!1,r.userIsDragging=void 0,r.controlRef=null,r.getControlRef=function(e){r.controlRef=e},r.focusedOptionRef=null,r.getFocusedOptionRef=function(e){r.focusedOptionRef=e},r.menuListRef=null,r.getMenuListRef=function(e){r.menuListRef=e},r.inputRef=null,r.getInputRef=function(e){r.inputRef=e},r.cacheComponents=function(e){r.components=gb({components:e})},r.focus=r.focusInput,r.blur=r.blurInput,r.onChange=function(e,t){var n=r.props,o=n.onChange,i=n.name;o(e,tw(tw({},t),{},{name:i}))},r.setValue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"set-value",n=arguments.length>2?arguments[2]:void 0,o=r.props,i=o.closeMenuOnSelect,a=o.isMulti;r.onInputChange("",{action:"set-value"}),i&&(r.inputIsHiddenAfterUpdate=!a,r.onMenuClose()),r.clearFocusValueOnUpdate=!0,r.onChange(e,{action:t,option:n})},r.selectOption=function(e){var t=r.props,n=t.blurInputOnSelect,o=t.isMulti,i=r.state.selectValue;if(o)if(r.isOptionSelected(e,i)){var a=r.getOptionValue(e);r.setValue(i.filter((function(e){return r.getOptionValue(e)!==a})),"deselect-option",e),r.announceAriaLiveSelection({event:"deselect-option",context:{value:r.getOptionLabel(e)}})}else r.isOptionDisabled(e,i)?r.announceAriaLiveSelection({event:"select-option",context:{value:r.getOptionLabel(e),isDisabled:!0}}):(r.setValue([].concat((0,vy.Z)(i),[e]),"select-option",e),r.announceAriaLiveSelection({event:"select-option",context:{value:r.getOptionLabel(e)}}));else r.isOptionDisabled(e,i)?r.announceAriaLiveSelection({event:"select-option",context:{value:r.getOptionLabel(e),isDisabled:!0}}):(r.setValue(e,"select-option"),r.announceAriaLiveSelection({event:"select-option",context:{value:r.getOptionLabel(e)}}));n&&r.blurInput()},r.removeValue=function(e){var t=r.state.selectValue,n=r.getOptionValue(e),o=t.filter((function(e){return r.getOptionValue(e)!==n}));r.onChange(o.length?o:null,{action:"remove-value",removedValue:e}),r.announceAriaLiveSelection({event:"remove-value",context:{value:e?r.getOptionLabel(e):""}}),r.focusInput()},r.clearValue=function(){r.onChange(null,{action:"clear"})},r.popValue=function(){var e=r.state.selectValue,t=e[e.length-1],n=e.slice(0,e.length-1);r.announceAriaLiveSelection({event:"pop-value",context:{value:t?r.getOptionLabel(t):""}}),r.onChange(n.length?n:null,{action:"pop-value",removedValue:t})},r.getValue=function(){return r.state.selectValue},r.cx=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return wy.apply(void 0,[r.props.classNamePrefix].concat(t))},r.getOptionLabel=function(e){return r.props.getOptionLabel(e)},r.getOptionValue=function(e){return r.props.getOptionValue(e)},r.getStyles=function(e,t){var n=Jb[e](t);n.boxSizing="border-box";var o=r.props.styles[e];return o?o(n,t):n},r.getElementId=function(e){return"".concat(r.instancePrefix,"-").concat(e)},r.getActiveDescendentId=function(){var e=r.props.menuIsOpen,t=r.state,n=t.menuOptions,o=t.focusedOption;if(o&&e){var i=n.focusable.indexOf(o),a=n.render[i];return a&&a.key}},r.announceAriaLiveSelection=function(e){var t=e.event,n=e.context;r.setState({ariaLiveSelection:Xb(t,n)})},r.announceAriaLiveContext=function(e){var t=e.event,n=e.context;r.setState({ariaLiveContext:Yb(t,tw(tw({},n),{},{label:r.props["aria-label"]}))})},r.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),r.focusInput())},r.onMenuMouseMove=function(e){r.blockOptionHover=!1},r.onControlMouseDown=function(e){var t=r.props.openMenuOnClick;r.state.isFocused?r.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&r.onMenuClose():t&&r.openMenu("first"):(t&&(r.openAfterFocus=!0),r.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()},r.onDropdownIndicatorMouseDown=function(e){if((!e||"mousedown"!==e.type||0===e.button)&&!r.props.isDisabled){var t=r.props,n=t.isMulti,o=t.menuIsOpen;r.focusInput(),o?(r.inputIsHiddenAfterUpdate=!n,r.onMenuClose()):r.openMenu("first"),e.preventDefault(),e.stopPropagation()}},r.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(r.clearValue(),e.stopPropagation(),r.openAfterFocus=!1,"touchend"===e.type?r.focusInput():setTimeout((function(){return r.focusInput()})))},r.onScroll=function(e){"boolean"===typeof r.props.closeMenuOnScroll?e.target instanceof HTMLElement&&Sy(e.target)&&r.props.onMenuClose():"function"===typeof r.props.closeMenuOnScroll&&r.props.closeMenuOnScroll(e)&&r.props.onMenuClose()},r.onCompositionStart=function(){r.isComposing=!0},r.onCompositionEnd=function(){r.isComposing=!1},r.onTouchStart=function(e){var t=e.touches,n=t&&t.item(0);n&&(r.initialTouchX=n.clientX,r.initialTouchY=n.clientY,r.userIsDragging=!1)},r.onTouchMove=function(e){var t=e.touches,n=t&&t.item(0);if(n){var o=Math.abs(n.clientX-r.initialTouchX),i=Math.abs(n.clientY-r.initialTouchY);r.userIsDragging=o>5||i>5}},r.onTouchEnd=function(e){r.userIsDragging||(r.controlRef&&!r.controlRef.contains(e.target)&&r.menuListRef&&!r.menuListRef.contains(e.target)&&r.blurInput(),r.initialTouchX=0,r.initialTouchY=0)},r.onControlTouchEnd=function(e){r.userIsDragging||r.onControlMouseDown(e)},r.onClearIndicatorTouchEnd=function(e){r.userIsDragging||r.onClearIndicatorMouseDown(e)},r.onDropdownIndicatorTouchEnd=function(e){r.userIsDragging||r.onDropdownIndicatorMouseDown(e)},r.handleInputChange=function(e){var t=e.currentTarget.value;r.inputIsHiddenAfterUpdate=!1,r.onInputChange(t,{action:"input-change"}),r.props.menuIsOpen||r.onMenuOpen()},r.onInputFocus=function(e){var t=r.props,n=t.isSearchable,o=t.isMulti;r.props.onFocus&&r.props.onFocus(e),r.inputIsHiddenAfterUpdate=!1,r.announceAriaLiveContext({event:"input",context:{isSearchable:n,isMulti:o}}),r.setState({isFocused:!0}),(r.openAfterFocus||r.props.openMenuOnFocus)&&r.openMenu("first"),r.openAfterFocus=!1},r.onInputBlur=function(e){r.menuListRef&&r.menuListRef.contains(document.activeElement)?r.inputRef.focus():(r.props.onBlur&&r.props.onBlur(e),r.onInputChange("",{action:"input-blur"}),r.onMenuClose(),r.setState({focusedValue:null,isFocused:!1}))},r.onOptionHover=function(e){r.blockOptionHover||r.state.focusedOption===e||r.setState({focusedOption:e})},r.shouldHideSelectedOptions=function(){var e=r.props,t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},r.onKeyDown=function(e){var t=r.props,n=t.isMulti,o=t.backspaceRemovesValue,i=t.escapeClearsValue,a=t.inputValue,s=t.isClearable,c=t.isDisabled,l=t.menuIsOpen,u=t.onKeyDown,f=t.tabSelectsValue,d=t.openMenuOnFocus,h=r.state,p=h.focusedOption,v=h.focusedValue,m=h.selectValue;if(!c&&("function"!==typeof u||(u(e),!e.defaultPrevented))){switch(r.blockOptionHover=!0,e.key){case"ArrowLeft":if(!n||a)return;r.focusValue("previous");break;case"ArrowRight":if(!n||a)return;r.focusValue("next");break;case"Delete":case"Backspace":if(a)return;if(v)r.removeValue(v);else{if(!o)return;n?r.popValue():s&&r.clearValue()}break;case"Tab":if(r.isComposing)return;if(e.shiftKey||!l||!f||!p||d&&r.isOptionSelected(p,m))return;r.selectOption(p);break;case"Enter":if(229===e.keyCode)break;if(l){if(!p)return;if(r.isComposing)return;r.selectOption(p);break}return;case"Escape":l?(r.inputIsHiddenAfterUpdate=!1,r.onInputChange("",{action:"menu-close"}),r.onMenuClose()):s&&i&&r.clearValue();break;case" ":if(a)return;if(!l){r.openMenu("first");break}if(!p)return;r.selectOption(p);break;case"ArrowUp":l?r.focusOption("up"):r.openMenu("last");break;case"ArrowDown":l?r.focusOption("down"):r.openMenu("first");break;case"PageUp":if(!l)return;r.focusOption("pageup");break;case"PageDown":if(!l)return;r.focusOption("pagedown");break;case"Home":if(!l)return;r.focusOption("first");break;case"End":if(!l)return;r.focusOption("last");break;default:return}e.preventDefault()}},r.buildMenuOptions=function(e,t){var n=e.inputValue,o=void 0===n?"":n,i=e.options,a=function(e,n){var i=r.isOptionDisabled(e,t),a=r.isOptionSelected(e,t),s=r.getOptionLabel(e),c=r.getOptionValue(e);if(!(r.shouldHideSelectedOptions()&&a||!r.filterOption({label:s,value:c,data:e},o))){var l=i?void 0:function(){return r.onOptionHover(e)},u=i?void 0:function(){return r.selectOption(e)},f="".concat(r.getElementId("option"),"-").concat(n);return{innerProps:{id:f,onClick:u,onMouseMove:l,onMouseOver:l,tabIndex:-1},data:e,isDisabled:i,isSelected:a,key:f,label:s,type:"option",value:c}}};return i.reduce((function(e,t,n){if(t.options){r.hasGroups||(r.hasGroups=!0);var o=t.options.map((function(t,r){var o=a(t,"".concat(n,"-").concat(r));return o&&e.focusable.push(t),o})).filter(Boolean);if(o.length){var i="".concat(r.getElementId("group"),"-").concat(n);e.render.push({type:"group",key:i,data:t,options:o})}}else{var s=a(t,"".concat(n));s&&(e.render.push(s),e.focusable.push(t))}return e}),{render:[],focusable:[]})};var o=e.value;r.cacheComponents=vd(r.cacheComponents,Wy).bind((0,hd.Z)(r)),r.cacheComponents(e.components),r.instancePrefix="react-select-"+(r.props.instanceId||++iw);var i=xy(o);r.buildMenuOptions=vd(r.buildMenuOptions,(function(e,t){var n=e,r=(0,py.Z)(n,2),o=r[0],i=r[1],a=t,s=(0,py.Z)(a,2),c=s[0];return i===s[1]&&o.inputValue===c.inputValue&&o.options===c.options})).bind((0,hd.Z)(r));var a=e.menuIsOpen?r.buildMenuOptions(e,i):{render:[],focusable:[]};return r.state.menuOptions=a,r.state.selectValue=i,r}return(0,Og.Z)(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props,n=t.options,r=t.value,o=t.menuIsOpen,i=t.inputValue;if(this.cacheComponents(e.components),e.value!==r||e.options!==n||e.menuIsOpen!==o||e.inputValue!==i){var a=xy(e.value),s=e.menuIsOpen?this.buildMenuOptions(e,a):{render:[],focusable:[]},c=this.getNextFocusedValue(a),l=this.getNextFocusedOption(s.focusable);this.setState({menuOptions:s,selectValue:a,focusedOption:l,focusedValue:c})}null!=this.inputIsHiddenAfterUpdate&&(this.setState({inputIsHidden:this.inputIsHiddenAfterUpdate}),delete this.inputIsHiddenAfterUpdate)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,r=t.menuIsOpen,o=this.state.isFocused;(o&&!n&&e.isDisabled||o&&r&&!e.menuIsOpen)&&this.focusInput(),o&&n&&!e.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(!function(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),o=t.offsetHeight/3;r.bottom+o>n.bottom?ky(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+o,e.scrollHeight)):r.top-o<n.top&&ky(e,Math.max(t.offsetTop-o,0))}(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){var e=this.props,t=e.isSearchable,n=e.isMulti;this.announceAriaLiveContext({event:"input",context:{isSearchable:t,isMulti:n}}),this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,r=n.selectValue,o=n.isFocused,i=this.buildMenuOptions(this.props,r),a=this.props,s=a.isMulti,c=a.tabSelectsValue,l="first"===e?0:i.focusable.length-1;if(!s){var u=i.focusable.indexOf(r[0]);u>-1&&(l=u)}this.scrollToFocusedOptionOnUpdate=!(o&&this.menuListRef),this.inputIsHiddenAfterUpdate=!1,this.setState({menuOptions:i,focusedValue:null,focusedOption:i.focusable[l]},(function(){t.onMenuOpen(),t.announceAriaLiveContext({event:"menu",context:{tabSelectsValue:c}})}))}},{key:"focusValue",value:function(e){var t=this.props,n=t.isMulti,r=t.isSearchable,o=this.state,i=o.selectValue,a=o.focusedValue;if(n){this.setState({focusedOption:null});var s=i.indexOf(a);a||(s=-1,this.announceAriaLiveContext({event:"value"}));var c=i.length-1,l=-1;if(i.length){switch(e){case"previous":l=0===s?0:-1===s?c:s-1;break;case"next":s>-1&&s<c&&(l=s+1)}-1===l&&this.announceAriaLiveContext({event:"input",context:{isSearchable:r,isMulti:n}}),this.setState({inputIsHidden:-1!==l,focusedValue:i[l]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props,n=t.pageSize,r=t.tabSelectsValue,o=this.state,i=o.focusedOption,a=o.menuOptions,s=a.focusable;if(s.length){var c=0,l=s.indexOf(i);i||(l=-1,this.announceAriaLiveContext({event:"menu",context:{tabSelectsValue:r}})),"up"===e?c=l>0?l-1:s.length-1:"down"===e?c=(l+1)%s.length:"pageup"===e?(c=l-n)<0&&(c=0):"pagedown"===e?(c=l+n)>s.length-1&&(c=s.length-1):"last"===e&&(c=s.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:s[c],focusedValue:null}),this.announceAriaLiveContext({event:"menu",context:{isDisabled:$b(s[c]),tabSelectsValue:r}})}}},{key:"getTheme",value:function(){return this.props.theme?"function"===typeof this.props.theme?this.props.theme(Qb):tw(tw({},Qb),this.props.theme):Qb}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,r=this.getValue,o=this.setValue,i=this.selectOption,a=this.props,s=a.isMulti,c=a.isRtl,l=a.options;return{cx:t,clearValue:e,getStyles:n,getValue:r,hasValue:this.hasValue(),isMulti:s,isRtl:c,options:l,selectOption:i,setValue:o,selectProps:a,theme:this.getTheme()}}},{key:"getNextFocusedValue",value:function(e){if(this.clearFocusValueOnUpdate)return this.clearFocusValueOnUpdate=!1,null;var t=this.state,n=t.focusedValue,r=t.selectValue.indexOf(n);if(r>-1){if(e.indexOf(n)>-1)return n;if(r<e.length)return e[r]}return null}},{key:"getNextFocusedOption",value:function(e){var t=this.state.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.state.menuOptions.render.length}},{key:"countOptions",value:function(){return this.state.menuOptions.focusable.length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return"function"===typeof this.props.isOptionDisabled&&this.props.isOptionDisabled(e,t)}},{key:"isOptionSelected",value:function(e,t){var n=this;if(t.indexOf(e)>-1)return!0;if("function"===typeof this.props.isOptionSelected)return this.props.isOptionSelected(e,t);var r=this.getOptionValue(e);return t.some((function(e){return n.getOptionValue(e)===r}))}},{key:"filterOption",value:function(e,t){return!this.props.filterOption||this.props.filterOption(e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"===typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:r})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"constructAriaLiveMessage",value:function(){var e=this.state,t=e.ariaLiveContext,n=e.selectValue,r=e.focusedValue,o=e.focusedOption,i=this.props,a=i.options,s=i.menuIsOpen,c=i.inputValue,l=i.screenReaderStatus,u=r?function(e){var t=e.focusedValue,n=e.getOptionLabel,r=e.selectValue;return"value ".concat(n(t)," focused, ").concat(r.indexOf(t)+1," of ").concat(r.length,".")}({focusedValue:r,getOptionLabel:this.getOptionLabel,selectValue:n}):"",f=o&&s?function(e){var t=e.focusedOption,n=e.getOptionLabel,r=e.options;return"option ".concat(n(t)," focused").concat(t.isDisabled?" disabled":"",", ").concat(r.indexOf(t)+1," of ").concat(r.length,".")}({focusedOption:o,getOptionLabel:this.getOptionLabel,options:a}):"",d=function(e){var t=e.inputValue,n=e.screenReaderMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}({inputValue:c,screenReaderMessage:l({count:this.countOptions()})});return"".concat(u," ").concat(f," ").concat(d," ").concat(t)}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,r=e.inputId,o=e.inputValue,i=e.tabIndex,a=e.form,s=this.components.Input,c=this.state.inputIsHidden,l=r||this.getElementId("input"),u={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};if(!n)return y.createElement(Zb,(0,fd.Z)({id:l,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:yy,onFocus:this.onInputFocus,readOnly:!0,disabled:t,tabIndex:i,form:a,value:""},u));var f=this.commonProps,d=f.cx,h=f.theme,p=f.selectProps;return y.createElement(s,(0,fd.Z)({autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",cx:d,getStyles:this.getStyles,id:l,innerRef:this.getInputRef,isDisabled:t,isHidden:c,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,selectProps:p,spellCheck:"false",tabIndex:i,form:a,theme:h,type:"text",value:o},u))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.components,n=t.MultiValue,r=t.MultiValueContainer,o=t.MultiValueLabel,i=t.MultiValueRemove,a=t.SingleValue,s=t.Placeholder,c=this.commonProps,l=this.props,u=l.controlShouldRenderValue,f=l.isDisabled,d=l.isMulti,h=l.inputValue,p=l.placeholder,v=this.state,m=v.selectValue,g=v.focusedValue,b=v.isFocused;if(!this.hasValue()||!u)return h?null:y.createElement(s,(0,fd.Z)({},c,{key:"placeholder",isDisabled:f,isFocused:b}),p);if(d)return m.map((function(t,a){var s=t===g;return y.createElement(n,(0,fd.Z)({},c,{components:{Container:r,Label:o,Remove:i},isFocused:s,isDisabled:f,key:"".concat(e.getOptionValue(t)).concat(a),index:a,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault(),e.stopPropagation()}},data:t}),e.formatOptionLabel(t,"value"))}));if(h)return null;var w=m[0];return y.createElement(a,(0,fd.Z)({},c,{data:w,isDisabled:f}),this.formatOptionLabel(w,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.components.ClearIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,o=n.isLoading,i=this.state.isFocused;if(!this.isClearable()||!e||r||!this.hasValue()||o)return null;var a={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return y.createElement(e,(0,fd.Z)({},t,{innerProps:a,isFocused:i}))}},{key:"renderLoadingIndicator",value:function(){var e=this.components.LoadingIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,o=n.isLoading,i=this.state.isFocused;if(!e||!o)return null;return y.createElement(e,(0,fd.Z)({},t,{innerProps:{"aria-hidden":"true"},isDisabled:r,isFocused:i}))}},{key:"renderIndicatorSeparator",value:function(){var e=this.components,t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var r=this.commonProps,o=this.props.isDisabled,i=this.state.isFocused;return y.createElement(n,(0,fd.Z)({},r,{isDisabled:o,isFocused:i}))}},{key:"renderDropdownIndicator",value:function(){var e=this.components.DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,r=this.state.isFocused,o={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return y.createElement(e,(0,fd.Z)({},t,{innerProps:o,isDisabled:n,isFocused:r}))}},{key:"renderMenu",value:function(){var e=this,t=this.components,n=t.Group,r=t.GroupHeading,o=t.Menu,i=t.MenuList,a=t.MenuPortal,s=t.LoadingMessage,c=t.NoOptionsMessage,l=t.Option,u=this.commonProps,f=this.state,d=f.focusedOption,h=f.menuOptions,p=this.props,v=p.captureMenuScroll,m=p.inputValue,g=p.isLoading,b=p.loadingMessage,w=p.minMenuHeight,x=p.maxMenuHeight,S=p.menuIsOpen,C=p.menuPlacement,k=p.menuPosition,O=p.menuPortalTarget,P=p.menuShouldBlockScroll,M=p.menuShouldScrollIntoView,R=p.noOptionsMessage,E=p.onMenuScrollToTop,Z=p.onMenuScrollToBottom;if(!S)return null;var j,D=function(t){var n=d===t.data;return t.innerRef=n?e.getFocusedOptionRef:void 0,y.createElement(l,(0,fd.Z)({},u,t,{isFocused:n}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())j=h.render.map((function(t){if("group"===t.type){t.type;var o=(0,hy.Z)(t,["type"]),i="".concat(t.key,"-heading");return y.createElement(n,(0,fd.Z)({},u,o,{Heading:r,headingProps:{id:i,data:t.data},label:e.formatGroupLabel(t.data)}),t.options.map((function(e){return D(e)})))}if("option"===t.type)return D(t)}));else if(g){var T=b({inputValue:m});if(null===T)return null;j=y.createElement(s,u,T)}else{var A=R({inputValue:m});if(null===A)return null;j=y.createElement(c,u,A)}var _={minMenuHeight:w,maxMenuHeight:x,menuPlacement:C,menuPosition:k,menuShouldScrollIntoView:M},I=y.createElement(Ay,(0,fd.Z)({},u,_),(function(t){var n=t.ref,r=t.placerProps,a=r.placement,s=r.maxHeight;return y.createElement(o,(0,fd.Z)({},u,_,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:g,placement:a}),y.createElement(Kb,{isEnabled:v,onTopArrive:E,onBottomArrive:Z},y.createElement(Wb,{isEnabled:P},y.createElement(i,(0,fd.Z)({},u,{innerRef:e.getMenuListRef,isLoading:g,maxHeight:s}),j))))}));return O||"fixed"===k?y.createElement(a,(0,fd.Z)({},u,{appendTo:O,controlElement:this.controlRef,menuPlacement:C,menuPosition:k}),I):I}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,r=t.isDisabled,o=t.isMulti,i=t.name,a=this.state.selectValue;if(i&&!r){if(o){if(n){var s=a.map((function(t){return e.getOptionValue(t)})).join(n);return y.createElement("input",{name:i,type:"hidden",value:s})}var c=a.length>0?a.map((function(t,n){return y.createElement("input",{key:"i-".concat(n),name:i,type:"hidden",value:e.getOptionValue(t)})})):y.createElement("input",{name:i,type:"hidden"});return y.createElement("div",null,c)}var l=a[0]?this.getOptionValue(a[0]):"";return y.createElement("input",{name:i,type:"hidden",value:l})}}},{key:"renderLiveRegion",value:function(){return this.state.isFocused?y.createElement(Eb,{"aria-live":"polite"},y.createElement("span",{id:"aria-selection-event"},"\xa0",this.state.ariaLiveSelection),y.createElement("span",{id:"aria-context"},"\xa0",this.constructAriaLiveMessage())):null}},{key:"render",value:function(){var e=this.components,t=e.Control,n=e.IndicatorsContainer,r=e.SelectContainer,o=e.ValueContainer,i=this.props,a=i.className,s=i.id,c=i.isDisabled,l=i.menuIsOpen,u=this.state.isFocused,f=this.commonProps=this.getCommonProps();return y.createElement(r,(0,fd.Z)({},f,{className:a,innerProps:{id:s,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:u}),this.renderLiveRegion(),y.createElement(t,(0,fd.Z)({},f,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:u,menuIsOpen:l}),y.createElement(o,(0,fd.Z)({},f,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),y.createElement(n,(0,fd.Z)({},f,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}]),n}(y.Component);aw.defaultProps=ow;n(26885);function sw(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zg(e);if(t){var o=Zg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Eg(this,n)}}var cw={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},lw=function(e){var t,n;return n=t=function(t){Mg(r,t);var n=sw(r);function r(){var e;(0,kg.Z)(this,r);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(e=n.call.apply(n,[this].concat(o))).select=void 0,e.state={inputValue:void 0!==e.props.inputValue?e.props.inputValue:e.props.defaultInputValue,menuIsOpen:void 0!==e.props.menuIsOpen?e.props.menuIsOpen:e.props.defaultMenuIsOpen,value:void 0!==e.props.value?e.props.value:e.props.defaultValue},e.onChange=function(t,n){e.callProp("onChange",t,n),e.setState({value:t})},e.onInputChange=function(t,n){var r=e.callProp("onInputChange",t,n);e.setState({inputValue:void 0!==r?r:t})},e.onMenuOpen=function(){e.callProp("onMenuOpen"),e.setState({menuIsOpen:!0})},e.onMenuClose=function(){e.callProp("onMenuClose"),e.setState({menuIsOpen:!1})},e}return(0,Og.Z)(r,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(e){return void 0!==this.props[e]?this.props[e]:this.state[e]}},{key:"callProp",value:function(e){if("function"===typeof this.props[e]){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(t=this.props)[e].apply(t,r)}}},{key:"render",value:function(){var t=this,n=this.props,r=(n.defaultInputValue,n.defaultMenuIsOpen,n.defaultValue,(0,hy.Z)(n,["defaultInputValue","defaultMenuIsOpen","defaultValue"]));return y.createElement(e,(0,fd.Z)({},r,{ref:function(e){t.select=e},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),r}(y.Component),t.defaultProps=cw,n};function uw(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zg(e);if(t){var o=Zg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Eg(this,n)}}y.Component;var fw=lw(aw);function dw(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zg(e);if(t){var o=Zg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Eg(this,n)}}function hw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var pw=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=String(e).toLowerCase(),r=String(t.value).toLowerCase(),o=String(t.label).toLowerCase();return r===n||o===n},vw=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hw(Object(n),!0).forEach((function(t){(0,my.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({allowCreateWhileLoading:!1,createOptionPosition:"last"},{formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,n){return!(!e||t.some((function(t){return pw(e,t)}))||n.some((function(t){return pw(e,t)})))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}}),mw=lw(function(e){var t,n;return n=t=function(t){Mg(r,t);var n=dw(r);function r(e){var t;(0,kg.Z)(this,r),(t=n.call(this,e)).select=void 0,t.onChange=function(e,n){var r=t.props,o=r.getNewOptionData,i=r.inputValue,a=r.isMulti,s=r.onChange,c=r.onCreateOption,l=r.value,u=r.name;if("select-option"!==n.action)return s(e,n);var f=t.state.newOption,d=Array.isArray(e)?e:[e];if(d[d.length-1]!==f)s(e,n);else if(c)c(i);else{var h=o(i,i),p={action:"create-option",name:u};s(a?[].concat((0,vy.Z)(xy(l)),[h]):h,p)}};var o=e.options||[];return t.state={newOption:void 0,options:o},t}return(0,Og.Z)(r,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.allowCreateWhileLoading,n=e.createOptionPosition,r=e.formatCreateLabel,o=e.getNewOptionData,i=e.inputValue,a=e.isLoading,s=e.isValidNewOption,c=e.value,l=e.options||[],u=this.state.newOption;u=s(i,xy(c),l)?o(i,r(i)):void 0,this.setState({newOption:u,options:!t&&a||!u?l:"first"===n?[u].concat((0,vy.Z)(l)):[].concat((0,vy.Z)(l),[u])})}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"render",value:function(){var t=this,n=this.state.options;return y.createElement(e,(0,fd.Z)({},this.props,{ref:function(e){t.select=e},options:n,onChange:this.onChange}))}}]),r}(y.Component),t.defaultProps=vw,n}(aw)),gw=y.createElement;function yw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yw(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ww={container:function(e){return bw(bw({},e),{},{width:"100%",maxWidth:"200px"})},control:function(e,t){var n=t.isDisabled;return bw(bw({},e),{},{backgroundColor:n?"#222222":"black",minHeight:"24px",border:"1px solid #5D646C",cursor:"pointer"})},input:function(e,t){var n=t.isDisabled;return bw(bw({},e),{},{margin:"0px",color:n?"grey":"white"})},dropdownIndicator:function(e){return bw(bw({},e),{},{padding:"0 4px 0 0"})},clearIndicator:function(e){return bw(bw({},e),{},{padding:"0",width:"16px",height:"16px",alignItems:"center",paddingTop:"1px"})},menu:function(e){return bw(bw({},e),{},{borderRadius:"4px",border:"1px solid black",backgroundColor:"black",outline:"none",padding:"0",position:"absolute",top:"20px"})},menuList:function(e){return bw(bw({},e),{},{padding:"0"})},option:function(e,t){var n=t.isFocused;return bw(bw({},e),{},{backgroundColor:n?"#006EFF":"black",cursor:"pointer"})},singleValue:function(e,t){var n=t.isDisabled;return bw(bw({},e),{},{color:n?"grey":"white"})}};function xw(e){var t=e.value,n=e.options,r=e.onChange,i=e.placeholder,a=e.disabled,s=e.error,c=e.styles,l=e.creatable,u=(0,sn.Z)(e,["value","options","onChange","placeholder","disabled","error","styles","creatable"]),f=n.find((function(e){return null===e?e:e.value&&e.value.equals?e.value.equals(t):e.value===t}))||null,d=bw(bw({},ww),{},{placeholder:function(e,t){var n=t.isDisabled;return bw(bw({},e),{},{color:n?"grey":s?"red":"white"})}},c);return gw(l?mw:fw,(0,o.Z)({},u,{styles:d,value:f,components:{IndicatorSeparator:function(){return null}},placeholder:i,options:n,onChange:function(e){return r(e&&e.value,e)},isDisabled:a}))}function Sw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sw(Object(n),!0).forEach((function(t){(0,my.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kw(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zg(e);if(t){var o=Zg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Eg(this,n)}}xw.defaultProps={value:null,placeholder:"Select...",optionNotFoundPlaceholder:"Error",onChange:function(){}};var Ow={};function Pw(e,t){0}function Mw(e,t,n){t||Ow[n]||(e(!1,n),Ow[n]=!0)}var Rw=function(e,t){Mw(Pw,e,t)},Ew=function(e){var t,n,r=e.className,o=e.included,i=e.vertical,a=e.style,s=e.length,c=e.offset,l=e.reverse;s<0&&(l=!l,s=Math.abs(s),c=100-c);var u=i?(t={},(0,my.Z)(t,l?"top":"bottom","".concat(c,"%")),(0,my.Z)(t,l?"bottom":"top","auto"),(0,my.Z)(t,"height","".concat(s,"%")),t):(n={},(0,my.Z)(n,l?"right":"left","".concat(c,"%")),(0,my.Z)(n,l?"left":"right","auto"),(0,my.Z)(n,"width","".concat(s,"%")),n),f=Cw(Cw({},a),u);return o?y.createElement("div",{className:r,style:f}):null};function Zw(e,t,n){return(Zw="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Zg(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function jw(e,t,n,r){var o=Gd.unstable_batchedUpdates?function(e){Gd.unstable_batchedUpdates(n,e)}:n;return e.addEventListener&&e.addEventListener(t,o,r),{remove:function(){e.removeEventListener&&e.removeEventListener(t,o)}}}var Dw=n(90858),Tw=n.n(Dw),Aw=function(e){var t=e.prefixCls,n=e.vertical,r=e.reverse,o=e.marks,i=e.dots,a=e.step,s=e.included,c=e.lowerBound,l=e.upperBound,u=e.max,f=e.min,d=e.dotStyle,h=e.activeDotStyle,p=u-f,v=function(e,t,n,r,o,i){Rw(!n||r>0,"`Slider[step]` should be a positive number in order to make Slider[dots] work.");var a=Object.keys(t).map(parseFloat).sort((function(e,t){return e-t}));if(n&&r)for(var s=o;s<=i;s+=r)-1===a.indexOf(s)&&a.push(s);return a}(0,o,i,a,f,u).map((function(e){var o,i="".concat(Math.abs(e-f)/p*100,"%"),a=!s&&e===l||s&&e<=l&&e>=c,u=Cw(Cw({},d),{},n?(0,my.Z)({},r?"top":"bottom",i):(0,my.Z)({},r?"right":"left",i));a&&(u=Cw(Cw({},u),h));var v=Tw()((o={},(0,my.Z)(o,"".concat(t,"-dot"),!0),(0,my.Z)(o,"".concat(t,"-dot-active"),a),(0,my.Z)(o,"".concat(t,"-dot-reverse"),r),o));return y.createElement("span",{className:v,style:u,key:e})}));return y.createElement("div",{className:"".concat(t,"-step")},v)},_w=function(e){var t=e.className,n=e.vertical,r=e.reverse,o=e.marks,i=e.included,a=e.upperBound,s=e.lowerBound,c=e.max,l=e.min,u=e.onClickLabel,f=Object.keys(o),d=c-l,h=f.map(parseFloat).sort((function(e,t){return e-t})).map((function(e){var c,f=o[e],h="object"===(0,Rg.Z)(f)&&!y.isValidElement(f),p=h?f.label:f;if(!p&&0!==p)return null;var v=!i&&e===a||i&&e<=a&&e>=s,m=Tw()((c={},(0,my.Z)(c,"".concat(t,"-text"),!0),(0,my.Z)(c,"".concat(t,"-text-active"),v),c)),g=(0,my.Z)({marginBottom:"-50%"},r?"top":"bottom","".concat((e-l)/d*100,"%")),b=(0,my.Z)({transform:"translateX(".concat(r?"50%":"-50%",")"),msTransform:"translateX(".concat(r?"50%":"-50%",")")},r?"right":"left","".concat((e-l)/d*100,"%")),w=n?g:b,x=h?Cw(Cw({},w),f.style):w;return y.createElement("span",{className:m,style:x,key:e,onMouseDown:function(t){return u(t,e)},onTouchStart:function(t){return u(t,e)}},p)}));return y.createElement("div",{className:t},h)},Iw=function(e){Mg(n,e);var t=kw(n);function n(){var e;return(0,kg.Z)(this,n),(e=t.apply(this,arguments)).state={clickFocused:!1},e.setHandleRef=function(t){e.handle=t},e.handleMouseUp=function(){document.activeElement===e.handle&&e.setClickFocus(!0)},e.handleMouseDown=function(t){t.preventDefault(),e.focus()},e.handleBlur=function(){e.setClickFocus(!1)},e.handleKeyDown=function(){e.setClickFocus(!1)},e}return(0,Og.Z)(n,[{key:"componentDidMount",value:function(){this.onMouseUpListener=jw(document,"mouseup",this.handleMouseUp)}},{key:"componentWillUnmount",value:function(){this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"setClickFocus",value:function(e){this.setState({clickFocused:e})}},{key:"clickFocus",value:function(){this.setClickFocus(!0),this.focus()}},{key:"focus",value:function(){this.handle.focus()}},{key:"blur",value:function(){this.handle.blur()}},{key:"render",value:function(){var e,t,n,r=this.props,o=r.prefixCls,i=r.vertical,a=r.reverse,s=r.offset,c=r.style,l=r.disabled,u=r.min,f=r.max,d=r.value,h=r.tabIndex,p=r.ariaLabel,v=r.ariaLabelledBy,m=r.ariaValueTextFormatter,g=(0,hy.Z)(r,["prefixCls","vertical","reverse","offset","style","disabled","min","max","value","tabIndex","ariaLabel","ariaLabelledBy","ariaValueTextFormatter"]),b=Tw()(this.props.className,(0,my.Z)({},"".concat(o,"-handle-click-focused"),this.state.clickFocused)),w=i?(e={},(0,my.Z)(e,a?"top":"bottom","".concat(s,"%")),(0,my.Z)(e,a?"bottom":"top","auto"),(0,my.Z)(e,"transform",a?null:"translateY(+50%)"),e):(t={},(0,my.Z)(t,a?"right":"left","".concat(s,"%")),(0,my.Z)(t,a?"left":"right","auto"),(0,my.Z)(t,"transform","translateX(".concat(a?"+":"-","50%)")),t),x=Cw(Cw({},c),w),S=h||0;return(l||null===h)&&(S=null),m&&(n=m(d)),y.createElement("div",(0,fd.Z)({ref:this.setHandleRef,tabIndex:S},g,{className:b,style:x,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,role:"slider","aria-valuemin":u,"aria-valuemax":f,"aria-valuenow":d,"aria-disabled":!!l,"aria-label":p,"aria-labelledby":v,"aria-valuetext":n}))}}]),n}(y.Component),Nw={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=Nw.F1&&t<=Nw.F12)return!1;switch(t){case Nw.ALT:case Nw.CAPS_LOCK:case Nw.CONTEXT_MENU:case Nw.CTRL:case Nw.DOWN:case Nw.END:case Nw.ESC:case Nw.HOME:case Nw.INSERT:case Nw.LEFT:case Nw.MAC_FF_META:case Nw.META:case Nw.NUMLOCK:case Nw.NUM_CENTER:case Nw.PAGE_DOWN:case Nw.PAGE_UP:case Nw.PAUSE:case Nw.PRINT_SCREEN:case Nw.RIGHT:case Nw.SHIFT:case Nw.UP:case Nw.WIN_KEY:case Nw.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=Nw.ZERO&&e<=Nw.NINE)return!0;if(e>=Nw.NUM_ZERO&&e<=Nw.NUM_MULTIPLY)return!0;if(e>=Nw.A&&e<=Nw.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case Nw.SPACE:case Nw.QUESTION_MARK:case Nw.NUM_PLUS:case Nw.NUM_MINUS:case Nw.NUM_PERIOD:case Nw.NUM_DIVISION:case Nw.SEMICOLON:case Nw.DASH:case Nw.EQUALS:case Nw.COMMA:case Nw.PERIOD:case Nw.SLASH:case Nw.APOSTROPHE:case Nw.SINGLE_QUOTE:case Nw.OPEN_SQUARE_BRACKET:case Nw.BACKSLASH:case Nw.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Lw=Nw;function zw(e,t){try{return Object.keys(t).some((function(n){return e.target===(0,Gd.findDOMNode)(t[n])}))}catch(n){return!1}}function Fw(e){return e.touches.length>1||"touchend"===e.type.toLowerCase()&&e.touches.length>0}function Uw(e,t){var n=t.marks,r=t.step,o=t.min,i=t.max,a=Object.keys(n).map(parseFloat);if(null!==r){var s=Math.pow(10,Vw(r)),c=Math.floor((i*s-o*s)/(r*s)),l=Math.min((e-o)/r,c),u=Math.round(l)*r+o;a.push(u)}var f=a.map((function(t){return Math.abs(e-t)}));return a[f.indexOf(Math.min.apply(Math,(0,vy.Z)(f)))]}function Vw(e){var t=e.toString(),n=0;return t.indexOf(".")>=0&&(n=t.length-t.indexOf(".")-1),n}function Bw(e,t){return e?t.clientY:t.pageX}function Hw(e,t){return e?t.touches[0].clientY:t.touches[0].pageX}function Ww(e,t){var n=t.getBoundingClientRect();return e?n.top+.5*n.height:window.pageXOffset+n.left+.5*n.width}function Gw(e,t){var n=t.max,r=t.min;return e<=r?r:e>=n?n:e}function qw(e,t){var n=t.step,r=isFinite(Uw(e,t))?Uw(e,t):0;return null===n?r:parseFloat(r.toFixed(Vw(n)))}function Kw(e){e.stopPropagation(),e.preventDefault()}function Yw(e,t,n){var r="increase",o="decrease",i=r;switch(e.keyCode){case Lw.UP:i=t&&n?o:r;break;case Lw.RIGHT:i=!t&&n?o:r;break;case Lw.DOWN:i=t&&n?r:o;break;case Lw.LEFT:i=!t&&n?r:o;break;case Lw.END:return function(e,t){return t.max};case Lw.HOME:return function(e,t){return t.min};case Lw.PAGE_UP:return function(e,t){return e+2*t.step};case Lw.PAGE_DOWN:return function(e,t){return e-2*t.step};default:return}return function(e,t){return function(e,t,n){var r={increase:function(e,t){return e+t},decrease:function(e,t){return e-t}},o=r[e](Object.keys(n.marks).indexOf(JSON.stringify(t)),1),i=Object.keys(n.marks)[o];return n.step?r[e](t,n.step):Object.keys(n.marks).length&&n.marks[i]?n.marks[i]:t}(i,e,t)}}function Xw(){}var $w=function(e){var t;return(t=function(e){Mg(n,e);var t=kw(n);function n(e){var r;(0,kg.Z)(this,n),(r=t.call(this,e)).onDown=function(e,t){var n=t,o=r.props,i=o.draggableTrack,a=o.vertical,s=r.state.bounds,c=i&&r.positionGetValue&&r.positionGetValue(n)||[],l=zw(e,r.handlesRefs);if(r.dragTrack=i&&s.length>=2&&!l&&!c.map((function(e,t){var n=!!t||e>=s[t];return t===c.length-1?e<=s[t]:n})).some((function(e){return!e})),r.dragTrack)r.dragOffset=n,r.startBounds=(0,vy.Z)(s);else{if(l){var u=Ww(a,e.target);r.dragOffset=n-u,n=u}else r.dragOffset=0;r.onStart(n)}},r.onMouseDown=function(e){if(0===e.button){r.removeDocumentEvents();var t=Bw(r.props.vertical,e);r.onDown(e,t),r.addDocumentMouseEvents()}},r.onTouchStart=function(e){if(!Fw(e)){var t=Hw(r.props.vertical,e);r.onDown(e,t),r.addDocumentTouchEvents(),Kw(e)}},r.onFocus=function(e){var t=r.props,n=t.onFocus,o=t.vertical;if(zw(e,r.handlesRefs)&&!r.dragTrack){var i=Ww(o,e.target);r.dragOffset=0,r.onStart(i),Kw(e),n&&n(e)}},r.onBlur=function(e){var t=r.props.onBlur;r.dragTrack||r.onEnd(),t&&t(e)},r.onMouseUp=function(){r.handlesRefs[r.prevMovedHandleIndex]&&r.handlesRefs[r.prevMovedHandleIndex].clickFocus()},r.onMouseMove=function(e){if(r.sliderRef){var t=Bw(r.props.vertical,e);r.onMove(e,t-r.dragOffset,r.dragTrack,r.startBounds)}else r.onEnd()},r.onTouchMove=function(e){if(!Fw(e)&&r.sliderRef){var t=Hw(r.props.vertical,e);r.onMove(e,t-r.dragOffset,r.dragTrack,r.startBounds)}else r.onEnd()},r.onKeyDown=function(e){r.sliderRef&&zw(e,r.handlesRefs)&&r.onKeyboard(e)},r.onClickMarkLabel=function(e,t){e.stopPropagation(),r.onChange({value:t}),r.setState({value:t},(function(){return r.onEnd(!0)}))},r.saveSlider=function(e){r.sliderRef=e};var o=e.step,i=e.max,a=e.min,s=!isFinite(i-a)||(i-a)%o===0;return Rw(!o||Math.floor(o)!==o||s,"Slider[max] - Slider[min] (".concat(i-a,") should be a multiple of Slider[step] (").concat(o,")")),r.handlesRefs={},r}return(0,Og.Z)(n,[{key:"componentDidMount",value:function(){this.document=this.sliderRef&&this.sliderRef.ownerDocument;var e=this.props,t=e.autoFocus,n=e.disabled;t&&!n&&this.focus()}},{key:"componentWillUnmount",value:function(){Zw(Zg(n.prototype),"componentWillUnmount",this)&&Zw(Zg(n.prototype),"componentWillUnmount",this).call(this),this.removeDocumentEvents()}},{key:"getSliderStart",value:function(){var e=this.sliderRef,t=this.props,n=t.vertical,r=t.reverse,o=e.getBoundingClientRect();return n?r?o.bottom:o.top:window.pageXOffset+(r?o.right:o.left)}},{key:"getSliderLength",value:function(){var e=this.sliderRef;if(!e)return 0;var t=e.getBoundingClientRect();return this.props.vertical?t.height:t.width}},{key:"addDocumentTouchEvents",value:function(){this.onTouchMoveListener=jw(this.document,"touchmove",this.onTouchMove),this.onTouchUpListener=jw(this.document,"touchend",this.onEnd)}},{key:"addDocumentMouseEvents",value:function(){this.onMouseMoveListener=jw(this.document,"mousemove",this.onMouseMove),this.onMouseUpListener=jw(this.document,"mouseup",this.onEnd)}},{key:"removeDocumentEvents",value:function(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"focus",value:function(){var e;this.props.disabled||null===(e=this.handlesRefs[0])||void 0===e||e.focus()}},{key:"blur",value:function(){var e=this;this.props.disabled||Object.keys(this.handlesRefs).forEach((function(t){var n,r;null===(n=e.handlesRefs[t])||void 0===n||null===(r=n.blur)||void 0===r||r.call(n)}))}},{key:"calcValue",value:function(e){var t=this.props,n=t.vertical,r=t.min,o=t.max,i=Math.abs(Math.max(e,0)/this.getSliderLength());return n?(1-i)*(o-r)+r:i*(o-r)+r}},{key:"calcValueByPos",value:function(e){var t=(this.props.reverse?-1:1)*(e-this.getSliderStart());return this.trimAlignValue(this.calcValue(t))}},{key:"calcOffset",value:function(e){var t=this.props,n=t.min,r=(e-n)/(t.max-n);return Math.max(0,100*r)}},{key:"saveHandle",value:function(e,t){this.handlesRefs[e]=t}},{key:"render",value:function(){var e,t=this.props,r=t.prefixCls,o=t.className,i=t.marks,a=t.dots,s=t.step,c=t.included,l=t.disabled,u=t.vertical,f=t.reverse,d=t.min,h=t.max,p=t.children,v=t.maximumTrackStyle,m=t.style,g=t.railStyle,b=t.dotStyle,w=t.activeDotStyle,x=Zw(Zg(n.prototype),"render",this).call(this),S=x.tracks,C=x.handles,k=Tw()(r,(e={},(0,my.Z)(e,"".concat(r,"-with-marks"),Object.keys(i).length),(0,my.Z)(e,"".concat(r,"-disabled"),l),(0,my.Z)(e,"".concat(r,"-vertical"),u),(0,my.Z)(e,o,o),e));return y.createElement("div",{ref:this.saveSlider,className:k,onTouchStart:l?Xw:this.onTouchStart,onMouseDown:l?Xw:this.onMouseDown,onMouseUp:l?Xw:this.onMouseUp,onKeyDown:l?Xw:this.onKeyDown,onFocus:l?Xw:this.onFocus,onBlur:l?Xw:this.onBlur,style:m},y.createElement("div",{className:"".concat(r,"-rail"),style:Cw(Cw({},v),g)}),S,y.createElement(Aw,{prefixCls:r,vertical:u,reverse:f,marks:i,dots:a,step:s,included:c,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:h,min:d,dotStyle:b,activeDotStyle:w}),C,y.createElement(_w,{className:"".concat(r,"-mark"),onClickLabel:l?Xw:this.onClickMarkLabel,vertical:u,marks:i,included:c,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:h,min:d,reverse:f}),p)}}]),n}(e)).displayName="ComponentEnhancer(".concat(e.displayName,")"),t.defaultProps=Cw(Cw({},e.defaultProps),{},{prefixCls:"rc-slider",className:"",min:0,max:100,step:1,marks:{},handle:function(e){var t=e.index,n=(0,hy.Z)(e,["index"]);return delete n.dragging,null===n.value?null:y.createElement(Iw,(0,fd.Z)({},n,{key:t}))},onBeforeChange:Xw,onChange:Xw,onAfterChange:Xw,included:!0,disabled:!1,dots:!1,vertical:!1,reverse:!1,trackStyle:[{}],handleStyle:[{}],railStyle:{},dotStyle:{},activeDotStyle:{}}),t}(function(e){Mg(n,e);var t=kw(n);function n(e){var r;(0,kg.Z)(this,n),(r=t.call(this,e)).positionGetValue=function(e){return[]},r.onEnd=function(e){var t=r.state.dragging;r.removeDocumentEvents(),(t||e)&&r.props.onAfterChange(r.getValue()),r.setState({dragging:!1})};var o=void 0!==e.defaultValue?e.defaultValue:e.min,i=void 0!==e.value?e.value:o;return r.state={value:r.trimAlignValue(i),dragging:!1},Rw(!("minimumTrackStyle"in e),"minimumTrackStyle will be deprecated, please use trackStyle instead."),Rw(!("maximumTrackStyle"in e),"maximumTrackStyle will be deprecated, please use railStyle instead."),r}return(0,Og.Z)(n,[{key:"calcValueByPos",value:function(e){return 0}},{key:"calcOffset",value:function(e){return 0}},{key:"saveHandle",value:function(e,t){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.min,o=n.max,i=n.value,a=n.onChange;if("min"in this.props||"max"in this.props){var s=void 0!==i?i:t.value,c=this.trimAlignValue(s,this.props);c!==t.value&&(this.setState({value:c}),r===e.min&&o===e.max||!function(e,t){var n=t.min,r=t.max;return e<n||e>r}(s,this.props)||a(c))}}},{key:"onChange",value:function(e){var t=this.props,n=!("value"in t),r=e.value>this.props.max?Cw(Cw({},e),{},{value:this.props.max}):e;n&&this.setState(r);var o=r.value;t.onChange(o)}},{key:"onStart",value:function(e){this.setState({dragging:!0});var t=this.props,n=this.getValue();t.onBeforeChange(n);var r=this.calcValueByPos(e);this.startValue=r,this.startPosition=e,r!==n&&(this.prevMovedHandleIndex=0,this.onChange({value:r}))}},{key:"onMove",value:function(e,t){Kw(e);var n=this.state.value,r=this.calcValueByPos(t);r!==n&&this.onChange({value:r})}},{key:"onKeyboard",value:function(e){var t=this.props,n=t.reverse,r=Yw(e,t.vertical,n);if(r){Kw(e);var o=this.state.value,i=r(o,this.props),a=this.trimAlignValue(i);if(a===o)return;this.onChange({value:a}),this.props.onAfterChange(a),this.onEnd()}}},{key:"getValue",value:function(){return this.state.value}},{key:"getLowerBound",value:function(){var e=this.props.startPoint||this.props.min;return this.state.value>e?e:this.state.value}},{key:"getUpperBound",value:function(){return this.state.value<this.props.startPoint?this.props.startPoint:this.state.value}},{key:"trimAlignValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e)return null;var n=Cw(Cw({},this.props),t),r=Gw(e,n);return qw(r,n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,r=t.vertical,o=t.included,i=t.disabled,a=t.minimumTrackStyle,s=t.trackStyle,c=t.handleStyle,l=t.tabIndex,u=t.ariaLabelForHandle,f=t.ariaLabelledByForHandle,d=t.ariaValueTextFormatterForHandle,h=t.min,p=t.max,v=t.startPoint,m=t.reverse,g=t.handle,b=this.state,w=b.value,x=b.dragging,S=this.calcOffset(w),C=g({className:"".concat(n,"-handle"),prefixCls:n,vertical:r,offset:S,value:w,dragging:x,disabled:i,min:h,max:p,reverse:m,index:0,tabIndex:l,ariaLabel:u,ariaLabelledBy:f,ariaValueTextFormatter:d,style:c[0]||c,ref:function(t){return e.saveHandle(0,t)}}),k=void 0!==v?this.calcOffset(v):0,O=s[0]||s;return{tracks:y.createElement(Ew,{className:"".concat(n,"-track"),vertical:r,included:o,offset:k,reverse:m,length:S-k,style:Cw(Cw({},a),O)}),handles:C}}}]),n}(y.Component)),Jw=y.createElement;function Qw(){var e=(0,p.Z)(["\n  .rc-slider {\n    display: flex;\n    flex: 1;\n    height: 1px;\n    margin-right: 28px;\n    position: relative;\n    border-radius: 2px;\n  }\n\n  .rc-slider-track {\n    position: absolute;\n    height: 2px;\n    background-color: ",";\n    border-radius: 2px;\n  }\n\n  .rc-slider-rail {\n    position: absolute;\n    width: calc(100% + 16px);\n    height: 2px;\n    background-color: ",";\n    border-radius: 2px;\n  }\n\n  .rc-slider-handle {\n    position: absolute;\n    margin-top: -5px;\n    width: 12px;\n    height: 12px;\n    cursor: pointer;\n    border-radius: 50%;\n    border: solid 2px ",";\n    background-color: ",";\n    touch-action: pan-x;\n    outline: none;\n\n      &:hover {\n        border: solid 2px ",";\n        background-color: ",";\n      }\n\n      &:active {\n        border:  2px solid ",";\n        background-color: ",";\n      }\n    }\n\n  .rc-slider-disabled {\n    background-color: ",";\n    border-radius: 2px;\n\n    .rc-slider-track {\n      background-color: ",";\n    }\n\n    .rc-slider-handle, .rc-slider-dot {\n      border-color: ",";\n      box-shadow: none;\n      background-color: ",";\n      cursor: not-allowed;\n    }\n\n    .rc-slider-mark-text, .rc-slider-dot {\n      cursor: not-allowed!important;\n    }\n  }\n"]);return Qw=function(){return e},e}var ex=(0,Vt.vJ)(Qw(),(function(e){return e.theme.blue}),(function(e){return e.theme.border}),(function(e){return e.theme.white}),(function(e){return e.theme.border}),(function(e){return e.theme.blue}),(function(e){return e.theme.white}),(function(e){return e.theme.blue}),(function(e){return e.theme.white}),(function(e){return e.theme.panel2}),(function(e){return e.theme.panel2}),(function(e){return e.theme.panel2}),(function(e){return e.theme.toolbar}));function tx(e){return Jw(y.Fragment,null,Jw($w,e),Jw(ex,null))}var nx=y.createElement;function rx(){var e=(0,p.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n"]);return rx=function(){return e},e}var ox=Vt.ZP.div(rx());function ix(e){var t=e.value,n=e.onChange,r=(0,sn.Z)(e,["value","onChange"]),i=r.min,a=r.max,s=r.step;return nx(ox,null,nx(tx,{min:i,max:a,value:t,step:s,onChange:n}),nx(hg,(0,o.Z)({},r,{mediumStep:s,value:t,onChange:n})))}function ax(e,t){return(0,y.useCallback)((function(n){return e.setPropertySelected(t,n)}),[e,t])}ix.defaultProps={value:0,onChange:function(){},min:0,max:1,step:.01};var sx=y.createElement;function cx(e){var t=e.node,n=e.editor,r=e.multiEdit,o=ax(n,"controls"),i=ax(n,"autoPlay"),a=ax(n,"loop"),s=ax(n,"audioType"),c=ax(n,"volume"),l=ax(n,"distanceModel"),u=ax(n,"rolloffFactor"),f=ax(n,"refDistance"),d=ax(n,"maxDistance"),h=ax(n,"coneInnerAngle"),p=ax(n,"coneOuterAngle"),v=ax(n,"coneOuterGain");return sx(y.Fragment,null,sx(Rm,{name:"Controls",info:"Toggle the visibility of the media controls in Hubs."},sx(mn.Z,{value:t.controls,onChange:o})),sx(Rm,{name:"Auto Play",info:"If true, the media will play when first entering the scene."},sx(mn.Z,{value:t.autoPlay,onChange:i})),sx(Rm,{name:"Loop",info:"If true the media will loop indefinitely."},sx(mn.Z,{value:t.loop,onChange:a})),sx(Rm,{name:"Audio Type"},sx(xw,{options:ps.jV,value:t.audioType,onChange:s})),sx(Rm,{name:"Volume"},sx(ix,{value:t.volume,onChange:c})),!r&&t.audioType===ps.ww.PannerNode&&sx(y.Fragment,null,sx(Rm,{name:"Distance Model",info:"The algorithim used to calculate audio rolloff."},sx(xw,{options:ps.eH,value:t.distanceModel,onChange:l})),t.distanceModel===ps.SY.Linear?sx(Rm,{name:"Rolloff Factor",info:"A double value describing how quickly the volume is reduced as the source moves away from the listener. 0 to 1"},sx(ix,{min:0,max:1,smallStep:.001,mediumStep:.01,largeStep:.1,value:t.rolloffFactor,onChange:u})):sx(vg,{name:"Rolloff Factor",info:"A double value describing how quickly the volume is reduced as the source moves away from the listener. 0 to Infinity",min:0,smallStep:.1,mediumStep:1,largeStep:10,value:t.rolloffFactor,onChange:u}),sx(vg,{name:"Ref Distance",info:"A double value representing the reference distance for reducing volume as the audio source moves further from the listener.",min:0,smallStep:.1,mediumStep:1,largeStep:10,value:t.refDistance,onChange:f,unit:"m"}),sx(vg,{name:"Max Distance",info:"A double value representing the maximum distance between the audio source and the listener, after which the volume is not reduced any further.",min:1e-5,smallStep:.1,mediumStep:1,largeStep:10,value:t.maxDistance,onChange:d,unit:"m"}),sx(vg,{name:"Cone Inner Angle",info:"A double value describing the angle, in degrees, of a cone inside of which there will be no volume reduction.",min:0,max:360,smallStep:.1,mediumStep:1,largeStep:10,value:t.coneInnerAngle,onChange:h,unit:"\xb0",disabled:r}),sx(vg,{name:"Cone Outer Angle",info:"A double value describing the angle, in degrees, of a cone outside of which the volume will be reduced by a constant value, defined by the coneOuterGain attribute.",min:0,max:360,smallStep:.1,mediumStep:1,largeStep:10,value:t.coneOuterAngle,onChange:p,unit:"\xb0",disabled:r}),sx(Rm,{name:"Cone Outer Gain",info:"A double value describing the amount of volume reduction outside the cone defined by the coneOuterAngle attribute. Its default value is 0, meaning that no sound can be heard."},sx(ix,{min:0,max:1,step:.01,value:t.coneOuterGain,onChange:v}))))}var lx=y.createElement;function ux(e){var t=e.editor,n=e.node,r=ax(t,"src");return lx(bf,(0,o.Z)({description:ux.description},e),lx(Rm,{name:"Audio Url"},lx(Sg,{value:n.src,onChange:r})),lx(cx,e))}ux.iconComponent=Cg,ux.description="Dynamically loads audio.";var fx=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 448 512"},e,{ref:t}),y.createElement("path",{fill:"currentColor",d:"M408.781 128.007C386.356 127.578 368 146.36 368 168.79V256h-8V79.79c0-22.43-18.356-41.212-40.781-40.783C297.488 39.423 280 57.169 280 79v177h-8V40.79C272 18.36 253.644-.422 231.219.007 209.488.423 192 18.169 192 40v216h-8V80.79c0-22.43-18.356-41.212-40.781-40.783C121.488 40.423 104 58.169 104 80v235.992l-31.648-43.519c-12.993-17.866-38.009-21.817-55.877-8.823-17.865 12.994-21.815 38.01-8.822 55.877l125.601 172.705A48 48 0 00172.073 512h197.59c22.274 0 41.622-15.324 46.724-37.006l26.508-112.66a192.011 192.011 0 005.104-43.975V168c.001-21.831-17.487-39.577-39.218-39.993z"}))}));fx.displayName="HandPaper";var dx=y.createElement;function hx(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var px=function(e){(0,f.Z)(n,e);var t=hx(n);function n(){var e;return(0,l.Z)(this,n),(e=t.apply(this,arguments)).onChangeWalkable=function(t){e.props.editor.setPropertySelected("walkable",t)},e}return(0,u.Z)(n,[{key:"render",value:function(){return dx(bf,(0,o.Z)({},this.props,{description:n.description}),dx(Rm,{name:"Walkable"},dx(mn.Z,{value:this.props.node.walkable,onChange:this.onChangeWalkable})))}}]),n}(y.Component);px.iconComponent=fx,px.description="An invisible box that objects will bounce off of or rest on top of.\nWithout colliders, objects will fall through floors and go through walls.";var vx=y.createElement;function mx(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var gx=[{label:"256px",value:new Yn.FM8(256,256)},{label:"512px",value:new Yn.FM8(512,512)},{label:"1024px",value:new Yn.FM8(1024,1024)},{label:"2048px",value:new Yn.FM8(2048,2048)},{label:"4096px (not recommended)",value:new Yn.FM8(4096,4096)}],yx=function(e){(0,f.Z)(n,e);var t=mx(n);function n(){var e;return(0,l.Z)(this,n),(e=t.apply(this,arguments)).onChangeShadowMapResolution=function(t){e.props.editor.setPropertySelected("shadowMapResolution",t)},e.onChangeCastShadow=function(t){e.props.editor.setPropertySelected("castShadow",t)},e.onChangeShadowBias=function(t){e.props.editor.setPropertySelected("shadowBias",t)},e.onChangeShadowRadius=function(t){e.props.editor.setPropertySelected("shadowRadius",t)},e}return(0,u.Z)(n,[{key:"render",value:function(){var e=this.props.node;return vx(y.Fragment,null,vx(Rm,{name:"Cast Shadow"},vx(mn.Z,{value:e.castShadow,onChange:this.onChangeCastShadow})),vx(Rm,{name:"Shadow Map Resolution"},vx(xw,{options:gx,value:e.shadowMapResolution,onChange:this.onChangeShadowMapResolution})),vx(vg,{name:"Shadow Bias",mediumStep:1e-5,smallStep:1e-4,largeStep:.001,displayPrecision:1e-6,value:e.shadowBias,onChange:this.onChangeShadowBias}),vx(vg,{name:"Shadow Radius",mediumStep:.01,smallStep:.1,largeStep:1,displayPrecision:1e-4,value:e.shadowRadius,onChange:this.onChangeShadowRadius}))}}]),n}(y.Component),bx=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 320 512"},e,{ref:t}),y.createElement("path",{fill:"currentColor",d:"M296 160H180.6l42.6-129.8C227.2 15 215.7 0 200 0H56C44 0 33.8 8.9 32.2 20.8l-32 240C-1.7 275.2 9.5 288 24 288h118.7L96.6 482.5c-3.6 15.2 8 29.5 23.3 29.5 8.4 0 16.4-4.4 20.8-12l176-304c9.3-15.9-2.2-36-20.7-36z"}))}));bx.displayName="Bolt";var wx=y.createElement;function xx(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Sx=function(e){(0,f.Z)(n,e);var t=xx(n);function n(){var e;return(0,l.Z)(this,n),(e=t.apply(this,arguments)).onChangeColor=function(t){e.props.editor.setPropertySelected("color",t)},e.onChangeIntensity=function(t){e.props.editor.setPropertySelected("intensity",t)},e}return(0,u.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.node,r=e.editor;return wx(bf,(0,o.Z)({},this.props,{description:n.description}),wx(Rm,{name:"Color"},wx(Gm,{value:t.color,onChange:this.onChangeColor})),wx(vg,{name:"Intensity",min:0,smallStep:.001,mediumStep:.01,largeStep:.1,value:t.intensity,onChange:this.onChangeIntensity,unit:"cd"}),wx(yx,{node:t,editor:r}))}}]),n}(y.Component);Sx.iconComponent=bx,Sx.description="A light which illuminates the entire scene, but emits along a single direction.";var Cx=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),y.createElement("path",{fill:"currentColor",d:"M512 512H0V0h512v512z"}))}));Cx.displayName="SquareFull";var kx=y.createElement;function Ox(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Px=function(e){(0,f.Z)(n,e);var t=Ox(n);function n(){var e;return(0,l.Z)(this,n),(e=t.apply(this,arguments)).onChangeColor=function(t){e.props.editor.setPropertySelected("color",t)},e.onChangeReceiveShadow=function(t){e.props.editor.setPropertySelected("receiveShadow",t)},e.onChangeWalkable=function(t){e.props.editor.setPropertySelected("walkable",t)},e}return(0,u.Z)(n,[{key:"render",value:function(){var e=this.props.node;return kx(bf,(0,o.Z)({},this.props,{description:n.description}),kx(Rm,{name:"Color"},kx(Gm,{value:e.color,onChange:this.onChangeColor})),kx(Rm,{name:"Receive Shadow"},kx(mn.Z,{value:e.receiveShadow,onChange:this.onChangeReceiveShadow})),kx(Rm,{name:"Walkable"},kx(mn.Z,{value:this.props.node.walkable,onChange:this.onChangeWalkable})))}}]),n}(y.Component);Px.iconComponent=Cx,Px.description="A flat ground plane that extends into the distance.";var Mx=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),y.createElement("path",{fill:"currentColor",d:"M488.6 250.2L392 214V105.5c0-15-9.3-28.4-23.4-33.7l-100-37.5c-8.1-3.1-17.1-3.1-25.3 0l-100 37.5c-14.1 5.3-23.4 18.7-23.4 33.7V214l-96.6 36.2C9.3 255.5 0 268.9 0 283.9V394c0 13.6 7.7 26.1 19.9 32.2l100 50c10.1 5.1 22.1 5.1 32.2 0l103.9-52 103.9 52c10.1 5.1 22.1 5.1 32.2 0l100-50c12.2-6.1 19.9-18.6 19.9-32.2V283.9c0-15-9.3-28.4-23.4-33.7zM358 214.8l-85 31.9v-68.2l85-37v73.3zM154 104.1l102-38.2 102 38.2v.6l-102 41.4-102-41.4v-.6zm84 291.1l-85 42.5v-79.1l85-38.8v75.4zm0-112l-102 41.4-102-41.4v-.6l102-38.2 102 38.2v.6zm240 112l-85 42.5v-79.1l85-38.8v75.4zm0-112l-102 41.4-102-41.4v-.6l102-38.2 102 38.2v.6z"}))}));Mx.displayName="Cubes";var Rx=y.createElement;function Ex(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Zx=function(e){(0,f.Z)(n,e);var t=Ex(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"render",value:function(){return Rx(bf,(0,o.Z)({},this.props,{description:n.description}))}}]),n}(y.Component);Zx.iconComponent=Mx,Zx.description="A group of multiple objects that can be moved or duplicated together.\nDrag and drop objects into the Group in the Hierarchy.";var jx=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),y.createElement("path",{fill:"currentColor",d:"M458.622 255.92l45.985-45.005c13.708-12.977 7.316-36.039-10.664-40.339l-62.65-15.99 17.661-62.015c4.991-17.838-11.829-34.663-29.661-29.671l-61.994 17.667-15.984-62.671C337.085.197 313.765-6.276 300.99 7.228L256 53.57 211.011 7.229c-12.63-13.351-36.047-7.234-40.325 10.668l-15.984 62.671-61.995-17.667C74.87 57.907 58.056 74.738 63.046 92.572l17.661 62.015-62.65 15.99C.069 174.878-6.31 197.944 7.392 210.915l45.985 45.005-45.985 45.004c-13.708 12.977-7.316 36.039 10.664 40.339l62.65 15.99-17.661 62.015c-4.991 17.838 11.829 34.663 29.661 29.671l61.994-17.667 15.984 62.671c4.439 18.575 27.696 24.018 40.325 10.668L256 458.61l44.989 46.001c12.5 13.488 35.987 7.486 40.325-10.668l15.984-62.671 61.994 17.667c17.836 4.994 34.651-11.837 29.661-29.671l-17.661-62.015 62.65-15.99c17.987-4.302 24.366-27.367 10.664-40.339l-45.984-45.004z"}))}));jx.displayName="Certificate";var Dx=y.createElement;function Tx(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Ax=function(e){(0,f.Z)(n,e);var t=Tx(n);function n(){var e;return(0,l.Z)(this,n),(e=t.apply(this,arguments)).onChangeSkyColor=function(t){e.props.editor.setPropertySelected("skyColor",t)},e.onChangeGroundColor=function(t){e.props.editor.setPropertySelected("groundColor",t)},e.onChangeIntensity=function(t){e.props.editor.setPropertySelected("intensity",t)},e}return(0,u.Z)(n,[{key:"render",value:function(){var e=this.props.node;return Dx(bf,(0,o.Z)({},this.props,{description:n.description}),Dx(Rm,{name:"Sky Color"},Dx(Gm,{value:e.skyColor,onChange:this.onChangeSkyColor})),Dx(Rm,{name:"Ground Color"},Dx(Gm,{value:e.groundColor,onChange:this.onChangeGroundColor})),Dx(vg,{name:"Intensity",min:0,smallStep:.001,mediumStep:.01,largeStep:.1,value:e.intensity,onChange:this.onChangeIntensity,unit:"cd"}))}}]),n}(y.Component);Ax.iconComponent=jx,Ax.description="A light which illuminates the scene from directly overhead.";var _x=y.createElement,Ix={multiple:!1,accepts:Ud.dK};function Nx(e){var t=e.onChange,n=(0,sn.Z)(e,["onChange"]),r=Hd(Ix),i=ld({accept:[_n.Image,_n.File],drop:function(e){e.type===_n.Image?t(e.value.url,e.value.initialProps||{}):r(e.files).then((function(e){e&&e.length>0&&t(e[0].url,{})}))},collect:function(e){return{canDrop:e.canDrop(),isOver:e.isOver()}}}),a=(0,Wn.Z)(i,2),s=a[0],c=s.canDrop,l=s.isOver,u=a[1];return _x(On.Y,(0,o.Z)({ref:u,onChange:t,error:l&&!c,canDrop:l&&c},n))}var Lx=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),y.createElement("path",{fill:"currentColor",d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"}))}));Lx.displayName="Image";var zx=y.createElement,Fx=function(e){return{label:e,value:e}},Ux=Object.values(Ys).map(Fx),Vx=Object.values(Xs).map(Fx);function Bx(e){var t=e.editor,n=e.node,r=ax(t,"src"),i=ax(t,"controls"),a=ax(t,"projection"),s=ax(t,"alphaMode"),c=ax(t,"alphaCutoff");return zx(bf,(0,o.Z)({description:Bx.description},e),zx(Rm,{name:"Image Url"},zx(Nx,{value:n.src,onChange:r})),zx(Rm,{name:"Controls",info:"Toggle the visibility of the media controls in Hubs."},zx(mn.Z,{value:n.controls,onChange:i})),zx(Rm,{name:"Transparency Mode",info:"How to apply transparency:\n'opaque' = no transparency\n'blend' = use the images alpha channel\n'mask' = Use a specified cutoff value for on/off transparency (more performant)\n"},zx(xw,{options:Vx,value:n.alphaMode,onChange:s})),n.alphaMode===Xs.Mask&&zx(vg,{name:"Alpha Cutoff",info:"Pixels with alpha values lower than this will be transparent",min:0,max:1,smallStep:.01,mediumStep:.1,largeStep:.25,value:n.alphaCutoff,onChange:c}),zx(Rm,{name:"Projection"},zx(xw,{options:Ux,value:n.projection,onChange:a})))}Bx.iconComponent=Lx,Bx.description="Dynamically loads an image.";var Hx=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),y.createElement("path",{fill:"currentColor",d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"}))}));Hx.displayName="Link";var Wx=y.createElement;function Gx(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var qx=function(e){(0,f.Z)(n,e);var t=Gx(n);function n(){var e;return(0,l.Z)(this,n),(e=t.apply(this,arguments)).onChangeHref=function(t){e.props.editor.setPropertySelected("href",t)},e}return(0,u.Z)(n,[{key:"render",value:function(){var e=this.props.node;return Wx(bf,(0,o.Z)({description:n.description},this.props),Wx(Rm,{name:"Url"},Wx(On.Z,{value:e.href,onChange:this.onChangeHref})))}}]),n}(y.Component);qx.iconComponent=Hx,qx.description="Link to a room or a website.";var Kx=y.createElement,Yx={multiple:!1,accepts:Ud.sR};function Xx(e){var t=e.onChange,n=(0,sn.Z)(e,["onChange"]),r=Hd(),i=ld({accept:[_n.Model,_n.File],drop:function(e){e.type===_n.Model?t(e.value.url,e.value.initialProps||{}):r(e.files,Yx).then((function(e){e&&e.length>0&&t(e[0].url,{})}))},collect:function(e){return{canDrop:e.canDrop(),isOver:e.isOver()}}}),a=(0,Wn.Z)(i,2),s=a[0],c=s.canDrop,l=s.isOver,u=a[1];return Kx(On.Y,(0,o.Z)({ref:u,onChange:function(e,n){return t(e,{},n)},error:l&&!c,canDrop:l&&c},n))}var $x=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),y.createElement("path",{fill:"currentColor",d:"M239.1 6.3l-208 78c-18.7 7-31.1 25-31.1 45v225.1c0 18.2 10.3 34.8 26.5 42.9l208 104c13.5 6.8 29.4 6.8 42.9 0l208-104c16.3-8.1 26.5-24.8 26.5-42.9V129.3c0-20-12.4-37.9-31.1-44.9l-208-78C262 2.2 250 2.2 239.1 6.3zM256 68.4l192 72v1.1l-192 78-192-78v-1.1l192-72zm32 356V275.5l160-65v133.9l-160 80z"}))}));$x.displayName="Cube";var Jx=y.createElement;function Qx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qx(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var nS=[{label:"InfoBox",value:"infoBox"},{label:"Open link",value:"link"}],rS=function(e){(0,f.Z)(n,e);var t=tS(n);function n(){var e;return(0,l.Z)(this,n),(e=t.apply(this,arguments)).onChangeSrc=function(t,n){e.props.editor.setPropertiesSelected(eS(eS({},n),{},{src:t}))},e.onChangeAnimation=function(t){e.props.editor.setPropertySelected("activeClipIndex",t)},e.onChangeCollidable=function(t){e.props.editor.setPropertySelected("collidable",t)},e.onChangeWalkable=function(t){e.props.editor.setPropertySelected("walkable",t)},e.onChangeCastShadow=function(t){e.props.editor.setPropertySelected("castShadow",t)},e.onChangeReceiveShadow=function(t){e.props.editor.setPropertySelected("receiveShadow",t)},e.onChangeInteractable=function(t){e.props.editor.setPropertySelected("interactable",t)},e.onChangeInteractionType=function(t){e.props.editor.setPropertySelected("interactionType",t)},e.onChangeInteractionText=function(t){e.props.editor.setPropertySelected("interactionText",t)},e.onChangePayloadName=function(t){e.props.editor.setPropertySelected("payloadName",t)},e.onChangePayloadUrl=function(t){e.props.editor.setPropertySelected("payloadUrl",t)},e.onChangePayloadBuyUrl=function(t){e.props.editor.setPropertySelected("payloadBuyUrl",t)},e.onChangePayloadLearnMoreUrl=function(t){e.props.editor.setPropertySelected("payloadLearnMoreUrl",t)},e.onChangePayloadHtmlContent=function(t){e.props.editor.setPropertySelected("payloadHtmlContent",t)},e.renderInteractableTypeOptions=function(t){switch(t.interactionType){case"infoBox":return Jx(y.Fragment,null,Jx(Rm,{name:"Name"},Jx(On.Z,{value:t.payloadName,onChange:e.onChangePayloadName})),Jx(Rm,{name:"Url"},Jx(On.Z,{value:t.payloadUrl,onChange:e.onChangePayloadUrl})),Jx(Rm,{name:"BuyUrl"},Jx(On.Z,{value:t.payloadBuyUrl,onChange:e.onChangePayloadBuyUrl})),Jx(Rm,{name:"LearnMoreUrl"},Jx(On.Z,{value:t.payloadLearnMoreUrl,onChange:e.onChangePayloadLearnMoreUrl})),Jx(Rm,{name:"HtmlContent"},Jx(On.Z,{value:t.payloadHtmlContent,onChange:e.onChangePayloadHtmlContent})))}},e.renderInteractableDependantFields=function(t){switch(t.interactable){case!0:return Jx(y.Fragment,null,Jx(Rm,{name:"Interaction Text"},Jx(On.Z,{value:t.interactionText,onChange:e.onChangeInteractionText})),Jx(Rm,{name:"Interaction Type"},Jx(xw,{options:nS,value:t.interactionType,onChange:e.onChangeInteractionType})),e.renderInteractableTypeOptions(t))}},e}return(0,u.Z)(n,[{key:"isAnimationPropertyDisabled",value:function(){var e=this.props,t=e.multiEdit,n=e.editor,r=e.node;return!!t&&n.selected.some((function(e){return e.src!==r.src}))}},{key:"render",value:function(){var e=this.props.node;return Jx(bf,(0,o.Z)({description:n.description},this.props),Jx(Rm,{name:"Model Url"},Jx(Xx,{value:e.src,onChange:this.onChangeSrc})),Jx(Rm,{name:"Loop Animation"},Jx(xw,{disabled:this.isAnimationPropertyDisabled(),options:e.getClipOptions(),value:e.activeClipIndex,onChange:this.onChangeAnimation})),Jx(Rm,{name:"Collidable"},Jx(mn.Z,{value:e.collidable,onChange:this.onChangeCollidable})),Jx(Rm,{name:"Walkable"},Jx(mn.Z,{value:e.walkable,onChange:this.onChangeWalkable})),Jx(Rm,{name:"Cast Shadow"},Jx(mn.Z,{value:e.castShadow,onChange:this.onChangeCastShadow})),Jx(Rm,{name:"Receive Shadow"},Jx(mn.Z,{value:e.receiveShadow,onChange:this.onChangeReceiveShadow})),Jx(Rm,{name:"Interactable"},Jx(mn.Z,{value:e.interactable,onChange:this.onChangeInteractable})),this.renderInteractableDependantFields(e))}}]),n}(y.Component);rS.iconComponent=$x,rS.description="A 3D model in your scene, loaded from a GLTF URL or file.";var oS=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 352 512"},e,{ref:t}),y.createElement("path",{fill:"currentColor",d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0026.64 14.28h61.71a31.99 31.99 0 0026.64-14.28l17.09-25.69a31.989 31.989 0 005.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"}))}));oS.displayName="Lightbulb";var iS=y.createElement;function aS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var sS=function(e){(0,f.Z)(n,e);var t=aS(n);function n(){var e;return(0,l.Z)(this,n),(e=t.apply(this,arguments)).onChangeColor=function(t){e.props.editor.setPropertySelected("color",t)},e.onChangeIntensity=function(t){e.props.editor.setPropertySelected("intensity",t)},e.onChangeRange=function(t){e.props.editor.setPropertySelected("range",t)},e}return(0,u.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.node,r=e.editor;return iS(bf,(0,o.Z)({},this.props,{description:n.description}),iS(Rm,{name:"Color"},iS(Gm,{value:t.color,onChange:this.onChangeColor})),iS(vg,{name:"Intensity",min:0,smallStep:.001,mediumStep:.01,largeStep:.1,value:t.intensity,onChange:this.onChangeIntensity,unit:"cd"}),iS(vg,{name:"Range",min:0,smallStep:.1,mediumStep:1,largeStep:10,value:t.range,onChange:this.onChangeRange,unit:"m"}),iS(yx,{node:t,editor:r}))}}]),n}(y.Component);sS.iconComponent=oS,sS.description="A light which emits in all directions from a single point.";var cS=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 496 512"},e,{ref:t}),y.createElement("path",{fill:"currentColor",d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"}))}));cS.displayName="Globe";var lS=y.createElement,uS=[{label:"Disabled",value:Zc.f.Disabled},{label:"Linear",value:Zc.f.Linear},{label:"Exponential",value:Zc.f.Exponential}];function fS(e){var t=e.editor,n=e.node,r=ax(t,"fogType"),i=ax(t,"fogColor"),a=ax(t,"fogNearDistance"),s=ax(t,"fogFarDistance"),c=ax(t,"fogDensity"),l=ax(t,"overrideAudioSettings"),u=ax(t,"mediaVolume"),f=ax(t,"mediaDistanceModel"),d=ax(t,"mediaRolloffFactor"),h=ax(t,"mediaRefDistance"),p=ax(t,"mediaMaxDistance"),v=ax(t,"mediaConeInnerAngle"),m=ax(t,"mediaConeOuterAngle"),g=ax(t,"mediaConeOuterGain"),b=ax(t,"avatarDistanceModel"),w=ax(t,"avatarRolloffFactor"),x=ax(t,"avatarRefDistance"),S=ax(t,"avatarMaxDistance");return lS(bf,(0,o.Z)({},e,{description:fS.description}),lS(Rm,{name:"Fog Type"},lS(xw,{options:uS,value:n.fogType,onChange:r})),n.fogType!==Zc.f.Disabled&&lS(Rm,{name:"Fog Color"},lS(Gm,{value:n.fogColor,onChange:i})),n.fogType===Zc.f.Linear&&lS(y.Fragment,null,lS(vg,{name:"Fog Near Distance",smallStep:.1,mediumStep:1,largeStep:10,min:0,value:n.fogNearDistance,onChange:a}),lS(vg,{name:"Fog Far Distance",smallStep:1,mediumStep:100,largeStep:1e3,min:0,value:n.fogFarDistance,onChange:s})),n.fogType===Zc.f.Exponential&&lS(vg,{name:"Fog Density",smallStep:.01,mediumStep:.1,largeStep:.25,min:0,value:n.fogDensity,onChange:c}),lS(Rm,{name:"Override Audio Settings"},lS(mn.Z,{value:n.overrideAudioSettings,onChange:l})),n.overrideAudioSettings&&lS(y.Fragment,null,lS(Rm,{name:"Avatar Distance Model",info:"The algorithim used to calculate audio rolloff."},lS(xw,{options:ps.eH,value:n.avatarDistanceModel,onChange:b})),n.avatarDistanceModel===ps.SY.Linear?lS(Rm,{name:"Avatar Rolloff Factor",info:"A double value describing how quickly the volume is reduced as the source moves away from the listener. 0 to 1"},lS(ix,{min:0,max:1,smallStep:.001,mediumStep:.01,largeStep:.1,value:n.avatarRolloffFactor,onChange:w})):lS(vg,{name:"Avatar Rolloff Factor",info:"A double value describing how quickly the volume is reduced as the source moves away from the listener. 0 to Infinity",min:0,smallStep:.1,mediumStep:1,largeStep:10,value:n.avatarRolloffFactor,onChange:w}),lS(vg,{name:"Avatar Ref Distance",info:"A double value representing the reference distance for reducing volume as the audio source moves further from the listener.",min:0,smallStep:.1,mediumStep:1,largeStep:10,value:n.avatarRefDistance,onChange:x,unit:"m"}),lS(vg,{name:"Avatar Max Distance",info:"A double value representing the maximum distance between the audio source and the listener, after which the volume is not reduced any further.",min:0,smallStep:.1,mediumStep:1,largeStep:10,value:n.avatarMaxDistance,onChange:S,unit:"m"}),lS(Rm,{name:"Media Volume"},lS(ix,{value:n.mediaVolume,onChange:u})),lS(Rm,{name:"Media Distance Model",info:"The algorithim used to calculate audio rolloff."},lS(xw,{options:ps.eH,value:n.mediaDistanceModel,onChange:f})),n.mediaDistanceModel===ps.SY.Linear?lS(Rm,{name:"Media Rolloff Factor",info:"A double value describing how quickly the volume is reduced as the source moves away from the listener. 0 to 1"},lS(ix,{min:0,max:1,smallStep:.001,mediumStep:.01,largeStep:.1,value:n.mediaRolloffFactor,onChange:d})):lS(vg,{name:"Media Rolloff Factor",info:"A double value describing how quickly the volume is reduced as the source moves away from the listener. 0 to Infinity",min:0,smallStep:.1,mediumStep:1,largeStep:10,value:n.mediaRolloffFactor,onChange:d}),lS(vg,{name:"Media Ref Distance",info:"A double value representing the reference distance for reducing volume as the audio source moves further from the listener.",min:0,smallStep:.1,mediumStep:1,largeStep:10,value:n.mediaRefDistance,onChange:h,unit:"m"}),lS(vg,{name:"Media Max Distance",info:"A double value representing the maximum distance between the audio source and the listener, after which the volume is not reduced any further.",min:0,smallStep:.1,mediumStep:1,largeStep:10,value:n.mediaMaxDistance,onChange:p,unit:"m"}),lS(vg,{name:"Media Cone Inner Angle",info:"A double value describing the angle, in degrees, of a cone inside of which there will be no volume reduction.",min:0,max:360,smallStep:.1,mediumStep:1,largeStep:10,value:n.mediaConeInnerAngle,onChange:v,unit:"\xb0"}),lS(vg,{name:"Media Cone Outer Angle",info:"A double value describing the angle, in degrees, of a cone outside of which the volume will be reduced by a constant value, defined by the coneOuterGain attribute.",min:0,max:360,smallStep:.1,mediumStep:1,largeStep:10,value:n.mediaConeOuterAngle,onChange:m,unit:"\xb0"}),lS(Rm,{name:"Media Cone Outer Gain",info:"A double value describing the amount of volume reduction outside the cone defined by the coneOuterAngle attribute. Its default value is 0, meaning that no sound can be heard."},lS(ix,{min:0,max:1,step:.01,value:n.mediaConeOuterGain,onChange:g}))))}fS.iconComponent=cS,fS.description="The root object of the scene.";var dS=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),y.createElement("path",{fill:"currentColor",d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"}))}));dS.displayName="Camera";var hS=y.createElement;function pS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var vS=function(e){(0,f.Z)(n,e);var t=pS(n);function n(){var e;return(0,l.Z)(this,n),(e=t.apply(this,arguments)).onSetFromViewport=function(){e.props.node.setFromViewport()},e}return(0,u.Z)(n,[{key:"render",value:function(){return hS(bf,(0,o.Z)({},this.props,{description:n.description}),hS(em.I8,{onClick:this.onSetFromViewport},"Set From Viewport"))}}]),n}(y.Component);vS.iconComponent=dS,vS.description="The camera used to generate the thumbnail for your scene and the starting position for the preview camera in Hubs.";var mS=y.createElement,gS=Yn.M8C.radToDeg,yS=Yn.M8C.degToRad;function bS(e){e.convertTo,e.convertFrom;var t=(0,sn.Z)(e,["convertTo","convertFrom"]);return mS(vg,(0,o.Z)({},t,{convertFrom:gS,convertTo:yS}))}bS.defaultProps={min:0,max:360,smallStep:1,mediumStep:5,largeStep:15,unit:"\xb0"};var wS=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 640 512"},e,{ref:t}),y.createElement("path",{fill:"currentColor",d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4z"}))}));wS.displayName="Cloud";var xS=[{label:"texture1",value:"/hdr/equirectangular/texture444.jpg"},{label:"texture2",value:"/hdr/equirectangular/texture222.jpg"},{label:"texture3",value:"/hdr/equirectangular/texture333.jpg"},{label:"texture4",value:"/hdr/equirectangular/skyCubemap2_red.png"}],SS=[{label:"Bridge",value:"/hdr/cubemap/Bridge2/"},{label:"MilkyWay",value:"/hdr/cubemap/MilkyWay/"},{label:"Park",value:"/hdr/cubemap/Park2/"},{label:"Skybox",value:"/hdr/cubemap/skyboxsun25deg/"},{label:"textureAxes",value:"/hdr/cubemap/axes/"},{label:"City",value:"/hdr/cubemap/city/"}],CS=y.createElement;function kS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var OS=function(e){return e/24},PS=function(e){return 24*e},MS=[{label:"skybox",value:"skybox"},{label:"cubemap",value:"cubemap"},{label:"equirectangular",value:"equirectangular"}],RS=function(e){(0,f.Z)(n,e);var t=kS(n);function n(){var e;return(0,l.Z)(this,n),(e=t.apply(this,arguments)).onChangeTurbidity=function(t){e.props.editor.setPropertySelected("turbidity",t)},e.onChangeRayleigh=function(t){e.props.editor.setPropertySelected("rayleigh",t)},e.onChangeLuminance=function(t){e.props.editor.setPropertySelected("luminance",t)},e.onChangeMieCoefficient=function(t){e.props.editor.setPropertySelected("mieCoefficient",t)},e.onChangeMieDirectionalG=function(t){e.props.editor.setPropertySelected("mieDirectionalG",t)},e.onChangeInclination=function(t){e.props.editor.setPropertySelected("inclination",t)},e.onChangeAzimuth=function(t){e.props.editor.setPropertySelected("azimuth",t)},e.onChangeDistance=function(t){e.props.editor.setPropertySelected("distance",t)},e.onChangeSkyOption=function(t){e.onChangeTextureOption(null),e.props.editor.setPropertySelected("skyOptionValue",t),e.setDefaultTextureOptionValue(t)},e.onChangeTextureOption=function(t){e.props.editor.setPropertySelected("textureOptionValue",t)},e.setDefaultTextureOptionValue=function(t){switch(t){case"cubemap":e.onChangeTextureOption(SS[0].value);break;case"equirectangular":e.onChangeTextureOption(xS[0].value);break;default:e.onChangeTextureOption(null)}},e.renderSkyboxSettings=function(t){return CS(y.Fragment,null,CS(vg,{name:"Time of Day",smallStep:.1,mediumStep:.5,largeStep:1,min:0,max:24,convertFrom:PS,convertTo:OS,value:t.azimuth,onChange:e.onChangeAzimuth,unit:"h"}),CS(bS,{name:"Latitude",min:-90,max:90,smallStep:.1,mediumStep:.5,largeStep:1,value:t.inclination,onChange:e.onChangeInclination}),CS(Rm,{name:"Luminance"},CS(ix,{min:.001,max:1.189,step:.001,value:t.luminance,onChange:e.onChangeLuminance})),CS(Rm,{name:"Scattering Amount"},CS(ix,{min:0,max:.1,step:.001,value:t.mieCoefficient,onChange:e.onChangeMieCoefficient})),CS(Rm,{name:"Scattering Distance"},CS(ix,{min:0,max:1,step:.001,value:t.mieDirectionalG,onChange:e.onChangeMieDirectionalG})),CS(Rm,{name:"Horizon Start"},CS(ix,{min:1,max:20,value:t.turbidity,onChange:e.onChangeTurbidity})),CS(Rm,{name:"Horizon End"},CS(ix,{min:0,max:4,value:t.rayleigh,onChange:e.onChangeRayleigh})))},e.renderEquirectangularSettings=function(t){return CS(y.Fragment,null,CS(Rm,{name:"Texture"},CS(xw,{options:xS,value:t.textureOptionValue,onChange:e.onChangeTextureOption})))},e.renderCubemapSettings=function(t){return CS(y.Fragment,null,CS(Rm,{name:"Texture"},CS(xw,{options:SS,value:t.textureOptionValue,onChange:e.onChangeTextureOption})))},e.renderSkyBoxProps=function(t){switch(t.skyOptionValue){case"cubemap":return e.renderCubemapSettings(t);case"equirectangular":return e.renderEquirectangularSettings(t);default:return e.renderSkyboxSettings(t)}},e}return(0,u.Z)(n,[{key:"render",value:function(){var e=this.props.node;return CS(bf,(0,o.Z)({description:n.description},this.props),CS(Rm,{name:"Sky Type"},CS(xw,{options:MS,value:e.skyOptionValue?e.skyOptionValue:MS[0].value,onChange:this.onChangeSkyOption})),this.renderSkyBoxProps(e))}}]),n}(y.Component);RS.iconComponent=wS;var ES=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),y.createElement("path",{fill:"currentColor",d:"M367.9 329.76c-4.62 5.3-9.78 10.1-15.9 13.65v22.94c66.52 9.34 112 28.05 112 49.65 0 30.93-93.12 56-208 56S48 446.93 48 416c0-21.6 45.48-40.3 112-49.65v-22.94c-6.12-3.55-11.28-8.35-15.9-13.65C58.87 345.34 0 378.05 0 416c0 53.02 114.62 96 256 96s256-42.98 256-96c0-37.95-58.87-70.66-144.1-86.24zM256 128c35.35 0 64-28.65 64-64S291.35 0 256 0s-64 28.65-64 64 28.65 64 64 64zm-64 192v96c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-96c17.67 0 32-14.33 32-32v-96c0-26.51-21.49-48-48-48h-11.8c-11.07 5.03-23.26 8-36.2 8s-25.13-2.97-36.2-8H208c-26.51 0-48 21.49-48 48v96c0 17.67 14.33 32 32 32z"}))}));ES.displayName="StreetView";var ZS=y.createElement;function jS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var DS=function(e){(0,f.Z)(n,e);var t=jS(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"render",value:function(){return ZS(bf,(0,o.Z)({description:n.description},this.props))}}]),n}(y.Component);DS.iconComponent=ES,DS.description="A point where people will appear when they enter your scene.\nThe icon in the Viewport represents the actual size of an avatar.";var TS=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 496 512"},e,{ref:t}),y.createElement("path",{fill:"currentColor",d:"M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm0 432c-101.69 0-184-82.29-184-184 0-101.69 82.29-184 184-184 101.69 0 184 82.29 184 184 0 101.69-82.29 184-184 184zm0-312c-70.69 0-128 57.31-128 128s57.31 128 128 128 128-57.31 128-128-57.31-128-128-128zm0 192c-35.29 0-64-28.71-64-64s28.71-64 64-64 64 28.71 64 64-28.71 64-64 64z"}))}));TS.displayName="Bullseye";var AS=y.createElement;function _S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var IS=Yn.M8C.radToDeg,NS=function(e){(0,f.Z)(n,e);var t=_S(n);function n(){var e;return(0,l.Z)(this,n),(e=t.apply(this,arguments)).onChangeColor=function(t){e.props.editor.setPropertySelected("color",t)},e.onChangeIntensity=function(t){e.props.editor.setPropertySelected("intensity",t)},e.onChangeInnerConeAngle=function(t){e.props.editor.setPropertySelected("innerConeAngle",t)},e.onChangeOuterConeAngle=function(t){e.props.editor.setPropertySelected("outerConeAngle",t)},e.onChangeRange=function(t){e.props.editor.setPropertySelected("range",t)},e}return(0,u.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.node,r=e.editor;return AS(bf,(0,o.Z)({},this.props,{description:n.description}),AS(Rm,{name:"Color"},AS(Gm,{value:t.color,onChange:this.onChangeColor})),AS(vg,{name:"Intensity",min:0,smallStep:.001,mediumStep:.01,largeStep:.1,value:t.intensity,onChange:this.onChangeIntensity,unit:"\xb0"}),AS(bS,{name:"Inner Cone Angle",min:0,max:IS(t.outerConeAngle),smallStep:.1,mediumStep:1,largeStep:10,value:t.innerConeAngle,onChange:this.onChangeInnerConeAngle,unit:"\xb0"}),AS(bS,{name:"Outer Cone Angle",min:IS(t.innerConeAngle+1e-5),max:IS(t.maxOuterConeAngle),smallStep:.1,mediumStep:1,largeStep:10,value:t.outerConeAngle,onChange:this.onChangeOuterConeAngle,unit:"\xb0"}),AS(vg,{name:"Range",min:0,smallStep:.1,mediumStep:1,largeStep:10,value:t.range,onChange:this.onChangeRange,unit:"m"}),AS(yx,{node:t,editor:r}))}}]),n}(y.Component);NS.iconComponent=TS,NS.description="A light which emits along a direction, illuminating objects within a cone.";var LS=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 416 512"},e,{ref:t}),y.createElement("path",{fill:"currentColor",d:"M272 96c26.51 0 48-21.49 48-48S298.51 0 272 0s-48 21.49-48 48 21.49 48 48 48zM113.69 317.47l-14.8 34.52H32c-17.67 0-32 14.33-32 32s14.33 32 32 32h77.45c19.25 0 36.58-11.44 44.11-29.09l8.79-20.52-10.67-6.3c-17.32-10.23-30.06-25.37-37.99-42.61zM384 223.99h-44.03l-26.06-53.25c-12.5-25.55-35.45-44.23-61.78-50.94l-71.08-21.14c-28.3-6.8-57.77-.55-80.84 17.14l-39.67 30.41c-14.03 10.75-16.69 30.83-5.92 44.86s30.84 16.66 44.86 5.92l39.69-30.41c7.67-5.89 17.44-8 25.27-6.14l14.7 4.37-37.46 87.39c-12.62 29.48-1.31 64.01 26.3 80.31l84.98 50.17-27.47 87.73c-5.28 16.86 4.11 34.81 20.97 40.09 3.19 1 6.41 1.48 9.58 1.48 13.61 0 26.23-8.77 30.52-22.45l31.64-101.06c5.91-20.77-2.89-43.08-21.64-54.39l-61.24-36.14 31.31-78.28 20.27 41.43c8 16.34 24.92 26.89 43.11 26.89H384c17.67 0 32-14.33 32-32s-14.33-31.99-32-31.99z"}))}));LS.displayName="Running";var zS=y.createElement;function US(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var VS=[{label:"video",value:"video",nodeNames:["Video"],propertyOptions:[{label:"paused",value:"paused",component:"video",input:mn.Z,default:!1}]},{label:"loop-animation",value:"loop-animation",nodeNames:["Model"],propertyOptions:[{label:"paused",value:"paused",component:"loop-animation",input:mn.Z,default:!1}]}],BS=function(e){(0,f.Z)(n,e);var t=US(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this,e)).onChangeTarget=function(e){r.props.editor.setPropertiesSelected({target:e,enterComponent:null,enterProperty:null,enterValue:null,leaveComponent:null,leaveProperty:null,leaveValue:null})},r.onChangeEnterComponent=function(e){r.props.editor.setPropertiesSelected({enterComponent:e,enterProperty:null,enterValue:null})},r.onChangeEnterProperty=function(e,t){r.props.editor.setPropertiesSelected({enterProperty:e,enterValue:void 0!==t.default?t.default:null})},r.onChangeEnterValue=function(e){r.props.editor.setPropertySelected("enterValue",e)},r.onChangeLeaveComponent=function(e){r.props.editor.setPropertiesSelected({leaveComponent:e,leaveProperty:null,leaveValue:null})},r.onChangeLeaveProperty=function(e,t){r.props.editor.setPropertiesSelected({leaveProperty:e,leaveValue:void 0!==t.default?t.default:null})},r.onChangeLeaveValue=function(e){r.props.editor.setPropertySelected("leaveValue",e)},r.state={options:[]},r}return(0,u.Z)(n,[{key:"componentDidMount",value:function(){var e=[],t=this.props.editor.scene;t.traverse((function(n){n.isNode&&n!==t&&e.push({label:n.name,value:n.uuid,nodeName:n.nodeName})})),this.setState({options:e})}},{key:"render",value:function(){var e=this.props,t=e.node,r=e.multiEdit,i=this.state.options.find((function(e){return e.value===t.target})),a=i?i.value:null,s=t.target&&null===a,c=i?VS.filter((function(e){return-1!==e.nodeNames.indexOf(i.nodeName)})):[],l=c.find((function(e){return e.value===t.enterComponent})),u=l?l.value:null,f=c.find((function(e){return e.value===t.leaveComponent})),d=f?f.value:null,h=l?l.propertyOptions.filter((function(e){return e.component===t.enterComponent})):[],p=h.find((function(e){return e.value===t.enterProperty})),v=p?p.value:null,m=f?f.propertyOptions.filter((function(e){return e.component===t.leaveComponent})):[],g=m.find((function(e){return e.value===t.leaveProperty})),y=g?g.value:null,b=p&&p.input,w=g&&g.input;return zS(bf,(0,o.Z)({description:n.description},this.props),zS(Rm,{name:"Target"},zS(xw,{error:s,placeholder:s?"Error missing node.":"Select node...",value:t.target,onChange:this.onChangeTarget,options:this.state.options,disabled:r})),zS(Rm,{name:"Enter Component"},zS(xw,{placeholder:t.enterComponent||"Select component...",value:t.enterComponent,onChange:this.onChangeEnterComponent,options:c,disabled:r||!a})),zS(Rm,{name:"Enter Property"},zS(xw,{placeholder:t.enterProperty||"Select property...",value:t.enterProperty,onChange:this.onChangeEnterProperty,options:h,disabled:r||!u})),zS(Rm,{name:"Enter Value"},b?zS(b,{value:t.enterValue,onChange:this.onChangeEnterValue,disabled:r||!(a&&u&&v)}):zS(On.Z,{disabled:!0})),zS(Rm,{name:"Leave Component"},zS(xw,{placeholder:t.leaveComponent||"Select component...",value:t.leaveComponent,onChange:this.onChangeLeaveComponent,options:c,disabled:r||!a})),zS(Rm,{name:"Leave Property"},zS(xw,{placeholder:t.leaveProperty||"Select property...",value:t.leaveProperty,onChange:this.onChangeLeaveProperty,options:m,disabled:r||!d})),zS(Rm,{name:"Leave Value"},w?zS(w,{value:t.leaveValue,onChange:this.onChangeLeaveValue,disabled:r||!(a&&d&&y)}):zS(On.Z,{disabled:!0})))}}]),n}(y.Component);BS.iconComponent=LS,BS.description="Sets a property on the target object on enter and leave.";var HS=y.createElement,WS={multiple:!1,accepts:Ud.mY};function GS(e){var t=e.onChange,n=(0,sn.Z)(e,["onChange"]),r=Hd(WS),i=ld({accept:[_n.Video,_n.File],drop:function(e){e.type===_n.Video?t(e.value.url,e.value.initialProps||{}):r(e.files).then((function(e){e&&e.length>0&&t(e[0].url,{})}))},collect:function(e){return{canDrop:e.canDrop(),isOver:e.isOver()}}}),a=(0,Wn.Z)(i,2),s=a[0],c=s.canDrop,l=s.isOver,u=a[1];return HS(On.Y,(0,o.Z)({ref:u,onChange:t,error:l&&!c,canDrop:l&&c},n))}var qS=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 576 512"},e,{ref:t}),y.createElement("path",{fill:"currentColor",d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"}))}));qS.displayName="Video";var KS=y.createElement,YS=Object.values(Lc.m).map((function(e){return{label:e,value:e}}));function XS(e){var t=e.editor,n=e.node,r=ax(t,"src"),i=ax(t,"projection");return KS(bf,(0,o.Z)({description:XS.description},e),KS(Rm,{name:"Video"},KS(GS,{value:n.src,onChange:r})),KS(Rm,{name:"Projection"},KS(xw,{options:YS,value:n.projection,onChange:i})),KS(cx,e))}XS.iconComponent=qS,XS.description="Dynamically loads a video.";var $S=y.createElement;Ud.mY;function JS(e){var t=e.onChange,n=(0,sn.Z)(e,["onChange"]);return $S(On.Y,(0,o.Z)({onChange:t},n))}var QS=y.createElement;function eC(e){var t=e.editor,n=e.node,r=ax(t,"src");return QS(bf,(0,o.Z)({description:eC.description},e),QS(Rm,{name:"Volumetric"},QS(JS,{value:n.src,onChange:r})),QS(cx,e))}function tC(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}eC.iconComponent=qS,eC.description="Dynamically loads a volumetric video.";var nC=function(e){(0,f.Z)(n,e);var t=tC(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"serialize",value:function(){return(0,qn.Z)((0,h.Z)(n.prototype),"serialize",this).call(this,{"ambient-light":{color:this.color,intensity:this.intensity}})}},{key:"prepareForExport",value:function(){(0,qn.Z)((0,h.Z)(n.prototype),"prepareForExport",this).call(this),this.addGLTFComponent("ambient-light",{color:this.color,intensity:this.intensity}),this.replaceObject()}}],[{key:"canAddNode",value:function(e){return null===e.scene.findNodeByType(n)}},{key:"deserialize",value:function(){var e=(0,c.Z)(s().mark((function e(t,r){var o,i,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,qn.Z)((0,h.Z)(n),"deserialize",this).call(this,t,r);case 2:return o=e.sent,i=r.components.find((function(e){return"ambient-light"===e.name})).props,a=i.color,c=i.intensity,o.color.set(a),o.intensity=c,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(hs(Yn.Mig));function rC(e){return new Proxy(e.shadow.mapSize,{set:function(t,n,r){return e.shadow.mapSize[n]=r,e.shadow.map&&(e.shadow.map.dispose(),e.shadow.map=null),!0}})}function oC(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}nC.legacyComponentName="ambient-light",nC.nodeName="Ambient Light",nC.disableTransform=!0;var iC=function(e){(0,f.Z)(n,e);var t=oC(n);function n(){var e;return(0,l.Z)(this,n),(e=t.call(this)).position.set(0,0,0),e.target.position.set(0,0,1),e.add(e.target),e.castShadow=!0,e.shadowMapResolution=rC((0,Gn.Z)(e)),e}return(0,u.Z)(n,[{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Yn.Tme.prototype.copy.call(this,e,!1),this.color.copy(e.color),this.intensity=e.intensity,this.shadow.copy(e.shadow),t){this.remove(this.target);for(var n=0;n<e.children.length;n++){var r=e.children[n];r===e.target?(this.target=r.clone(),this.target.position.set(0,0,1),this.add(this.target)):this.add(r.clone())}}return this}},{key:"shadowBias",get:function(){return this.shadow.bias},set:function(e){this.shadow.bias=e}},{key:"shadowRadius",get:function(){return this.shadow.radius},set:function(e){this.shadow.radius=e}}]),n}(Yn.Ox3);function aC(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var sC=function(e){(0,f.Z)(n,e);var t=aC(n);function n(e,r,o){var i;(0,l.Z)(this,n),(i=t.call(this)).name="EditorDirectionalLightHelper",i.light=e,i.color=o,void 0===r&&(r=1);var a=new Yn.u9r;a.setAttribute("position",new Yn.a$l([-r,r,0,r,r,0,r,-r,0,-r,-r,0,-r,r,0],3));var s=new Yn.nls({fog:!1});return i.lightPlane=new Yn.x12(a,s),i.lightPlane.layers.set(1),i.add(i.lightPlane),(a=new Yn.u9r).setAttribute("position",new Yn.a$l([0,0,0,0,0,1],3)),i.targetLine=new Yn.x12(a,s),i.targetLine.layers.set(1),i.add(i.targetLine),i.update(),Zr((0,Gn.Z)(i)),i}return(0,u.Z)(n,[{key:"update",value:function(){void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color))}},{key:"dispose",value:function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}}]),n}(Yn.Tme);function cC(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var lC=function(e){(0,f.Z)(n,e);var t=cC(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this,e)).helper=new sC((0,Gn.Z)(r)),r.helper.visible=!1,r.add(r.helper),r}return(0,u.Z)(n,[{key:"onAdd",value:function(){this.helper.update()}},{key:"onChange",value:function(){this.helper.update()}},{key:"onSelect",value:function(){this.helper.visible=!0}},{key:"onDeselect",value:function(){this.helper.visible=!1}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if((0,qn.Z)((0,h.Z)(n.prototype),"copy",this).call(this,e,!1),t){this.remove(this.helper),this.remove(this.target);for(var r=0;r<e.children.length;r++){var o=e.children[r];o===e.helper?(this.helper=new sC(this),this.add(this.helper)):o===e.target?(this.target=o.clone(),this.add(this.target)):this.add(o.clone())}}return this}},{key:"serialize",value:function(){return(0,qn.Z)((0,h.Z)(n.prototype),"serialize",this).call(this,{"directional-light":{color:this.color,intensity:this.intensity,castShadow:this.castShadow,shadowMapResolution:this.shadowMapResolution.toArray(),shadowBias:this.shadowBias,shadowRadius:this.shadowRadius}})}},{key:"prepareForExport",value:function(){(0,qn.Z)((0,h.Z)(n.prototype),"prepareForExport",this).call(this),this.remove(this.helper),this.addGLTFComponent("directional-light",{color:this.color,intensity:this.intensity,castShadow:this.castShadow,shadowMapResolution:this.shadowMapResolution.toArray(),shadowBias:this.shadowBias,shadowRadius:this.shadowRadius}),this.replaceObject()}}],[{key:"deserialize",value:function(){var e=(0,c.Z)(s().mark((function e(t,r){var o,i,a,c,l,u,f,d;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,qn.Z)((0,h.Z)(n),"deserialize",this).call(this,t,r);case 2:return o=e.sent,i=r.components.find((function(e){return"directional-light"===e.name})).props,a=i.color,c=i.intensity,l=i.castShadow,u=i.shadowMapResolution,f=i.shadowBias,d=i.shadowRadius,o.color.set(a),o.intensity=c,o.castShadow=l,o.shadowBias=f||0,o.shadowRadius=void 0===d?1:d,u&&o.shadowMapResolution.fromArray(u),e.abrupt("return",o);case 11:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(hs(iC));function uC(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}function fC(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}lC.legacyComponentName="directional-light",lC.nodeName="Directional Light";var dC=function(e){(0,f.Z)(n,e);var t=fC(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"serialize",value:function(){return(0,qn.Z)((0,h.Z)(n.prototype),"serialize",this).call(this,{"hemisphere-light":{skyColor:this.skyColor,groundColor:this.groundColor,intensity:this.intensity}})}},{key:"prepareForExport",value:function(){(0,qn.Z)((0,h.Z)(n.prototype),"prepareForExport",this).call(this),this.addGLTFComponent("hemisphere-light",{skyColor:this.skyColor,groundColor:this.groundColor,intensity:this.intensity}),this.replaceObject()}}],[{key:"canAddNode",value:function(e){return null===e.scene.findNodeByType(n)}},{key:"deserialize",value:function(){var e=(0,c.Z)(s().mark((function e(t,r){var o,i,a,c,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,qn.Z)((0,h.Z)(n),"deserialize",this).call(this,t,r);case 2:return o=e.sent,i=r.components.find((function(e){return"hemisphere-light"===e.name})).props,a=i.skyColor,c=i.groundColor,l=i.intensity,o.skyColor.set(a),o.groundColor.set(c),o.intensity=l,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(hs(function(e){(0,f.Z)(n,e);var t=uC(n);function n(){var e;return(0,l.Z)(this,n),(e=t.call(this)).position.set(0,0,0),e}return(0,u.Z)(n,[{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Yn.Tme.prototype.copy.call(this,e,t),this.color.copy(e.color),this.intensity=e.intensity,this.groundColor.copy(e.groundColor),this}},{key:"skyColor",get:function(){return this.color}}]),n}(Yn.vmT)));dC.legacyComponentName="hemisphere-light",dC.disableTransform=!0,dC.nodeName="Hemisphere Light";var hC=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 640 512"},e,{ref:t}),y.createElement("path",{fill:"currentColor",d:"M192 160h32V32h-32c-35.35 0-64 28.65-64 64s28.65 64 64 64zM0 416c0 35.35 28.65 64 64 64h32V352H64c-35.35 0-64 28.65-64 64zm337.46-128c-34.91 0-76.16 13.12-104.73 32-24.79 16.38-44.52 32-104.73 32v128l57.53 15.97c26.21 7.28 53.01 13.12 80.31 15.05 32.69 2.31 65.6.67 97.58-6.2C472.9 481.3 512 429.22 512 384c0-64-84.18-96-174.54-96zM491.42 7.19C459.44.32 426.53-1.33 393.84.99c-27.3 1.93-54.1 7.77-80.31 15.04L256 32v128c60.2 0 79.94 15.62 104.73 32 28.57 18.88 69.82 32 104.73 32C555.82 224 640 192 640 128c0-45.22-39.1-97.3-148.58-120.81z"}))}));hC.displayName="ShoePrints";var pC=y.createElement;function vC(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var mC=function(e){(0,f.Z)(n,e);var t=vC(n);function n(e){var r;(0,l.Z)(this,n),(r=t.call(this,e)).onRegenerate=(0,c.Z)(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new AbortController,r.props.showDialog(kn.i,{title:"Generating Floor Plan",message:"Generating floor plan...",cancelable:!0,onCancel:function(){return n.abort()}}),e.prev=2,e.next=5,null===(t=r.props.node)||void 0===t?void 0:t.generate(n.signal);case 5:r.props.hideDialog(),e.next=15;break;case 8:if(e.prev=8,e.t0=e.catch(2),!e.t0.aborted){e.next=13;break}return r.props.hideDialog(),e.abrupt("return");case 13:console.error(e.t0),r.props.showDialog(vn,{title:"Error Generating Floor Plan",message:e.t0.message||"There was an unknown error.",error:e.t0});case 15:case"end":return e.stop()}}),e,null,[[2,8]])})));var o=function(e){return function(t){return r.props.editor.setPropertySelected(e,t)}};return r.onChangeAutoCellSize=o("autoCellSize"),r.onChangeCellSize=o("cellSize"),r.onChangeCellHeight=o("cellHeight"),r.onChangeAgentHeight=o("agentHeight"),r.onChangeAgentRadius=o("agentRadius"),r.onChangeAgentMaxClimb=o("agentMaxClimb"),r.onChangeAgentMaxSlope=o("agentMaxSlope"),r.onChangeRegionMinSize=o("regionMinSize"),r.onChangeMaxTriangles=o("maxTriangles"),r.onChangeForceTrimesh=o("forceTrimesh"),r}return(0,u.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.node;e.settings;return pC(bf,(0,o.Z)({},this.props,{description:n.description}),pC(Rm,{name:"Auto Cell Size"},pC(mn.Z,{value:t.autoCellSize,onChange:this.onChangeAutoCellSize})),!t.autoCellSize&&pC(vg,{name:"Cell Size",value:t.cellSize,smallStep:.001,mediumStep:.01,largeStep:.1,min:.1,displayPrecision:1e-4,onChange:this.onChangeCellSize}),pC(vg,{name:"Cell Height",value:t.cellHeight,smallStep:.001,mediumStep:.01,largeStep:.1,min:.1,onChange:this.onChangeCellHeight,unit:"m"}),pC(vg,{name:"Agent Height",value:t.agentHeight,smallStep:.001,mediumStep:.01,largeStep:.1,min:.1,onChange:this.onChangeAgentHeight,unit:"m"}),pC(vg,{name:"Agent Radius",value:t.agentRadius,min:0,smallStep:.001,mediumStep:.01,largeStep:.1,onChange:this.onChangeAgentRadius,unit:"m"}),pC(vg,{name:"Maximum Step Height",value:t.agentMaxClimb,min:0,smallStep:.001,mediumStep:.01,largeStep:.1,onChange:this.onChangeAgentMaxClimb,unit:"m"}),pC(vg,{name:"Maximum Slope",value:t.agentMaxSlope,min:1e-5,max:90,smallStep:1,mediumStep:5,largeStep:15,onChange:this.onChangeAgentMaxSlope,unit:"\xb0"}),pC(vg,{name:"Minimum Region Area",value:t.regionMinSize,min:.1,smallStep:.1,mediumStep:1,largeStep:10,onChange:this.onChangeRegionMinSize,unit:"m\xb2"}),pC(Rm,{name:"Force Trimesh"},pC(mn.Z,{value:t.forceTrimesh,onChange:this.onChangeForceTrimesh})),!t.forceTrimesh&&pC(vg,{name:"Collision Geo Triangle Threshold",value:t.maxTriangles,min:10,max:1e4,smallStep:1,mediumStep:100,largeStep:1e3,precision:1,onChange:this.onChangeMaxTriangles}),pC(em.I8,{onClick:this.onRegenerate},"Regenerate"))}}]),n}(y.Component);mC.iconComponent=hC,mC.description="Sets the walkable surface area in your scene.";var gC,yC,bC=(yC=mC,gC=function(e){return Qt(tn.Consumer,null,(function(t){return Qt(yC,(0,o.Z)({},e,t))}))},function(e){return qt(Kt.Consumer,null,(function(t){return qt(gC,(0,o.Z)({},e,t))}))});bC.iconComponent=mC.iconComponent,bC.description=mC.description;var wC=bC;function xC(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var SC=function(e){(0,f.Z)(n,e);var t=xC(n);function n(){var e;return(0,l.Z)(this,n),(e=t.call(this)).decay=2,e.castShadow=!0,e.shadowMapResolution=rC((0,Gn.Z)(e)),e}return(0,u.Z)(n,[{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Yn.Tme.prototype.copy.call(this,e,!1),this.color.copy(e.color),this.intensity=e.intensity,this.distance=e.distance,this.decay=e.decay,this.shadow.copy(e.shadow),t){this.remove(this.target);for(var n=0;n<e.children.length;n++){var r=e.children[n];r===e.target?(this.target=r.clone(),this.add(this.target)):this.add(r.clone())}}return this}},{key:"target",value:function(e){throw new Error("Method not implemented.")}},{key:"range",get:function(){return this.distance},set:function(e){this.distance=e}},{key:"shadowBias",get:function(){return this.shadow.bias},set:function(e){this.shadow.bias=e}},{key:"shadowRadius",get:function(){return this.shadow.radius},set:function(e){this.shadow.radius=e}}]),n}(Yn.cek);function CC(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var kC=function(e){(0,f.Z)(n,e);var t=CC(n);function n(e,r){var o;(0,l.Z)(this,n);var i=new Yn.Aip(r,4,2),a=new Yn.vBJ({wireframe:!0,fog:!1});(o=t.call(this,i,a)).name="EditorPointLightHelper",o.light=e;var s=new Yn.Wjw(1,2),c=new Yn.vBJ({fog:!1,wireframe:!0,opacity:.1,transparent:!0});return o.lightDistanceHelper=new Yn.Kj0(s,c),o.lightDistanceHelper.layers.set(1),o.add(o.lightDistanceHelper),o.layers.set(1),o.update(),Zr((0,Gn.Z)(o)),o}return(0,u.Z)(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose(),this.lightDistanceHelper.geometry.dispose()}},{key:"update",value:function(){this.material.color.copy(this.light.color);var e=this.light.distance;0===e?this.lightDistanceHelper.visible=!1:(this.lightDistanceHelper.visible=!0,this.lightDistanceHelper.scale.set(e,e,e))}}]),n}(Yn.Kj0);function OC(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var PC=function(e){(0,f.Z)(n,e);var t=OC(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this,e)).helper=new kC((0,Gn.Z)(r)),r.helper.visible=!1,r.add(r.helper),r}return(0,u.Z)(n,[{key:"onAdd",value:function(){this.helper.update()}},{key:"onChange",value:function(){this.helper.update()}},{key:"onSelect",value:function(){this.helper.visible=!0}},{key:"onDeselect",value:function(){this.helper.visible=!1}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if((0,qn.Z)((0,h.Z)(n.prototype),"copy",this).call(this,e,!1),t){this.remove(this.helper);for(var r=0;r<e.children.length;r++){var o=e.children[r];o===e.helper?(this.helper=new kC(this),this.add(this.helper)):this.add(o.clone())}}return this}},{key:"serialize",value:function(){return(0,qn.Z)((0,h.Z)(n.prototype),"serialize",this).call(this,{"point-light":{color:this.color,intensity:this.intensity,range:this.range,castShadow:this.castShadow,shadowMapResolution:this.shadowMapResolution.toArray(),shadowBias:this.shadowBias,shadowRadius:this.shadowRadius}})}},{key:"prepareForExport",value:function(){(0,qn.Z)((0,h.Z)(n.prototype),"prepareForExport",this).call(this),this.remove(this.helper),this.addGLTFComponent("point-light",{color:this.color,intensity:this.intensity,range:this.range,castShadow:this.castShadow,shadowMapResolution:this.shadowMapResolution.toArray(),shadowBias:this.shadowBias,shadowRadius:this.shadowRadius}),this.replaceObject()}}],[{key:"deserialize",value:function(){var e=(0,c.Z)(s().mark((function e(t,r){var o,i,a,c,l,u,f,d,p;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,qn.Z)((0,h.Z)(n),"deserialize",this).call(this,t,r);case 2:return o=e.sent,i=r.components.find((function(e){return"point-light"===e.name})).props,a=i.color,c=i.intensity,l=i.range,u=i.castShadow,f=i.shadowMapResolution,d=i.shadowBias,p=i.shadowRadius,o.color.set(a),o.intensity=c,o.range=l,o.castShadow=u,o.shadowBias=d||0,o.shadowRadius=void 0===p?1:p,f&&o.shadowMapResolution.fromArray(f),e.abrupt("return",o);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(hs(SC));function MC(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}PC.legacyComponentName="point-light",PC.nodeName="Point Light";var RC=function(e){(0,f.Z)(n,e);var t=MC(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"onRendererChanged",value:function(){this.updateEnvironmentMap()}},{key:"onAdd",value:function(){"undefined"===typeof this.skyOptionValue&&(this.skyOptionValue="skybox"),this.updateEnvironmentMap()}},{key:"onChange",value:function(){switch(this.skyOptionValue){case"equirectangular":case"cubemap":this.sky.visible=!1,this.editor.scene.background=this.getTexture();break;default:this.sky.visible=!0,this.editor.scene.background=null;var e=this.editor.renderer.renderer;return this.generateEnvironmentMap(e)}this.updateEnvironmentMap()}},{key:"onRemove",value:function(){this.editor.scene.updateEnvironmentMap(null)}},{key:"getTexture",value:function(){switch(this.skyOptionValue){case"equirectangular":var e=(new Yn.dpR).load(this.textureOptionValue);return e.encoding=Yn.knz,e.mapping=Yn.dSO,e.needsUpdate=!0,e;case"cubemap":return(new Yn.cBK).setPath(this.textureOptionValue).load(["posx.jpg","negx.jpg","posy.jpg","negy.jpg","posz.jpg","negz.jpg"]);default:var t=this.editor.renderer.renderer;return this.generateEnvironmentMap(t)}}},{key:"updateEnvironmentMap",value:function(){this.editor.scene.updateEnvironmentMap(this.getTexture())}},{key:"serialize",value:function(){var e={};switch(this.skyOptionValue){case"cubemap":case"equirectangular":e={texture:this.textureOptionValue};break;default:e={turbidity:this.turbidity,rayleigh:this.rayleigh,luminance:this.luminance,mieCoefficient:this.mieCoefficient,mieDirectionalG:this.mieDirectionalG,inclination:this.inclination,azimuth:this.azimuth,distance:this.distance}}return e.skytype=this.skyOptionValue,(0,qn.Z)((0,h.Z)(n.prototype),"serialize",this).call(this,{skybox:e})}},{key:"prepareForExport",value:function(){(0,qn.Z)((0,h.Z)(n.prototype),"prepareForExport",this).call(this),this.addGLTFComponent("skybox",{turbidity:this.turbidity,rayleigh:this.rayleigh,luminance:this.luminance,mieCoefficient:this.mieCoefficient,mieDirectionalG:this.mieDirectionalG,inclination:this.inclination,azimuth:this.azimuth,distance:this.distance}),this.replaceObject()}},{key:"getRuntimeResourcesForStats",value:function(){return{meshes:[this.sky],materials:[this.sky.material]}}}],[{key:"canAddNode",value:function(e){return null===e.scene.findNodeByType(n)}},{key:"deserialize",value:function(){var e=(0,c.Z)(s().mark((function e(t,r){var o,i,a,c,l,u,f,d,p,v,m;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,qn.Z)((0,h.Z)(n),"deserialize",this).call(this,t,r);case 2:o=e.sent,i=r.components.find((function(e){return"skybox"===e.name})),e.t0=i.props.skytype,e.next="cubemap"===e.t0||"equirectangular"===e.t0?7:9;break;case 7:return o.texture=i.props.texture,e.abrupt("break",18);case 9:a=i.props,c=a.turbidity,l=a.rayleigh,u=a.luminance,f=a.mieCoefficient,d=a.mieDirectionalG,p=a.inclination,v=a.azimuth,m=a.distance,o.turbidity=c,o.rayleigh=l,o.luminance=u,o.mieCoefficient=f,o.mieDirectionalG=d,o.inclination=p,o.azimuth=v,o.distance=m;case 18:return o.skyOptionValue=i.props.skytype,e.abrupt("return",o);case 20:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(hs(n(59346).q));function EC(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}RC.legacyComponentName="skybox",RC.disableTransform=!0,RC.ignoreRaycast=!0,RC.nodeName="Skybox";var ZC=function(e){(0,f.Z)(n,e);var t=EC(n);function n(){var e;return(0,l.Z)(this,n),(e=t.call(this)).position.set(0,0,0),e.decay=2,e.target.position.set(0,0,1),e.add(e.target),e.castShadow=!0,e.innerConeAngle=0,e.outerConeAngle=Math.PI/4,e.maxOuterConeAngle=Math.PI/2,e.shadowMapResolution=rC((0,Gn.Z)(e)),e}return(0,u.Z)(n,[{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Yn.Tme.prototype.copy.call(this,e,!1),this.color.copy(e.color),this.intensity=e.intensity,this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.shadow.copy(e.shadow),t){this.remove(this.target);for(var n=0;n<e.children.length;n++){var r=e.children[n];r===e.target?(this.target=r.clone(),this.target.position.set(0,0,1),this.add(this.target)):this.add(r.clone())}}return this}},{key:"range",get:function(){return this.distance},set:function(e){this.distance=e}},{key:"innerConeAngle",get:function(){return(1-this.penumbra)*this.angle},set:function(e){this.penumbra=1-Math.max(e,Number.EPSILON)/this.angle}},{key:"outerConeAngle",get:function(){return this.angle},set:function(e){this.angle=e,this.penumbra=1-Math.max(this.innerConeAngle,Number.EPSILON)/e}},{key:"shadowBias",get:function(){return this.shadow.bias},set:function(e){this.shadow.bias=e}},{key:"shadowRadius",get:function(){return this.shadow.radius},set:function(e){this.shadow.radius=e}}]),n}(Yn.PMe);function jC(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var DC=function(e){(0,f.Z)(n,e);var t=jC(n);function n(e,r){var o;(0,l.Z)(this,n),(o=t.call(this)).update=function(){o.light.updateMatrixWorld();var e=o.light.distance?o.light.distance:1e3,t=e*Math.tan(o.light.angle),n=(1-o.light.penumbra)*o.light.angle,r=e*Math.tan(n);o.outerCone.scale.set(t,t,e),o.innerCone.scale.set(r,r,e)},o.name="EditorSpotLightHelper",o.light=e,o.color=r;for(var i=new Yn.u9r,a=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],s=0,c=1;s<32;s++,c++){var u=s/32*Math.PI*2,f=c/32*Math.PI*2;a.push(Math.cos(u),Math.sin(u),1,Math.cos(f),Math.sin(f),1)}i.setAttribute("position",new Yn.a$l(a,3));var d=new Yn.nls({fog:!1});return o.outerCone=new Yn.ejS(i,d),o.outerCone.layers.set(1),o.add(o.outerCone),o.innerCone=new Yn.ejS(i,d),o.innerCone.layers.set(1),o.add(o.innerCone),o.update(),Zr((0,Gn.Z)(o)),o}return(0,u.Z)(n,[{key:"dispose",value:function(){this.outerCone.geometry.dispose()}}]),n}(Yn.Tme);function TC(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var AC=function(e){(0,f.Z)(n,e);var t=TC(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this,e)).helper=new DC((0,Gn.Z)(r)),r.helper.visible=!1,r.add(r.helper),r}return(0,u.Z)(n,[{key:"onAdd",value:function(){this.helper.update()}},{key:"onChange",value:function(){this.helper.update()}},{key:"onSelect",value:function(){this.helper.visible=!0}},{key:"onDeselect",value:function(){this.helper.visible=!1}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if((0,qn.Z)((0,h.Z)(n.prototype),"copy",this).call(this,e,!1),t){this.remove(this.helper),this.remove(this.target);for(var r=0;r<e.children.length;r++){var o=e.children[r];o===e.helper?(this.helper=new DC(this),this.add(this.helper)):o===e.target?(this.target=o.clone(),this.add(this.target)):this.add(o.clone())}}return this}},{key:"serialize",value:function(){return(0,qn.Z)((0,h.Z)(n.prototype),"serialize",this).call(this,{"spot-light":{color:this.color,intensity:this.intensity,range:this.range,innerConeAngle:this.innerConeAngle,outerConeAngle:this.outerConeAngle,castShadow:this.castShadow,shadowMapResolution:this.shadowMapResolution.toArray(),shadowBias:this.shadowBias,shadowRadius:this.shadowRadius}})}},{key:"prepareForExport",value:function(){(0,qn.Z)((0,h.Z)(n.prototype),"prepareForExport",this).call(this),this.remove(this.helper),this.addGLTFComponent("spot-light",{color:this.color,intensity:this.intensity,range:this.range,innerConeAngle:this.innerConeAngle,outerConeAngle:this.outerConeAngle,castShadow:this.castShadow,shadowMapResolution:this.shadowMapResolution.toArray(),shadowBias:this.shadowBias,shadowRadius:this.shadowRadius}),this.replaceObject()}}],[{key:"deserialize",value:function(){var e=(0,c.Z)(s().mark((function e(t,r){var o,i,a,c,l,u,f,d,p,v,m;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,qn.Z)((0,h.Z)(n),"deserialize",this).call(this,t,r);case 2:return o=e.sent,i=r.components.find((function(e){return"spot-light"===e.name})).props,a=i.color,c=i.intensity,l=i.range,u=i.innerConeAngle,f=i.outerConeAngle,d=i.castShadow,p=i.shadowMapResolution,v=i.shadowBias,m=i.shadowRadius,o.color.set(a),o.intensity=c,o.range=l,o.innerConeAngle=u,o.outerConeAngle=f,o.castShadow=d,o.shadowBias=v||0,o.shadowRadius=void 0===m?1:m,p&&o.shadowMapResolution.fromArray(p),e.abrupt("return",o);case 14:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(hs(ZC));function _C(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return IC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IC(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function IC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function NC(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}AC.legacyComponentName="spot-light",AC.nodeName="Spot Light",AC.ignoreRaycast=!0;var LC=["target","enterComponent","enterProperty","enterValue","leaveComponent","leaveProperty","leaveValue"],zC=function(e){(0,f.Z)(n,e);var t=NC(n);function n(e){var r;(0,l.Z)(this,n),r=t.call(this,e);var o=new Yn.Kj0(n._geometry,n._material),i=new Yn.fQA(o,16776960);return i.layers.set(1),r.helper=i,r.add(i),r.target=null,r.enterComponent=null,r.enterProperty=null,r.enterValue=null,r.leaveComponent=null,r.leaveProperty=null,r.leaveValue=null,r}return(0,u.Z)(n,[{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t&&this.remove(this.helper),(0,qn.Z)((0,h.Z)(n.prototype),"copy",this).call(this,e,t),t){var r=e.children.indexOf(e.helper);-1!==r&&(this.helper=this.children[r])}return this.target=e.target,this.enterComponent=e.enterComponent,this.enterProperty=e.enterProperty,this.enterValue=e.enterValue,this.leaveComponent=e.leaveComponent,this.leaveProperty=e.leaveProperty,this.leaveValue=e.leaveValue,this}},{key:"serialize",value:function(){return(0,qn.Z)((0,h.Z)(n.prototype),"serialize",this).call(this,{"trigger-volume":{target:this.target,enterComponent:this.enterComponent,enterProperty:this.enterProperty,enterValue:this.enterValue,leaveComponent:this.leaveComponent,leaveProperty:this.leaveProperty,leaveValue:this.leaveValue}})}},{key:"prepareForExport",value:function(){(0,qn.Z)((0,h.Z)(n.prototype),"prepareForExport",this).call(this),this.remove(this.helper);var e,t=_C(LC);try{for(t.s();!(e=t.n()).done;){var r=e.value;if(null===this[r]||void 0===this[r])return void console.warn('TriggerVolumeNode: property "'.concat(r,'" is required. Skipping...'))}}catch(i){t.e(i)}finally{t.f()}var o=new Yn.Pa4;this.getWorldScale(o),this.addGLTFComponent("trigger-volume",{size:{x:o.x,y:o.y,z:o.z},target:this.gltfIndexForUUID(this.target),enterComponent:this.enterComponent,enterProperty:this.enterProperty,enterValue:this.enterValue,leaveComponent:this.leaveComponent,leaveProperty:this.leaveProperty,leaveValue:this.leaveValue})}}],[{key:"deserialize",value:function(){var e=(0,c.Z)(s().mark((function e(t,r){var o,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,qn.Z)((0,h.Z)(n),"deserialize",this).call(this,t,r);case 2:return o=e.sent,i=r.components.find((function(e){return"trigger-volume"===e.name})).props,o.target=i.target,o.enterComponent=i.enterComponent,o.enterProperty=i.enterProperty,o.enterValue=i.enterValue,o.leaveComponent=i.leaveComponent,o.leaveProperty=i.leaveProperty,o.leaveValue=i.leaveValue,e.abrupt("return",o);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(hs(Yn.Tme));zC.legacyComponentName="trigger-volume",zC.nodeName="Trigger Volume",zC._geometry=new Yn.nvb,zC._material=new Yn.F5T;var FC=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),y.createElement("path",{fill:"currentColor",d:"M304.083 405.907c4.686 4.686 4.686 12.284 0 16.971l-44.674 44.674c-59.263 59.262-155.693 59.266-214.961 0-59.264-59.265-59.264-155.696 0-214.96l44.675-44.675c4.686-4.686 12.284-4.686 16.971 0l39.598 39.598c4.686 4.686 4.686 12.284 0 16.971l-44.675 44.674c-28.072 28.073-28.072 73.75 0 101.823 28.072 28.072 73.75 28.073 101.824 0l44.674-44.674c4.686-4.686 12.284-4.686 16.971 0l39.597 39.598zm-56.568-260.216c4.686 4.686 12.284 4.686 16.971 0l44.674-44.674c28.072-28.075 73.75-28.073 101.824 0 28.072 28.073 28.072 73.75 0 101.823l-44.675 44.674c-4.686 4.686-4.686 12.284 0 16.971l39.598 39.598c4.686 4.686 12.284 4.686 16.971 0l44.675-44.675c59.265-59.265 59.265-155.695 0-214.96-59.266-59.264-155.695-59.264-214.961 0l-44.674 44.674c-4.686 4.686-4.686 12.284 0 16.971l39.597 39.598zm234.828 359.28l22.627-22.627c9.373-9.373 9.373-24.569 0-33.941L63.598 7.029c-9.373-9.373-24.569-9.373-33.941 0L7.029 29.657c-9.373 9.373-9.373 24.569 0 33.941l441.373 441.373c9.373 9.372 24.569 9.372 33.941 0z"}))}));FC.displayName="Unlink";var UC=y.createElement;function VC(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}function BC(){var e=(0,p.Z)(["\n  display: flex;\n  align-items: center;\n\n  svg {\n    width: 12px;\n  }\n\n  label {\n    color: ",";\n  }\n\n  label:hover {\n    color: ",";\n  }\n"]);return BC=function(){return e},e}function HC(){var e=(0,p.Z)(["\n  display: flex;\n  align-items: center;\n  padding: 0 8px;\n  color: ",";\n"]);return HC=function(){return e},e}function WC(){var e=(0,p.Z)(["\n  display: flex;\n  flex-direction: row;\n  flex: 1 1 auto;\n  width: 70%;\n  justify-content: flex-start;\n"]);return WC=function(){return e},e}var GC=Vt.ZP.div(WC()),qC=(0,Vt.ZP)(rg)(HC(),(function(e){return e.theme.text2})),KC=Vt.ZP.div(BC(),(function(e){return e.theme.text2}),(function(e){return e.theme.blueHover})),YC=0,XC=function(e){(0,f.Z)(n,e);var t=VC(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this,e)).onToggleUniform=function(){r.setState({uniformEnabled:!r.state.uniformEnabled})},r.onChange=function(e,t){var n=r.props.value;if(r.state.uniformEnabled)r.newValue.set(t,t,t);else{var o=n?n.x:0,i=n?n.y:0,a=n?n.z:0;r.newValue.x="x"===e?t:o,r.newValue.y="y"===e?t:i,r.newValue.z="z"===e?t:a}r.props.onChange(r.newValue)},r.onChangeX=function(e){return r.onChange("x",e)},r.onChangeY=function(e){return r.onChange("y",e)},r.onChangeZ=function(e){return r.onChange("z",e)},r.id=YC++,r.newValue=new Yn.Pa4,r.state={uniformEnabled:e.uniformScaling},r}return(0,u.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.uniformScaling,n=e.value,r=(e.onChange,(0,sn.Z)(e,["uniformScaling","value","onChange"])),i=this.state.uniformEnabled,a=n?n.x:0,s=n?n.y:0,c=n?n.z:0,l="uniform-button-"+this.id;return UC(GC,null,t&&UC(KC,null,UC(nm,{as:"input",id:l,type:"checkbox",checked:i,onChange:this.onToggleUniform}),UC("label",{title:"Uniform Scale",htmlFor:l},UC(i?Hx:FC,null))),UC(qC,(0,o.Z)({},r,{tag:"div",value:a,onChange:this.onChangeX}),"X:"),UC(hg,(0,o.Z)({},r,{value:a,onChange:this.onChangeX})),UC(qC,(0,o.Z)({},r,{tag:"div",value:s,onChange:this.onChangeY}),"Y:"),UC(hg,(0,o.Z)({},r,{value:s,onChange:this.onChangeY})),UC(qC,(0,o.Z)({},r,{tag:"div",value:c,onChange:this.onChangeZ}),"Z:"),UC(hg,(0,o.Z)({},r,{value:c,onChange:this.onChangeZ})))}}]),n}(y.Component);XC.defaultProps={value:new Yn.Pa4,onChange:function(){}};var $C=n(25730),JC=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),y.createElement("path",{fill:"currentColor",d:"M224 32c0-17.67-14.33-32-32-32h-64c-17.67 0-32 14.33-32 32v96h128V32zm256 96c-17.67 0-32 14.33-32 32s14.33 32 32 32 32-14.33 32-32-14.33-32-32-32zm-256 32H96c-53.02 0-96 42.98-96 96v224c0 17.67 14.33 32 32 32h256c17.67 0 32-14.33 32-32V256c0-53.02-42.98-96-96-96zm-64 256c-44.18 0-80-35.82-80-80s35.82-80 80-80 80 35.82 80 80-35.82 80-80 80zM480 96c17.67 0 32-14.33 32-32s-14.33-32-32-32-32 14.33-32 32 14.33 32 32 32zm-96 32c-17.67 0-32 14.33-32 32s14.33 32 32 32 32-14.33 32-32-14.33-32-32-32zm-96-96c-17.67 0-32 14.33-32 32s14.33 32 32 32 32-14.33 32-32-14.33-32-32-32zm96 0c-17.67 0-32 14.33-32 32s14.33 32 32 32 32-14.33 32-32-14.33-32-32-32zm96 192c-17.67 0-32 14.33-32 32s14.33 32 32 32 32-14.33 32-32-14.33-32-32-32z"}))}));JC.displayName="SprayCan";var QC=y.createElement;function ek(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return tk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tk(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function tk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nk(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var rk=Object.keys($C).map((function(e){return{label:(0,v.oX)(e),value:e}})),ok=function(e){(0,f.Z)(n,e);var t=nk(n);function n(){var e;return(0,l.Z)(this,n),(e=t.apply(this,arguments)).onChangeColorCurve=function(t){e.props.editor.setPropertySelected("colorCurve",t)},e.onChangeVelocityCurve=function(t){e.props.editor.setPropertySelected("velocityCurve",t)},e.onChangeStartColor=function(t){e.props.editor.setPropertySelected("startColor",t),e.updateParticles()},e.onChangeMiddleColor=function(t){e.props.editor.setPropertySelected("middleColor",t)},e.onChangeEndColor=function(t){e.props.editor.setPropertySelected("endColor",t)},e.onChangeStartOpacity=function(t){e.props.editor.setPropertySelected("startOpacity",t)},e.onChangeMiddleOpacity=function(t){e.props.editor.setPropertySelected("middleOpacity",t)},e.onChangeEndOpacity=function(t){e.props.editor.setPropertySelected("endOpacity",t)},e.onChangeSrc=function(t){e.props.editor.setPropertySelected("src",t)},e.onChangeSizeCurve=function(t){e.props.editor.setPropertySelected("sizeCurve",t)},e.onChangeStartSize=function(t){e.props.editor.setPropertySelected("startSize",t),e.updateParticles()},e.onChangeEndSize=function(t){e.props.editor.setPropertySelected("endSize",t)},e.onChangeSizeRandomness=function(t){e.props.editor.setPropertySelected("sizeRandomness",t),e.updateParticles()},e.onChangeStartVelocity=function(t){e.props.editor.setPropertySelected("startVelocity",t)},e.onChangeEndVelocity=function(t){e.props.editor.setPropertySelected("endVelocity",t)},e.onChangeAngularVelocity=function(t){e.props.editor.setPropertySelected("angularVelocity",t)},e.onChangeParticleCount=function(t){e.props.editor.setPropertySelected("particleCount",t),e.updateParticles()},e.onChangeLifetime=function(t){e.props.editor.setPropertySelected("lifetime",t),e.updateParticles()},e.onChangeAgeRandomness=function(t){e.props.editor.setPropertySelected("ageRandomness",t),e.updateParticles()},e.onChangeLifetimeRandomness=function(t){e.props.editor.setPropertySelected("lifetimeRandomness",t),e.updateParticles()},e}return(0,u.Z)(n,[{key:"updateParticles",value:function(){var e,t=ek(this.props.editor.selected);try{for(t.s();!(e=t.n()).done;){e.value.updateParticles()}}catch(n){t.e(n)}finally{t.f()}}},{key:"render",value:function(){return QC(bf,(0,o.Z)({},this.props,{description:n.description}),QC(vg,{name:"Particle Count",min:1,smallStep:1,mediumStep:1,largeStep:1,value:this.props.node.particleCount,onChange:this.onChangeParticleCount}),QC(Rm,{name:"Image"},QC(Nx,{value:this.props.node.src,onChange:this.onChangeSrc})),QC(vg,{name:"Age Randomness",info:"The amount of variation between when particles are spawned.",min:0,smallStep:.01,mediumStep:.1,largeStep:1,value:this.props.node.ageRandomness,onChange:this.onChangeAgeRandomness,unit:"s"}),QC(vg,{name:"Lifetime",info:"The maximum age of a particle before it is respawned.",min:0,smallStep:.01,mediumStep:.1,largeStep:1,value:this.props.node.lifetime,onChange:this.onChangeLifetime,unit:"s"}),QC(vg,{name:"Lifetime Randomness",info:"The amount of variation between particle lifetimes.",min:0,smallStep:.01,mediumStep:.1,largeStep:1,value:this.props.node.lifetimeRandomness,onChange:this.onChangeLifetimeRandomness,unit:"s"}),QC(Rm,{name:"Size Curve"},QC(xw,{options:rk,value:this.props.node.sizeCurve,onChange:this.onChangeSizeCurve})),QC(vg,{name:"Start Particle Size",min:0,smallStep:.01,mediumStep:.1,largeStep:1,value:this.props.node.startSize,onChange:this.onChangeStartSize,unit:"m"}),QC(vg,{name:"End Particle Size",min:0,smallStep:.01,mediumStep:.1,largeStep:1,value:this.props.node.endSize,onChange:this.onChangeEndSize,unit:"m"}),QC(vg,{name:"Size Randomness",info:"The amount of variation between particle starting sizes.",min:0,smallStep:.01,mediumStep:.1,largeStep:1,value:this.props.node.sizeRandomness,onChange:this.onChangeSizeRandomness,unit:"m"}),QC(Rm,{name:"Color Curve"},QC(xw,{options:rk,value:this.props.node.colorCurve,onChange:this.onChangeColorCurve})),QC(Rm,{name:"Start Color"},QC(Gm,{value:this.props.node.startColor,onChange:this.onChangeStartColor})),QC(Rm,{name:"Start Opacity"},QC(ix,{min:0,max:1,step:.01,value:this.props.node.startOpacity,onChange:this.onChangeStartOpacity})),QC(Rm,{name:"Middle Color"},QC(Gm,{value:this.props.node.middleColor,onChange:this.onChangeMiddleColor})),QC(Rm,{name:"Middle Opacity"},QC(ix,{min:0,max:1,step:.01,value:this.props.node.middleOpacity,onChange:this.onChangeMiddleOpacity})),QC(Rm,{name:"End Color"},QC(Gm,{value:this.props.node.endColor,onChange:this.onChangeEndColor})),QC(Rm,{name:"End Opacity"},QC(ix,{min:0,max:1,step:.01,value:this.props.node.endOpacity,onChange:this.onChangeEndOpacity})),QC(Rm,{name:"Velocity Curve"},QC(xw,{options:rk,value:this.props.node.velocityCurve,onChange:this.onChangeVelocityCurve})),QC(Rm,{name:"Start Velocity"},QC(XC,{value:this.props.node.startVelocity,smallStep:.01,mediumStep:.1,largeStep:1,onChange:this.onChangeStartVelocity})),QC(Rm,{name:"End Velocity"},QC(XC,{value:this.props.node.endVelocity,smallStep:.01,mediumStep:.1,largeStep:1,onChange:this.onChangeEndVelocity})),QC(vg,{name:"Angular Velocity",min:-100,smallStep:1,mediumStep:1,largeStep:1,value:this.props.node.angularVelocity,onChange:this.onChangeAngularVelocity,unit:"\xb0/s"}))}}]),n}(y.Component);ok.iconComponent=JC,ok.description="Particle emitter to create particles.";var ik=n(41340);function ak(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var sk,ck=function(e){(0,f.Z)(n,e);var t=ak(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;(0,l.Z)(this,n),(e=t.call(this)).name="DirectionalPlaneHelper";var o=new Yn.u9r;o.setAttribute("position",new Yn.a$l([-r,r,0,r,r,0,r,-r,0,-r,-r,0,-r,r,0],3));var i=new Yn.nls({fog:!1});return e.plane=new Yn.x12(o,i),e.plane.layers.set(1),e.add(e.plane),(o=new Yn.u9r).setAttribute("position",new Yn.a$l([0,0,0,0,0,1],3)),e.directionLine=new Yn.x12(o,i),e.directionLine.layers.set(1),e.add(e.directionLine),Zr((0,Gn.Z)(e)),e}return(0,u.Z)(n,[{key:"setColor",value:function(e){this.plane.material.color.copy(e),this.directionLine.material.color.copy(e)}},{key:"dispose",value:function(){this.plane.geometry.dispose(),this.plane.material.dispose(),this.directionLine.geometry.dispose(),this.directionLine.material.dispose()}}]),n}(Yn.Tme);function lk(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var uk=null,fk="/editor/dot.png",dk=function(e){(0,f.Z)(n,e);var t=lk(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this,e,uk)).disableOutline=!0,r._canonicalUrl="",r.helper=new ck,r.helper.visible=!1,r.add(r.helper),r}return(0,u.Z)(n,[{key:"load",value:function(){var e=(0,c.Z)(s().mark((function e(t,n){var r,o,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=t||"")!==this._canonicalUrl){e.next=3;break}return e.abrupt("return");case 3:return this._canonicalUrl=r,e.prev=4,e.next=7,this.editor.api.resolveMedia(t);case 7:return o=e.sent,i=o.accessibleUrl,e.next=11,(0,Or.Z)(i);case 11:this.material.uniforms.map.value=e.sent,e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),n&&n(this,e.t0),console.error(e.t0);case 18:return e.abrupt("return",this);case 19:case"end":return e.stop()}}),e,this,[[4,14]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onSelect",value:function(){this.helper.visible=!0}},{key:"onDeselect",value:function(){this.helper.visible=!1}},{key:"onUpdate",value:function(e){this.update(e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t&&this.remove(this.helper),(0,qn.Z)((0,h.Z)(n.prototype),"copy",this).call(this,e,t),t){var r=e.children.indexOf(e.helper);if(-1===r)throw new Error("Source helper could not be found.");this.helper=this.children[r]}return this.src=e._canonicalUrl,this}},{key:"serialize",value:function(){return(0,qn.Z)((0,h.Z)(n.prototype),"serialize",this).call(this,{"particle-emitter":{src:this._canonicalUrl,startColor:this.startColor,middleColor:this.middleColor,endColor:this.endColor,startOpacity:this.startOpacity,middleOpacity:this.middleOpacity,endOpacity:this.endOpacity,colorCurve:this.colorCurve,sizeCurve:this.sizeCurve,startSize:this.startSize,endSize:this.endSize,sizeRandomness:this.sizeRandomness,ageRandomness:this.ageRandomness,lifetime:this.lifetime,lifetimeRandomness:this.lifetimeRandomness,particleCount:this.particleCount,startVelocity:this.startVelocity,endVelocity:this.endVelocity,velocityCurve:this.velocityCurve,angularVelocity:this.angularVelocity}})}},{key:"prepareForExport",value:function(){(0,qn.Z)((0,h.Z)(n.prototype),"prepareForExport",this).call(this),this.addGLTFComponent("particle-emitter",{src:this._canonicalUrl,startColor:this.startColor,middleColor:this.middleColor,endColor:this.endColor,startOpacity:this.startOpacity,middleOpacity:this.middleOpacity,endOpacity:this.endOpacity,colorCurve:this.colorCurve,sizeCurve:this.sizeCurve,startSize:this.startSize,endSize:this.endSize,sizeRandomness:this.sizeRandomness,ageRandomness:this.ageRandomness,lifetime:this.lifetime,lifetimeRandomness:this.lifetimeRandomness,particleCount:this.particleCount,startVelocity:this.startVelocity,endVelocity:this.endVelocity,velocityCurve:this.velocityCurve,angularVelocity:this.angularVelocity}),this.replaceObject()}},{key:"getRuntimeResourcesForStats",value:function(){var e=[];return this.material.uniforms.map.value&&e.push(this.material.uniforms.map.value),{meshes:[this],materials:[this.material],textures:e}}},{key:"src",get:function(){return this._canonicalUrl},set:function(e){this.load(e).catch(console.error)}}],[{key:"deserialize",value:function(){var e=(0,c.Z)(s().mark((function e(t,r,o,i){var a,l,u,f,d,p,v,m,g,y,b,w,x,S,C,k,O,P,M,R,E,Z;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,qn.Z)((0,h.Z)(n),"deserialize",this).call(this,t,r);case 2:return a=e.sent,l=r.components.find((function(e){return"particle-emitter"===e.name})).props,u=l.src,f=l.colorCurve,d=l.velocityCurve,p=l.startColor,v=l.middleColor,m=l.endColor,g=l.startOpacity,y=l.middleOpacity,b=l.endOpacity,w=l.sizeCurve,x=l.startSize,S=l.endSize,C=l.sizeRandomness,k=l.startVelocity,O=l.endVelocity,P=l.angularVelocity,M=l.particleCount,R=l.ageRandomness,E=l.lifetime,Z=l.lifetimeRandomness,a.startColor.set(p),a.middleColor.set(v),a.endColor.set(m),a.startOpacity=g,a.middleOpacity=y,a.endOpacity=b,a.colorCurve=f,a.startSize=x,a.endSize=S,a.sizeRandomness=C,a.ageRandomness=R,a.lifetime=E,a.lifetimeRandomness=Z,a.particleCount=M,a.startVelocity.copy(k),a.endVelocity.copy(O),a.sizeCurve=w,a.velocityCurve=d,a.angularVelocity=P,o((0,c.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.load(u,i);case 2:case"end":return e.stop()}}),e)})))()),a.updateParticles(),e.abrupt("return",a);case 26:case"end":return e.stop()}}),e,this)})));return function(t,n,r,o){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=(0,c.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Or.Z)(fk);case 2:(uk=e.sent).flipY=!1;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),n}(hs(ik.P));dk.legacyComponentName="particle-emitter",dk.nodeName="Particle Emitter",dk.initialElementProps={src:new URL(fk,null===(sk=window)||void 0===sk?void 0:sk.location).href};var hk=y.createElement;function pk(e){return hk(um,(0,o.Z)({},e,{searchPlaceholder:e.source.searchPlaceholder||"Search images..."}))}function vk(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}function mk(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var gk=function(e){(0,f.Z)(n,e);var t=mk(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this,e)).id="bing_images",r.name="Bing Images",r.searchLegalCopy="Search by Bing",r.privacyPolicyUrl="https://privacy.microsoft.com/en-us/privacystatement",r}return n}(function(e){(0,f.Z)(n,e);var t=vk(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this)).component=pk,r.api=e,r}return(0,u.Z)(n,[{key:"search",value:function(){var e=(0,c.Z)(s().mark((function e(t,n,r){var o,i,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.searchMedia(this.id,{query:t.query,filter:t.tags&&t.tags.length>0&&t.tags[0].value},n,r);case 2:return o=e.sent,i=o.results,a=o.suggestions,c=o.nextCursor,e.abrupt("return",{results:i.map((function(e){return{id:e.id,thumbnailUrl:e&&e.images&&e.images.preview&&e.images.preview.url,attributions:e.attributions,label:e.name,type:_n.Image,url:e.url,nodeClass:Js,initialProps:{name:e.name,src:e.url}}})),suggestions:a,nextCursor:c,hasMore:!!c});case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),n}(Nu)),yk=y.createElement;function bk(e){return yk(um,(0,o.Z)({},e,{searchPlaceholder:e.source.searchPlaceholder||"Search videos..."}))}function wk(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var xk=function(e){(0,f.Z)(n,e);var t=wk(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this)).component=bk,r.api=e,r}return(0,u.Z)(n,[{key:"search",value:function(){var e=(0,c.Z)(s().mark((function e(t,n,r){var o,i,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.searchMedia(this.id,{query:t.query,filter:t.tags&&t.tags.length>0&&t.tags[0].value},n,r);case 2:return o=e.sent,i=o.results,a=o.suggestions,c=o.nextCursor,e.abrupt("return",{results:i.map((function(e){return{id:e.id,thumbnailUrl:e&&e.images&&e.images.preview&&e.images.preview.url,attributions:e.attributions,label:e.name,type:_n.Video,url:e.url,nodeClass:Bc,initialProps:{name:e.name,src:e.url}}})),suggestions:a,nextCursor:c,hasMore:!!c});case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),n}(Nu);function Sk(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Ck=function(e){(0,f.Z)(n,e);var t=Sk(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this,e)).id="bing_videos",r.name="Bing Videos",r.searchLegalCopy="Search by Bing",r.privacyPolicyUrl="https://privacy.microsoft.com/en-us/privacystatement",r}return n}(xk),kk=y.createElement;function Ok(e){return kk(um,(0,o.Z)({},e,{searchPlaceholder:e.source.searchPlaceholder||"Search models..."}))}function Pk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pk(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rk(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Ek=function(e){(0,f.Z)(n,e);var t=Rk(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this)).component=Ok,r.api=e,r}return(0,u.Z)(n,[{key:"search",value:function(){var e=(0,c.Z)(s().mark((function e(t,n,r){var o,i,a,c,l,u,f,d,h;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={initialScale:"fit"},i={},a={query:t.query},t.tags&&t.tags.length>0&&(c=t.tags[0],l=void 0!==c.paramsKey?c.paramsKey:"filter",a[l]=c.value,c.initialNodeProps&&Object.assign(o,c.initialNodeProps),c.itemProps&&Object.assign(i,c.itemProps)),e.next=6,this.api.searchMedia(this.id,a,n,r);case 6:return u=e.sent,f=u.results,d=u.suggestions,h=u.nextCursor,e.abrupt("return",{results:f.map((function(e){return Mk({id:e.id,thumbnailUrl:e&&e.images&&e.images.preview&&e.images.preview.url,attributions:e.attributions,label:e.name,type:_n.Model,url:e.url,nodeClass:cc,initialProps:Mk(Mk({name:e.name},o),{},{src:e.url})},i)})),suggestions:d,nextCursor:h,hasMore:!!h});case 11:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),n}(Nu);function Zk(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var jk=function(e){(0,f.Z)(n,e);var t=Zk(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this,e)).id="poly",r.name="Google Poly",r.tags=[{label:"Featured",value:""},{label:"Animals",value:"animals"},{label:"Architecture",value:"architecture"},{label:"Art",value:"art"},{label:"Food",value:"food"},{label:"Nature",value:"nature"},{label:"Objects",value:"objects"},{label:"People",value:"people"},{label:"Scenes",value:"scenes"},{label:"Transport",value:"transport"}],r.searchLegalCopy="Search by Google",r.privacyPolicyUrl="https://policies.google.com/privacy",r.transformPivot=Ni,r}return n}(Ek);function Dk(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Tk=function(e){(0,f.Z)(n,e);var t=Dk(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this,e)).id="sketchfab",r.name="Sketchfab",r.tags=[{disabled:!0,label:"Categories",value:"categories",children:[{label:"Featured",value:"featured"},{label:"Animals",value:"animals-pets"},{label:"Architecture",value:"architecture"},{label:"Art",value:"art-abstract"},{label:"Vehicles",value:"cars-vehicles"},{label:"Characters",value:"characters-creatures"},{label:"Culture",value:"cultural-heritage-history"},{label:"Gadgets",value:"electronics-gadgets"},{label:"Fashion",value:"fashion-style"},{label:"Food",value:"food-drink"},{label:"Furniture",value:"furniture-home"},{label:"Music",value:"music"},{label:"Nature",value:"nature-plants"},{label:"News",value:"news-politics"},{label:"People",value:"people"},{label:"Places",value:"places-travel"},{label:"Science",value:"science-technology"},{label:"Sports",value:"sports-fitness"},{label:"Weapons",value:"weapons-military"}]},{disabled:!0,label:"Collections",value:"collections",children:[{label:"Hubs Scene Props",value:"51b7fd61abd04bc888cc8e7146125741",paramsKey:"collection",initialNodeProps:{initialScale:"fit",castShadow:!0,receiveShadow:!0},itemProps:{transformPivot:Ni}},{label:"Hubs Recommended Props",value:"6cc8879692694161b1208c4626c48aba",paramsKey:"collection",initialNodeProps:{initialScale:"fit"},itemProps:{transformPivot:Ni}},{disabled:!0,label:"Medieval Fantasy Contest",value:"medieval-fantasy-contest",children:[{label:"Medieval City Builder - by Eanorien",value:"355623519b124985a08c4370d93a3810",paramsKey:"collection",initialNodeProps:{initialScale:1,castShadow:!0,receiveShadow:!0},itemProps:{transformPivot:_i}},{label:"Sky Castle - by Alok",value:"bdf05d92317b4bfba9ffd81fea39a368",paramsKey:"collection",initialNodeProps:{initialScale:1,castShadow:!0,receiveShadow:!0},itemProps:{transformPivot:_i}},{label:"Middle Ages Mine - by Vladislav Laryushin",value:"d106792122154e8ba89b5f28f1889f8b",paramsKey:"collection",initialNodeProps:{initialScale:1,castShadow:!0,receiveShadow:!0},itemProps:{transformPivot:_i}},{label:"Medieval Labyrinth - by NomadKing",value:"965f436a8aff41548cc5fa689ac114b8",paramsKey:"collection",initialNodeProps:{initialScale:1,castShadow:!0,receiveShadow:!0},itemProps:{transformPivot:_i}},{label:"Medieval Town Port - by lakos",value:"6c227e9f36fc4558a23de3f4af9a5c80",paramsKey:"collection",initialNodeProps:{initialScale:1,castShadow:!0,receiveShadow:!0},itemProps:{transformPivot:_i}},{label:"Assassin Hideout - by marti3d",value:"05c5c177f1c7403597c18b6c14886b63",paramsKey:"collection",initialNodeProps:{initialScale:1,castShadow:!0,receiveShadow:!0},itemProps:{transformPivot:Ni}},{label:"Medieval Castle with Village - by Artbake Graphics",value:"39a126f30394489d9de6af7f452d553a",paramsKey:"collection",initialNodeProps:{initialScale:1,castShadow:!0,receiveShadow:!0},itemProps:{transformPivot:_i}},{label:"Medieval Fantasy Book - by Pixel",value:"cf717f81734b4eefba9f17e9e6a1c9e4",paramsKey:"collection",initialNodeProps:{initialScale:1,castShadow:!0,receiveShadow:!0},itemProps:{transformPivot:Ni}},{label:"Blacksmith's Workshop - by Kyan0s",value:"a013c33e56a44b479cc527e2dc992b7f",paramsKey:"collection",initialNodeProps:{initialScale:1,castShadow:!0,receiveShadow:!0},itemProps:{transformPivot:_i}},{label:"Castle, Siege, Army - by BlackSpire",value:"53b764aab88b472ebe4ad80c4148c336",paramsKey:"collection",initialNodeProps:{initialScale:1,castShadow:!0,receiveShadow:!0},itemProps:{transformPivot:_i}},{label:"Treasure Island - by rogueisland",value:"8f14c1d6b54d467784dfccb82aa882eb",paramsKey:"collection",initialNodeProps:{initialScale:1,castShadow:!0,receiveShadow:!0},itemProps:{transformPivot:Ni}},{label:"Medieval Country Village - by David",value:"2c995b31f2774df1b8fac87e65b1752d",paramsKey:"collection",initialNodeProps:{initialScale:1,castShadow:!0,receiveShadow:!0},itemProps:{transformPivot:Ni}},{label:"Mobile Dragon Shop - by Nive",value:"ef4745784f664105a76d009d56004f15",paramsKey:"collection",initialNodeProps:{initialScale:1,castShadow:!0,receiveShadow:!0},itemProps:{transformPivot:Ni}},{label:"The Tavern - by Fran\xe7ois Espagnet",value:"9983f117e3a8471da0076e8dadce2438",paramsKey:"collection",initialNodeProps:{initialScale:1,castShadow:!0,receiveShadow:!0},itemProps:{transformPivot:Ni}},{label:"Dragon Attack Aftermath - by Guillermo T",value:"d5445aa9dc8a457bb225c4d4ce9ce97f",paramsKey:"collection",initialNodeProps:{initialScale:1,castShadow:!0,receiveShadow:!0},itemProps:{transformPivot:_i}},{label:"Building Modules - by Tobal",value:"ca06c20e01a1405f9bc444fe36cdc175",paramsKey:"collection",initialNodeProps:{initialScale:1,castShadow:!0,receiveShadow:!0},itemProps:{transformPivot:_i}},{label:"The Great Sorcerer's Room - by moyicat",value:"316a36ae8dac4ab281baa79f79ef38c2",paramsKey:"collection",initialNodeProps:{initialScale:1,castShadow:!0,receiveShadow:!0},itemProps:{transformPivot:_i}},{label:"Plateau Sanctuary - by BenjiToddArtist",value:"4409d7ed90054082bf9e626cde88a9a9",paramsKey:"collection",initialNodeProps:{initialScale:1,castShadow:!0,receiveShadow:!0},itemProps:{transformPivot:Ni}},{label:"Throne Room - by tuturu",value:"e3ad5aebeaa84806afcc4b0efe4ae39b",paramsKey:"collection",initialNodeProps:{initialScale:1,castShadow:!0,receiveShadow:!0},itemProps:{transformPivot:Ni}},{label:"Dark Age Motte and Bailey - by MattMakesSwords",value:"50758d11ea7146378f96440655682ce0",paramsKey:"collection",initialNodeProps:{initialScale:2.25,castShadow:!0,receiveShadow:!0},itemProps:{transformPivot:Ni}},{label:"Market Square - by Feyfolken",value:"50b5b42e549748418f93354c785a195c",paramsKey:"collection",initialNodeProps:{initialScale:1,castShadow:!0,receiveShadow:!0},itemProps:{transformPivot:_i}},{label:"Cemetary Fantasy Battle - by daniel_slusarz",value:"7eaba35bf3e54475b8ecefa0e7725bb8",paramsKey:"collection",initialNodeProps:{initialScale:.01,castShadow:!0,receiveShadow:!0},itemProps:{transformPivot:_i}},{label:'"The Drunk Troll" Tavern - by mrrobot',value:"b0e926a29dd644e48fd4c40fd416f0b8",paramsKey:"collection",initialNodeProps:{initialScale:.04,castShadow:!0,receiveShadow:!0},itemProps:{transformPivot:_i}},{label:"Siege Equipment - by Carrigan Raketic",value:"cc6b26d45b2a4d45be66ccdc80d5ba86",paramsKey:"collection",initialNodeProps:{initialScale:3,castShadow:!0,receiveShadow:!0},itemProps:{transformPivot:Ni}}]},{disabled:!0,label:"Hubs Clubhouse Contest",value:"hubs-clubhouse-contest",children:[{label:"Mozilla Playground - by Tombolaso",value:"cfdeae6bb4ba480e9ca0c52b6a7965bd",paramsKey:"collection",initialNodeProps:{initialScale:1,castShadow:!0,receiveShadow:!0},itemProps:{transformPivot:Ni}},{label:"Wizard's Library - by mediochrea",value:"9ed3d50e891d4261a6b31d664869d419",paramsKey:"collection",initialNodeProps:{initialScale:.01,castShadow:!0,receiveShadow:!0},itemProps:{transformPivot:Ni}},{label:"Tree House - by grigoriyarx",value:"6e739d5f763043769828569164d6fad0",paramsKey:"collection",initialNodeProps:{initialScale:1,castShadow:!0,receiveShadow:!0},itemProps:{transformPivot:Ni}},{label:"Theatre - by daedaljs",value:"aede4e128b284e9d9672038bdbfd8423",paramsKey:"collection",initialNodeProps:{initialScale:1,castShadow:!0,receiveShadow:!0},itemProps:{transformPivot:Ni}},{label:"Round Table Room - by plasmaernst",value:"486d77de949749a998e1be80b7be5bd6",paramsKey:"collection",initialNodeProps:{initialScale:.01,castShadow:!0,receiveShadow:!0},itemProps:{transformPivot:Ni}},{label:"Space Dome - by rudolfs",value:"ce3cdb49e8144b51a8beb3a5b3aa191c",paramsKey:"collection",initialNodeProps:{initialScale:.01,castShadow:!0,receiveShadow:!0},itemProps:{transformPivot:Ni}},{label:"Summer Festival - by proxy_doug",value:"44fc5a8ed00943fd82002c78027bfe3e",paramsKey:"collection",initialNodeProps:{initialScale:1,castShadow:!0,receiveShadow:!0},itemProps:{transformPivot:_i}},{label:"Space Smugglers Clubhouse - by sawcisson",value:"9edad35200f44fc09c42ddd5fca73c8e",paramsKey:"collection",initialNodeProps:{initialScale:1,castShadow:!0,receiveShadow:!0},itemProps:{transformPivot:Ni}},{label:"Morning Dew Coffee Shop - by CameronMckenzie",value:"4a4511d656374c79a743c4b17efea961",paramsKey:"collection",initialNodeProps:{initialScale:1,castShadow:!0,receiveShadow:!0},itemProps:{transformPivot:Ni}}]}]}],r.searchLegalCopy="Search by Sketchfab",r.privacyPolicyUrl="https://sketchfab.com/privacy",r.transformPivot=Ni,r}return n}(Ek);function Ak(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var _k=function(e){(0,f.Z)(n,e);var t=Ak(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this,e)).id="tenor",r.name="Tenor GIFs",r.searchPlaceholder="Search GIFs...",r.searchLegalCopy="Search by Tenor",r.privacyPolicyUrl="https://tenor.com/legal-privacy",r}return(0,u.Z)(n,[{key:"search",value:function(){var e=(0,c.Z)(s().mark((function e(t,n,r){var o,i,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.searchMedia(this.id,{query:t.query,filter:t.tags&&t.tags.length>0&&t.tags[0].value},n,r);case 2:return o=e.sent,i=o.results,a=o.suggestions,c=o.nextCursor,e.abrupt("return",{results:i.map((function(e){return{id:e.id,videoUrl:e&&e.images&&e.images.preview&&e.images.preview.url,label:e.name,type:_n.Video,url:e.url,nodeClass:Bc,initialProps:{name:e.name,src:e.url}}})),suggestions:a,nextCursor:c,hasMore:!!c});case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),n}(xk);var Ik=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),y.createElement("path",{fill:"currentColor",d:"M496 384H160v-16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v16H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h80v16c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-16h336c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm0-160h-80v-16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v16H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h336v16c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-16h80c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm0-160H288V48c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v16H16C7.2 64 0 71.2 0 80v32c0 8.8 7.2 16 16 16h208v16c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-16h208c8.8 0 16-7.2 16-16V80c0-8.8-7.2-16-16-16z"}))}));Ik.displayName="SlidersH";var Nk=y.createElement;function Lk(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var zk=Yn.M8C.RAD2DEG,Fk=Yn.M8C.DEG2RAD,Uk=function(e){(0,f.Z)(n,e);var t=Lk(n);function n(){var e;return(0,l.Z)(this,n),(e=t.apply(this,arguments)).onChange=function(t,n,r){e.props.onChange(new Yn.USm(t*Fk,n*Fk,r*Fk))},e}return(0,u.Z)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.value,r=(t.onChange,(0,sn.Z)(t,["value","onChange"])),i=n?(n.x||0)*zk:0,a=n?(n.y||0)*zk:0,s=n?(n.z||0)*zk:0;return Nk(GC,null,Nk(qC,(0,o.Z)({},r,{tag:"div",value:i,onChange:function(t){return e.onChange(t,a,s)}}),"X:"),Nk(hg,(0,o.Z)({},r,{value:i,onChange:function(t){return e.onChange(t,a,s)}})),Nk(qC,(0,o.Z)({},r,{tag:"div",value:a,onChange:function(t){return e.onChange(i,t,s)}}),"Y:"),Nk(hg,(0,o.Z)({},r,{value:a,onChange:function(t){return e.onChange(i,t,s)}})),Nk(qC,(0,o.Z)({},r,{tag:"div",value:s,onChange:function(t){return e.onChange(i,a,t)}}),"Z:"),Nk(hg,(0,o.Z)({},r,{value:s,onChange:function(t){return e.onChange(i,a,t)}})))}}]),n}(y.Component),Vk=y.createElement;function Bk(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Hk=function(e){(0,f.Z)(n,e);var t=Bk(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this,e)).onObjectsChanged=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===r.props.node&&("position"===t||"rotation"===t||"scale"===t||"matrix"===t||null==t))return void r.forceUpdate()},r.onChangePosition=function(e){r.translation.subVectors(e,r.props.node.position),r.props.editor.translateSelected(r.translation)},r.onChangeRotation=function(e){r.props.editor.setRotationSelected(e)},r.onChangeScale=function(e){r.props.editor.setScaleSelected(e)},r.translation=new Yn.Pa4,r}return(0,u.Z)(n,[{key:"componentDidMount",value:function(){this.props.editor.addListener("objectsChanged",this.onObjectsChanged)}},{key:"shouldComponentUpdate",value:function(e){return e.node!==this.props.node}},{key:"componentWillUnmount",value:function(){this.props.editor.removeListener("objectsChanged",this.onObjectsChanged)}},{key:"render",value:function(){var e=this.props.node;return Vk(mf,{name:"Transform"},Vk(Rm,{name:"Position"},Vk(XC,{value:e.position,smallStep:.01,mediumStep:.1,largeStep:1,onChange:this.onChangePosition})),Vk(Rm,{name:"Rotation"},Vk(Uk,{value:e.rotation,onChange:this.onChangeRotation,unit:"\xb0"})),Vk(Rm,{name:"Scale"},Vk(XC,{uniformScaling:!0,smallStep:.01,mediumStep:.1,largeStep:1,value:e.scale,onChange:this.onChangeScale})))}}]),n}(y.Component),Wk=y.createElement;function Gk(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}function qk(){var e=(0,p.Z)(["\n  label {\n    width: auto !important;\n    padding-right: 8px;\n  }\n"]);return qk=function(){return e},e}var Kk=(0,Vt.ZP)(Rm)(qk()),Yk=function(e){(0,f.Z)(n,e);var t=Gk(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this,e)).onUpdateName=function(e){r.setState({name:e})},r.onFocus=function(){r.setState({focusedNode:r.props.node,name:r.props.node.name})},r.onBlurName=function(){r.props.node.name!==r.state.name&&r.props.node===r.state.focusedNode&&r.props.editor.setPropertySelected("name",r.state.name),r.setState({focusedNode:null})},r.onKeyUpName=function(e){"Enter"===e.key&&(e.preventDefault(),r.props.editor.setPropertySelected("name",r.state.name))},r.state={name:r.props.node.name,focusedNode:null},r}return(0,u.Z)(n,[{key:"render",value:function(){var e=this.state.focusedNode?this.state.name:this.props.node.name;return Wk(Kk,{name:"Name"},Wk(On.Z,{value:e,onChange:this.onUpdateName,onFocus:this.onFocus,onBlur:this.onBlurName,onKeyUp:this.onKeyUpName}))}}]),n}(y.Component),Xk=y.createElement;function $k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}function Jk(){var e=(0,p.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n"]);return Jk=function(){return e},e}function Qk(){var e=(0,p.Z)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  overflow-y: auto;\n"]);return Qk=function(){return e},e}function eO(){var e=(0,p.Z)(["\n  display: flex;\n  flex: 0;\n\n  & > label {\n    width: auto !important;\n    padding-right: 8px;\n  }\n"]);return eO=function(){return e},e}function tO(){var e=(0,p.Z)(["\n  display: flex;\n  flex-flow: row wrap;\n  align-items: flex-start;\n  padding: 8px 0;\n"]);return tO=function(){return e},e}function nO(){var e=(0,p.Z)(["\n  background-color: ",";\n  border: none !important;\n  padding-bottom: 0 !important;\n"]);return nO=function(){return e},e}function rO(){var e=(0,p.Z)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n"]);return rO=function(){return e},e}var oO=Vt.ZP.div(rO()),iO=Vt.ZP.div(nO(),(function(e){return e.theme.panel2})),aO=Vt.ZP.div(tO()),sO=(0,Vt.ZP)(Rm)(eO()),cO=Vt.ZP.div(Qk()),lO=Vt.ZP.div(Jk()),uO=function(e){return function(t){return Xt($t.Consumer,null,(function(n){return Xt(e,(0,o.Z)({},t,{editor:n}))}))}}(function(e){(0,f.Z)(n,e);var t=$k(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this,e)).onSelectionChanged=function(){r.setState({selected:r.props.editor.selected})},r.onObjectsChanged=function(e,t){var n=r.props.editor.selected;if("position"!==t&&"rotation"!==t&&"scale"!==t&&"matrix"!==t)for(var o=0;o<e.length;o++)if(-1!==n.indexOf(e[o]))return void r.setState({selected:r.props.editor.selected})},r.onChangeVisible=function(e){r.props.editor.setPropertySelected("visible",e)},r.state={selected:e.editor.selected},r}return(0,u.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props.editor;e.addListener("selectionChanged",this.onSelectionChanged),e.addListener("objectsChanged",this.onObjectsChanged)}},{key:"componentWillUnmount",value:function(){var e=this.props.editor;e.removeListener("selectionChanged",this.onSelectionChanged),e.removeListener("objectsChanged",this.onObjectsChanged)}},{key:"render",value:function(){var e,t=this.props.editor,n=this.state.selected;if(0===n.length)e=Xk(lO,null,"No node selected");else{for(var r,o=n[n.length-1],i=t.getNodeEditor(o)||Sf,a=n.length>1,s=!0,c=0;c<n.length-1;c++)if(t.getNodeEditor(n[c])!==i){s=!1;break}r=s?Xk(i,{multiEdit:a,node:o,editor:t}):Xk(lO,null,"Multiple Nodes of different types selected");var l=n.some((function(e){return e.disableTransform}));e=Xk(oO,null,Xk(iO,null,Xk(aO,null,Xk(Yk,{node:o,editor:t}),"Scene"!==o.nodeName&&Xk(sO,{name:"Visible"},Xk(mn.Z,{value:o.visible,onChange:this.onChangeVisible}))),!l&&Xk(Hk,{node:o,editor:t})),r)}return Xk(If,{id:"properties-panel",title:"Properties",icon:Ik},Xk(cO,null,e))}}]),n}(y.Component)),fO=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),y.createElement("path",{d:"M15 3H4.984c-1.103 0-2 .897-2 2v14.016c0 1.103.897 2 2 2H19c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2h-4zm4 5h-3V5h3v3zM4.984 10h3v4.016h-3V10zm5 0H14v4.016H9.984V10zM16 10h3v4.016h-3V10zm-2-5v3H9.984V5H14zM7.984 5v3h-3V5h3zm-3 11.016h3v3h-3v-3zm5 3v-3H14v3H9.984zm6.016 0v-3h3.001v3H16z"}))}));fO.displayName="Grid";var dO=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 448 512"},e,{ref:t}),y.createElement("path",{fill:"currentColor",d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"}))}));dO.displayName="Pause";var hO=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),y.createElement("path",{fill:"currentColor",d:"M352.201 425.775l-79.196 79.196c-9.373 9.373-24.568 9.373-33.941 0l-79.196-79.196c-15.119-15.119-4.411-40.971 16.971-40.97h51.162L228 284H127.196v51.162c0 21.382-25.851 32.09-40.971 16.971L7.029 272.937c-9.373-9.373-9.373-24.569 0-33.941L86.225 159.8c15.119-15.119 40.971-4.411 40.971 16.971V228H228V127.196h-51.23c-21.382 0-32.09-25.851-16.971-40.971l79.196-79.196c9.373-9.373 24.568-9.373 33.941 0l79.196 79.196c15.119 15.119 4.411 40.971-16.971 40.971h-51.162V228h100.804v-51.162c0-21.382 25.851-32.09 40.97-16.971l79.196 79.196c9.373 9.373 9.373 24.569 0 33.941L425.773 352.2c-15.119 15.119-40.971 4.411-40.97-16.971V284H284v100.804h51.23c21.382 0 32.09 25.851 16.971 40.971z"}))}));hO.displayName="ArrowsAlt";var pO=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 256 512"},e,{ref:t}),y.createElement("path",{fill:"currentColor",d:"M214.059 377.941H168V134.059h46.059c21.382 0 32.09-25.851 16.971-40.971L144.971 7.029c-9.373-9.373-24.568-9.373-33.941 0L24.971 93.088c-15.119 15.119-4.411 40.971 16.971 40.971H88v243.882H41.941c-21.382 0-32.09 25.851-16.971 40.971l86.059 86.059c9.373 9.373 24.568 9.373 33.941 0l86.059-86.059c15.12-15.119 4.412-40.971-16.97-40.971z"}))}));pO.displayName="ArrowsAltV";var vO=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 448 512"},e,{ref:t}),y.createElement("path",{fill:"currentColor",d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}))}));vO.displayName="Bars";var mO=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),y.createElement("path",{fill:"currentColor",d:"M164.07 148.1H12a12 12 0 01-12-12v-80a36 36 0 0136-36h104a36 36 0 0136 36v80a11.89 11.89 0 01-11.93 12zm347.93-12V56a36 36 0 00-36-36H372a36 36 0 00-36 36v80a12 12 0 0012 12h152a11.89 11.89 0 0012-11.9zm-164 44a12 12 0 00-12 12v52c0 128.1-160 127.9-160 0v-52a12 12 0 00-12-12H12.1a12 12 0 00-12 12.1c.1 21.4.6 40.3 0 53.3 0 150.6 136.17 246.6 256.75 246.6s255-96 255-246.7c-.6-12.8-.2-33 0-53.2a12 12 0 00-12-12.1z"}))}));mO.displayName="Magnet";var gO=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 448 512"},e,{ref:t}),y.createElement("path",{fill:"currentColor",d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"}))}));gO.displayName="Play";var yO=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),y.createElement("path",{fill:"currentColor",d:"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"}))}));yO.displayName="SyncAlt";var bO=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),y.createElement("path",{d:"M15 19V5l-8 7z"}))}));bO.displayName="CaretLeft";var wO=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),y.createElement("path",{d:"M9 19l8-7-8-7z"}))}));wO.displayName="CaretRight";var xO=y.createElement;function SO(){var e=(0,p.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: ",";\n\n  border: 1px solid ",";\n  color: ",";\n\n  width: 20px;\n  padding: 0;\n\n  ","\n\n  :hover {\n    background-color: ",";\n  }\n\n  :active {\n    background-color: ",";\n  }\n"]);return SO=function(){return e},e}function CO(){var e=(0,p.Z)(["\n  display: flex;\n  flex: 1;\n  width: 100%;\n  height: 24px;\n\n  input {\n    border-left-width: 0;\n    border-right-width: 0;\n    border-radius: 0;\n  }\n"]);return CO=function(){return e},e}var kO=Vt.ZP.div(CO()),OO=Vt.ZP.button(SO(),(function(e){return e.value?e.theme.blue:e.theme.toolbar}),(function(e){return e.theme.border}),(function(e){return e.theme.text}),(function(e){return e.left?"border-top-left-radius: 4px; border-bottom-left-radius: 4px;":"border-top-right-radius: 4px; border-bottom-right-radius: 4px;"}),(function(e){return e.theme.blueHover}),(function(e){return e.theme.blue}));var PO=n(31542),MO=y.createElement;function RO(){var e=(0,p.Z)(["\n  width: 14px;\n  height: 14px;\n  font-size: 14px;\n"]);return RO=function(){return e},e}function EO(){var e=(0,p.Z)(["\n  width: 40px;\n  height: 40px;\n  border: none;\n  color: ",";\n  cursor: pointer;\n  position: relative;\n\n  background-color: ",";\n\n  &:hover {\n    background-color: ",";\n  }\n"]);return EO=function(){return e},e}var ZO=Vt.ZP.button(EO(),(function(e){return e.theme.white}),(function(e){return e.isSelected?e.theme.blue:e.theme.toolbar}),(function(e){return e.isSelected?e.theme.blueHover:e.theme.panel2})),jO=Vt.ZP.div(RO());function DO(e){var t=e.id,n=e.icon,r=e.onClick,o=e.isSelected,i=e.tooltip;return MO(bh,{id:t,info:i,position:"bottom"},MO(ZO,{isSelected:o,onClick:r},MO(jO,{as:n})))}var TO=n(78528),AO=y.createElement;function _O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}function IO(){var e=(0,p.Z)(["\n  width: 100px;\n\n  input {\n    border-width: 0;\n  }\n\n  button {\n    border-width: 0px 1px 0px 1px;\n\n    &:first-child {\n      border-radius: 0;\n    }\n\n    &:last-child {\n      border-right-width: 0;\n    }\n  }\n"]);return IO=function(){return e},e}function NO(){var e=(0,p.Z)(["\n  display: flex;\n  align-items: center;\n  border: 1px solid ",";\n  border-radius: 4px;\n  margin: 0 4px;\n"]);return NO=function(){return e},e}function LO(){var e=(0,p.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 24px;\n  height: 24px;\n  background-color: ",";\n  border-top-left-radius: 4px;\n  border-bottom-left-radius: 4px;\n\n  :hover {\n    background-color: ",";\n  }\n\n  :active {\n    background-color: ",";\n  }\n"]);return LO=function(){return e},e}function zO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function FO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zO(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function UO(){var e=(0,p.Z)(["\n  align-self: center;\n  margin: 1em;\n  padding: 0 2em;\n"]);return UO=function(){return e},e}function VO(){var e=(0,p.Z)(["\n  flex: 1;\n"]);return VO=function(){return e},e}function BO(){var e=(0,p.Z)(["\n  width: auto;\n  height: inherit;\n  display: flex;\n  flex-direction: row;\n  background-color: ",";\n  align-items: center;\n  padding: 0 16px;\n"]);return BO=function(){return e},e}function HO(){var e=(0,p.Z)(["\n  width: auto;\n  height: inherit;\n  display: flex;\n  flex-direction: row;\n"]);return HO=function(){return e},e}function WO(){var e=(0,p.Z)(["\n  display: flex;\n  flex-direction: row;\n  height: 40px;\n  background-color: ",";\n  user-select: none;\n"]);return WO=function(){return e},e}var GO=Vt.ZP.div(WO(),(function(e){return e.theme.toolbar})),qO=Vt.ZP.div(HO()),KO=Vt.ZP.div(BO(),(function(e){return e.theme.toolbar2})),YO=Vt.ZP.div(VO()),XO=((0,Vt.ZP)(em.zx)(UO()),{container:function(e){return FO(FO({},e),{},{width:"80px"})},control:function(e){return FO(FO({},e),{},{backgroundColor:PO.Z.inputBackground,minHeight:"24px",borderRadius:"0px",borderWidth:"0px",cursor:"pointer",outline:"none",boxShadow:"none"})}}),$O={container:function(e){return FO(FO({},e),{},{width:"80px"})},control:function(e){return FO(FO({},e),{},{backgroundColor:PO.Z.inputBackground,minHeight:"24px",borderTopLeftRadius:"0px",borderBottomLeftRadius:"0px",borderWidth:"0px 0px 0px 1px",borderColor:PO.Z.border,cursor:"pointer",outline:"none",boxShadow:"none",":hover":{borderColor:PO.Z.border}})}},JO={container:function(e){return FO(FO({},e),{},{width:"100px"})},control:function(e){return FO(FO({},e),{},{backgroundColor:PO.Z.inputBackground,minHeight:"24px",borderTopLeftRadius:"0px",borderBottomLeftRadius:"0px",borderWidth:"0px",cursor:"pointer",outline:"none",boxShadow:"none"})}},QO=Vt.ZP.div(LO(),(function(e){return e.value?e.theme.blue:e.theme.toolbar}),(function(e){return e.theme.blueHover}),(function(e){return e.theme.blue}));function eP(e){var t=e.tooltip,n=e.children,r=(0,sn.Z)(e,["tooltip","children"]);return AO(bh,{info:t},AO(QO,r,n))}var tP=Vt.ZP.div(NO(),(function(e){return e.theme.border})),nP=(0,Vt.ZP)((function(e){var t=e.style,n=e.className,r=e.decrementTooltip,i=e.incrementTooltip,a=(0,sn.Z)(e,["style","className","decrementTooltip","incrementTooltip"]),s=(0,y.useRef)(),c=(0,y.useCallback)((function(){s.current.decrement()}),[s]),l=(0,y.useCallback)((function(){s.current.increment()}),[s]);return xO(kO,{style:t,className:n},xO(bh,{info:r,position:"bottom"},xO(OO,{left:!0,onClick:c},xO(bO,{size:16}))),xO(hg,(0,o.Z)({ref:s},a)),xO(bh,{info:i,position:"bottom"},xO(OO,{right:!0,onClick:l},xO(wO,{size:16}))))}))(IO()),rP=[{label:"0.1m",value:.1},{label:"0.125m",value:.125},{label:"0.25m",value:.25},{label:"0.5m",value:.5},{label:"1m",value:1},{label:"2m",value:2},{label:"4m",value:4}],oP=[{label:"1\xb0",value:1},{label:"5\xb0",value:5},{label:"10\xb0",value:10},{label:"15\xb0",value:15},{label:"30\xb0",value:30},{label:"45\xb0",value:45},{label:"90\xb0",value:90}],iP=[{label:"Selection",value:_i},{label:"Center",value:Ii},{label:"Bottom",value:Ni}],aP=[{label:"Selection",value:xo},{label:"World",value:bo}],sP={id:null,name:"",maxUsersPerInstance:10,sceneId:null,locationSettingsId:null,location_setting:{instanceMediaChatEnabled:!1,videoEnabled:!1,locationType:"private"}},cP=function(e){(0,f.Z)(n,e);var t=_O(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this,e)).openModalCreate=function(){r.setState({locationModalOpen:!0})},r.handleLocationClose=function(e){r.setState({locationModalOpen:!1})},r.onEditorInitialized=function(){var e=r.props.editor;e.editorControls.addListener("transformModeChanged",r.onForceUpdate),e.editorControls.addListener("transformSpaceChanged",r.onForceUpdate),e.editorControls.addListener("transformPivotChanged",r.onForceUpdate),e.editorControls.addListener("snapSettingsChanged",r.onForceUpdate),e.addListener("gridHeightChanged",r.onForceUpdate),e.addListener("gridVisibilityChanged",r.onForceUpdate),r.setState({editorInitialized:!0})},r.onForceUpdate=function(){r.forceUpdate()},r.onMenuSelected=function(e){if(!r.state.menuOpen){var t=e.currentTarget.offsetHeight;(0,Cf.AE)({position:{x:0,y:t},target:e.currentTarget,id:"menu"}),r.setState({menuOpen:!0}),window.addEventListener("mousedown",r.onWindowClick)}},r.onWindowClick=function(){window.removeEventListener("mousedown",r.onWindowClick),r.setState({menuOpen:!1})},r.renderMenu=function(e){return e.items&&0!==e.items.length?AO(Cf.Wd,{key:e.name,title:e.name,hoverDelay:0},e.items.map((function(e){return r.renderMenu(e)}))):AO(Cf.sN,{key:e.name,onClick:e.action},e.name,e.hotkey&&AO("div",null,e.hotkey))},r.onSelectTranslate=function(){r.props.editor.editorControls.setTransformMode(Li.Translate)},r.onSelectRotate=function(){r.props.editor.editorControls.setTransformMode(Li.Rotate)},r.onSelectScale=function(){r.props.editor.editorControls.setTransformMode(Li.Scale)},r.onToggleTransformSpace=function(){r.props.editor.editorControls.toggleTransformSpace()},r.onChangeTransformPivot=function(e){r.props.editor.editorControls.setTransformPivot(e)},r.onToggleTransformPivot=function(){r.props.editor.editorControls.changeTransformPivot()},r.onToggleSnapMode=function(){r.props.editor.editorControls.toggleSnapMode()},r.onChangeTranslationSnap=function(e){r.props.editor.editorControls.setTranslationSnap(parseFloat(e)),r.props.editor.editorControls.setSnapMode(Ai)},r.onChangeScaleSnap=function(e){r.props.editor.editorControls.setScaleSnap(e)},r.onChangeRotationSnap=function(e){r.props.editor.editorControls.setRotationSnap(parseFloat(e)),r.props.editor.editorControls.setSnapMode(Ai)},r.onChangeGridHeight=function(e){r.props.editor.setGridHeight(e)},r.onToggleGridVisible=function(){r.props.editor.toggleGridVisible()},r.onTogglePlayMode=function(){r.props.editor.playing?r.props.editor.leavePlayMode():r.props.editor.enterPlayMode()},r.state={editorInitialized:!1,menuOpen:!1,locationModalOpen:!1,selectedLocation:sP,locationEditing:!1},r}return(0,u.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props.editor;e.addListener("initialized",this.onEditorInitialized),e.addListener("playModeChanged",this.onForceUpdate),e.addListener("settingsChanged",this.onForceUpdate)}},{key:"componentWillUnmount",value:function(){var e=this.props.editor;e.removeListener("initialized",this.onEditorInitialized),e.editorControls&&(e.editorControls.removeListener("transformModeChanged",this.onForceUpdate),e.editorControls.removeListener("transformSpaceChanged",this.onForceUpdate),e.editorControls.removeListener("transformPivotChanged",this.onForceUpdate),e.editorControls.removeListener("snapSettingsChanged",this.onForceUpdate),e.removeListener("gridHeightChanged",this.onForceUpdate),e.removeListener("gridVisibilityChanged",this.onForceUpdate),e.removeListener("playModeChanged",this.onForceUpdate),e.removeListener("settingsChanged",this.onForceUpdate))}},{key:"render",value:function(){var e=this,t=this.state,n=t.editorInitialized,r=t.menuOpen;if(!n)return AO(GO,null);var o=this.props.editor.editorControls,i=o.transformMode,a=o.transformSpace,s=o.transformPivot,c=o.snapMode,l=o.translationSnap,u=o.rotationSnap,f=this.props.queryParams,d=AO(em.zx,{type:"submit",color:"primary",onClick:this.openModalCreate,className:"mr-4 mt-2 mb-2 pl-5 pr-5"},"Publish");return AO(GO,null,AO(qO,null,AO(DO,{icon:vO,onClick:this.onMenuSelected,isSelected:r,id:"menu"}),AO(DO,{id:"translate-button",tooltip:"[T] Translate",icon:hO,onClick:this.onSelectTranslate,isSelected:i===Li.Translate}),AO(DO,{id:"rotate-button",tooltip:"[R] Rotate",icon:yO,onClick:this.onSelectRotate,isSelected:i===Li.Rotate}),AO(DO,{id:"scale-button",tooltip:"[Y] Scale",icon:pO,onClick:this.onSelectScale,isSelected:i===Li.Scale})),AO(KO,null,AO(tP,{id:"transform-space"},AO(bh,{info:"[Z] Toggle Transform Space",position:"bottom"},AO(eP,{onClick:this.onToggleTransformSpace},AO(cS,{size:12}))),AO(xw,{styles:JO,onChange:this.onChangeTransformSpace,options:aP,value:a})),AO(tP,{id:"transform-pivot"},AO(eP,{onClick:this.onToggleTransformPivot,tooltip:"[X] Toggle Transform Pivot"},AO(TS,{size:12})),AO(xw,{styles:JO,onChange:this.onChangeTransformPivot,options:iP,value:s})),AO(tP,{id:"transform-snap"},AO(eP,{value:c===Ai,onClick:this.onToggleSnapMode,tooltip:"[C] Toggle Snap Mode"},AO(mO,{size:12})),AO(xw,{styles:XO,onChange:this.onChangeTranslationSnap,options:rP,value:l,placeholder:l+"m",formatCreateLabel:function(e){return"Custom: "+e+"m"},isValidNewOption:function(e){return""!==e.trim()&&!isNaN(e)},creatable:!0}),AO(xw,{styles:$O,onChange:this.onChangeRotationSnap,options:oP,value:u,placeholder:u+"\xb0",formatCreateLabel:function(e){return"Custom: "+e+"\xb0"},isValidNewOption:function(e){return""!==e.trim()&&!isNaN(e)},creatable:!0})),AO(tP,{id:"transform-grid"},AO(eP,{onClick:this.onToggleGridVisible,tooltip:"Toggle Grid Visibility"},AO(fO,{size:16})),AO(nP,{value:this.props.editor.grid.position.y,onChange:this.onChangeGridHeight,precision:.01,smallStep:.25,mediumStep:1.5,largeStep:4.5,unit:"m",incrementTooltip:"[-] Increment Grid Height",decrementTooltip:"[=] Decrement Grid Height"})),AO(tP,{id:"preview"},AO(eP,{onClick:this.onTogglePlayMode,tooltip:this.props.editor.playing?"Stop Previewing Scene":"Preview Scene"},this.props.editor.playing?AO(dO,{size:14}):AO(gO,{size:14})))),AO(YO,null),f?AO(em.zx,{color:"primary",disabled:!0,className:"mr-4 mt-2 mb-2 pl-5 pr-5"},"Published"):d,AO(TO.Z,{editing:this.state.locationEditing,open:this.state.locationModalOpen,handleClose:this.handleLocationClose,location:this.state.selectedLocation}),AO(Cf.xV,{id:"menu"},this.props.menu.map((function(t){return e.renderMenu(t)}))))}}]),n}(y.Component),lP=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),y.createElement("path",{fill:"currentColor",d:"M464 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-16 160H64v-84c0-6.6 5.4-12 12-12h360c6.6 0 12 5.4 12 12v84z"}))}));lP.displayName="WindowMaximize";var uP=y.forwardRef((function(e,t){return y.createElement(Nd.r,Id()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),y.createElement("path",{fill:"currentColor",d:"M500 384c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v308h436zM372.7 159.5L288 216l-85.3-113.7c-5.1-6.8-15.5-6.3-19.9 1L96 248v104h384l-89.9-187.8c-3.2-6.5-11.4-8.7-17.4-4.7z"}))}));uP.displayName="ChartArea";var fP=n(83699),dP=n.n(fP),hP=y.createElement;function pP(e){var t=e.editor,n=(0,y.useState)(0),r=n[0],o=n[1];return(0,y.useEffect)((function(){return t.renderer.onUpdateStats=function(e){e.render.frame%3===0&&o({geometries:e.memory.geometries,textures:e.memory.textures,fps:e.render.fps,frameTime:e.render.frameTime,calls:e.render.calls,triangles:e.render.triangles,points:e.render.points,lines:e.render.lines})},function(){t.renderer.onUpdateStats=void 0}}),[t]),hP("div",{className:dP().statsContainer},hP("h3",null,"Stats:"),r&&hP("ul",null,hP("li",null,"Memory:",hP("ul",null,hP("li",null,"Geometries: ",r.geometries),hP("li",null,"Textures: ",r.textures))),hP("li",null,"Render:",hP("ul",null,hP("li",null,"FPS: ",Math.round(r.fps)),hP("li",null,"Frame Time: ",Math.round(r.frameTime),"ms"),hP("li",null,"Calls: ",r.calls),hP("li",null,"Triangles: ",r.triangles),hP("li",null,"Points: ",r.points),hP("li",null,"Lines: ",r.lines)))))}var vP=y.createElement;function mP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mP(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yP(){var e=(0,p.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0 8px;\n  border-left: 1px solid rgba(255, 255, 255, 0.2);\n  background-color: ",";\n  cursor: pointer;\n\n  :hover {\n    background-color: ",";\n  }\n\n  :active {\n    background-color: ",";\n  }\n"]);return yP=function(){return e},e}function bP(){var e=(0,p.Z)(["\n  display: flex;\n  justify-content: flex-end;\n  flex: 1;\n"]);return bP=function(){return e},e}function wP(){var e=(0,p.Z)(["\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  pointer-events: none;\n  color: white;\n  padding: 8px;\n  text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.5);\n"]);return wP=function(){return e},e}function xP(){var e=(0,p.Z)(['\n  display: flex;\n  flex: 1;\n  position: relative;\n\n  ::after {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    content: "";\n    pointer-events: none;\n    border: 1px solid ',";\n  }\n"]);return xP=function(){return e},e}function SP(){var e=(0,p.Z)(["\n  width: 100%;\n  height: 100%;\n  position: relative;\n"]);return SP=function(){return e},e}var CP=Vt.ZP.canvas(SP()),kP=Vt.ZP.div(xP(),(function(e){return function(e,t){return e.canDrop?e.theme.blue:e.error?e.theme.error:t}(e,"transparent")})),OP=Vt.ZP.div(wP()),PP=Vt.ZP.div(bP()),MP=Vt.ZP.div(yP(),(function(e){return e.value?e.theme.blue:"transparent"}),(function(e){return e.value?e.theme.blueHover:e.theme.hover}),(function(e){return e.value?e.theme.bluePressed:e.theme.hover2})),RP=[.8,.2];function EP(e){var t=e.icon,n=e.value,r=e.onClick,i=e.tooltip,a=(0,sn.Z)(e,["icon","value","onClick","tooltip"]),s=(0,y.useCallback)((function(){r(!n)}),[n,r]);return vP(bh,{info:i},vP(MP,(0,o.Z)({onClick:s,value:n},a),vP(t,{size:14})))}var ZP={container:function(e){return gP(gP({},e),{},{width:"120px"})},control:function(e,t){var n=t.isFocused,r=t.theme;return gP(gP({},e),{},{backgroundColor:"transparent",minHeight:"20px",borderRadius:"0px",borderWidth:"0px 1px",borderStyle:"solid",borderColor:n?r.colors.primary:"rgba(255, 255, 255, 0.2)",cursor:"pointer",outline:"none",boxShadow:"none"})}};function jP(e){var t=e.onToggleStats,n=e.showStats,r=(0,y.useContext)($t),o=r.renderer,i=(0,y.useState)(o&&o.renderMode),a=i[0],s=i[1],c=o?o.renderModes.map((function(e){return{label:e.name,value:e}})):[];(0,y.useEffect)((function(){r.addListener("initialized",(function(){s(r.renderer.renderMode)}))}),[r]);var l=(0,y.useCallback)((function(e){r.renderer.setRenderMode(e),s(e)}),[r,s]);return vP(PP,null,vP(EP,{onClick:t,value:n,tooltip:"Toggle Stats",icon:uP}),vP(xw,{value:a,options:c,onChange:l,styles:ZP}))}function DP(){var e=(0,y.useContext)($t),t=y.createRef(),n=(0,y.useState)(!1),r=n[0],o=n[1],i=(0,y.useState)(!1),a=i[0],s=i[1],c=(0,y.useState)(null),l=c[0],u=c[1],f=(0,y.useState)(!1),d=f[0],h=f[1],p=(0,y.useCallback)((function(){s(e.selected.length>0)}),[e]),v=(0,y.useCallback)((function(){o(e.flyControls.enabled)}),[e,o]),m=(0,y.useCallback)((function(e){u(e)}),[]),g=(0,y.useCallback)((function(){e.onResize()}),[e]),b=(0,y.useCallback)((function(){e.addListener("selectionChanged",p),e.editorControls.addListener("flyModeChanged",v),e.editorControls.addListener("transformModeChanged",m)}),[e,p,v,m]);(0,y.useEffect)((function(){return e.addListener("initialized",b),e.initializeRenderer(t.current),function(){e.removeListener("selectionChanged",p),e.editorControls&&e.editorControls.removeListener("flyModeChanged",v),e.renderer&&e.renderer.dispose()}}),[]);var w,x=ld({accept:[_n.Node].concat((0,xa.Z)(In)),drop:function(t,n){var r=n.getClientOffset();t.type!==_n.Node?function(e,t,n){if(Nn(t)){var r=t.value,o=r.nodeClass,i=r.initialProps,a=new o(e);return i&&Object.assign(a,i),e.getCursorSpawnPosition(n,a.position),e.addObject(a),!0}}(e,t,r):t.multiple?e.reparentToSceneAtCursorPosition(t.value,r):e.reparentToSceneAtCursorPosition([t.value],r)},collect:function(e){return{canDrop:e.canDrop(),isOver:e.isOver()}}}),S=(0,Wn.Z)(x,2),C=S[0],k=C.canDrop,O=C.isOver,P=S[1],M=(0,y.useCallback)((function(t){Promise.all(t.map((function(t){var n=t.url;e.addMedia(n)}))).catch((function(t){e.emit("error",t)}))}),[e]);return w=r?"[W][A][S][D] Move Camera | [Shift] Fly faster":"[LMB] Orbit / Select | [MMB] Pan | [RMB] Fly",a&&(w+=" | [F] Focus | [Q] Rotate Left | [E] Rotate Right"),l===Li.Placement?w+=" | [ESC / G] Cancel Placement":l===Li.Grab?w+=" | [Shift + Click] Place Duplicate | [ESC / G] Cancel Grab":a&&(w+="| [G] Grab | [ESC] Deselect All"),vP(If,{id:"viewport-panel",title:"Viewport",icon:lP,toolbarContent:vP(jP,{onToggleStats:h,showStats:d})},vP(Ep,{axis:"y",onChange:g,min:.01,initialSizes:RP},vP(kP,{error:O&&!k,canDrop:O&&k,ref:P},vP(CP,{ref:t,tabIndex:"-1"}),vP(OP,null,w),d&&vP(pP,{editor:e}),vP(Fp,{afterUpload:M})),vP(tv,null)))}var TP=n(50191),AP=n(14571),_P=n(97410),IP=y.createElement;function NP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function LP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NP(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zP(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}function FP(){var e=(0,p.Z)(["\n  display: flex;\n  flex: 1;\n  overflow: hidden;\n  margin: 6px;\n"]);return FP=function(){return e},e}function UP(){var e=(0,p.Z)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  height: 100%;\n  width: 100%;\n  position: fixed;\n"]);return UP=function(){return e},e}var VP=Vt.ZP.div(UP()),BP=Vt.ZP.div(FP()),HP=function(e){(0,f.Z)(n,e);var t=zP(n);function n(e){var r;(0,l.Z)(this,n),(r=t.call(this,e)).generateToolbarMenu=function(){return[{name:"New Project",action:r.onNewProject},{name:"Save Project",hotkey:"".concat(v.S," + S"),action:r.onSaveProject},{name:"Save As",action:r.onDuplicateProject},{name:"Export as binary glTF (.glb) ...",action:r.onExportProject},{name:"Import editor project",action:r.onImportLegacyProject},{name:"Export editor project",action:r.onExportLegacyProject},{name:"Quit",action:r.onOpenProject}]},r.onEditorInitialized=function(){var e=r.state.editor,t=r.state.editor.renderer.renderer.getContext(),n=t.getExtension("WEBGL_debug_renderer_info");n&&(t.getParameter(n.UNMASKED_VENDOR_WEBGL),t.getParameter(n.UNMASKED_RENDERER_WEBGL)),window.addEventListener("resize",r.onResize),r.onResize(),e.addListener("projectLoaded",r.onProjectLoaded),e.addListener("error",r.onEditorError),e.addListener("sceneModified",r.onSceneModified),e.addListener("saveProject",r.onSaveProject)},r.onResize=function(){r.state.editor.onResize()},r.showDialog=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r.setState({DialogComponent:e,dialogProps:t})},r.hideDialog=function(){r.setState({DialogComponent:null,dialogProps:{}})},r.dialogContext={showDialog:r.showDialog,hideDialog:r.hideDialog},r.onEditorError=function(e){e.aborted?r.hideDialog():(console.error(e),r.showDialog(vn,{title:e.title||"Error",message:e.message||"There was an unknown error.",error:e}))},r.onSceneModified=function(){r.updateModifiedState()},r.onProjectLoaded=function(){r.updateModifiedState()},r.onNewProject=(0,c.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.props.router.push("/editor/projects/new");case 1:case"end":return e.stop()}}),e)}))),r.onOpenProject=function(){r.props.router.push("/editor/projects")},r.onDuplicateProject=(0,c.Z)(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new AbortController,r.showDialog(kn.i,{title:"Duplicating Project",message:"Duplicating project...",cancelable:!0,onCancel:function(){t.abort(),r.hideDialog()}}),e.next=4,new Promise((function(e){return setTimeout(e,5)}));case 4:return e.prev=4,n=r.state.editor,e.next=8,r.createProject();case 8:n.sceneModified=!1,r.updateModifiedState(),r.hideDialog(),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),console.error(e.t0),r.showDialog(vn,{title:"Error Saving Project",message:e.t0.message||"There was an error when saving the project."});case 17:case"end":return e.stop()}}),e,null,[[4,13]])}))),r.onExportProject=(0,c.Z)(s().mark((function e(){var t,n,o,i,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){r.showDialog(Cn,{defaultOptions:Object.assign({},af.DefaultExportOptions),onConfirm:e,onCancel:e})}));case 2:if(t=e.sent){e.next=6;break}return r.hideDialog(),e.abrupt("return");case 6:return n=new AbortController,r.showDialog(kn.i,{title:"Exporting Project",message:"Exporting project...",cancelable:!0,onCancel:function(){return n.abort()}}),e.prev=8,o=r.state.editor,e.next=12,o.exportScene(n.signal,t);case 12:i=e.sent,a=i.glbBlob,r.hideDialog(),(c=document.createElement("a")).download=o.scene.name+".glb",c.href=URL.createObjectURL(a),document.body.appendChild(c),c.click(),document.body.removeChild(c),e.next=30;break;case 23:if(e.prev=23,e.t0=e.catch(8),!e.t0.aborted){e.next=28;break}return r.hideDialog(),e.abrupt("return");case 28:console.error(e.t0),r.showDialog(vn,{title:"Error Exporting Project",message:e.t0.message||"There was an error when exporting the project.",error:e.t0});case 30:case"end":return e.stop()}}),e,null,[[8,23]])}))),r.onImportLegacyProject=(0,c.Z)(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){r.showDialog(an,{title:"Import Legacy World",message:"Warning! This will overwrite your existing scene! Are you sure you wish to continue?",onConfirm:function(){return e(!0)},onCancel:function(){return e(!1)}})}));case 2:if(t=e.sent,r.hideDialog(),t){e.next=6;break}return e.abrupt("return");case 6:(n=document.createElement("input")).type="file",n.accept=".world",n.style.display="none",n.onchange=function(){if(n.files.length>0){var e=new FileReader;e.onload=function(){var t=JSON.parse(e.result);t.metadata&&(delete t.metadata.sceneUrl,delete t.metadata.sceneId),r.importProject(t)},e.readAsText(n.files[0])}},n.click();case 12:case"end":return e.stop()}}),e)}))),r.onExportLegacyProject=(0,c.Z)(s().mark((function e(){var t,n,o,i,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.state.editor,(n=t.scene.serialize()).metadata&&(delete n.metadata.sceneUrl,delete n.metadata.sceneId),o=JSON.stringify(n),i=new Blob([o]),a=document.createElement("a"),c=r.state.editor.scene.name.toLowerCase().replace(/\s+/g,"-"),a.download=c+".world",a.href=URL.createObjectURL(i),document.body.appendChild(a),a.click(),document.body.removeChild(a);case 12:case"end":return e.stop()}}),e)}))),r.onSaveProject=(0,c.Z)(s().mark((function e(){var t,n,o,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new AbortController,r.showDialog(kn.i,{title:"Saving Project",message:"Saving project...",cancelable:!0,onCancel:function(){t.abort(),r.hideDialog()}}),e.next=4,new Promise((function(e){return setTimeout(e,5)}));case 4:if(e.prev=4,n=r.state,o=n.editor,!(i=n.project)){e.next=13;break}return e.next=9,r.props.api.saveProject(i.project_id,o,t.signal,r.showDialog,r.hideDialog);case 9:a=e.sent,r.setState({project:a}),e.next=15;break;case 13:return e.next=15,r.createProject();case 15:o.sceneModified=!1,r.updateModifiedState(),r.hideDialog(),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(4),console.error(e.t0),r.showDialog(vn,{title:"Error Saving Project",message:e.t0.message||"There was an error when saving the project."});case 24:case"end":return e.stop()}}),e,null,[[4,20]])}))),r.onPublishProject=(0,c.Z)(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=r.state.editor,n=r.state.project){e.next=7;break}return e.next=6,r.createProject();case 6:n=e.sent;case 7:if(n){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,r.props.api.publishProject(n,t,r.showDialog,r.hideDialog);case 11:if(n=e.sent){e.next=14;break}return e.abrupt("return");case 14:t.sceneModified=!1,r.updateModifiedState(),r.setState({project:n}),e.next=26;break;case 19:if(e.prev=19,e.t0=e.catch(0),!e.t0.abortedsettingsContext){e.next=24;break}return r.hideDialog(),e.abrupt("return");case 24:console.error(e.t0),r.showDialog(vn,{title:"Error Publishing Project",message:e.t0.message||"There was an unknown error.",error:e.t0});case 26:case"end":return e.stop()}}),e,null,[[0,19]])}))),r.onOpenScene=function(){var e=r.getSceneId();if(e){var t=r.props.api.getSceneUrl(e);window.open(t)}};var o=en,i=localStorage.getItem("editor-settings");i&&(o=JSON.parse(i));var a=function(e,t){var n=new af(e,t);return n.registerNode(Nc,fS),n.registerNode(qs,Zx),n.registerNode(cc,rS),n.registerNode(Ns,Px),n.registerNode(Ts,px),n.registerNode(nC,bg),n.registerNode(lC,Sx),n.registerNode(dC,Ax),n.registerNode(AC,NS),n.registerNode(PC,sS),n.registerNode(Fs,DS),n.registerNode(RC,RS),n.registerNode(Ws,wC),n.registerNode(Js,Bx),n.registerNode(Bc,XS),n.registerNode(Yc,eC),n.registerNode(gs,ux),n.registerNode(zC,BS),n.registerNode(tc,qx),n.registerNode(al,vS),n.registerNode(dk,ok),n.registerSource(new dm(n)),n.registerSource(new ym(n)),n.registerSource(new Tk(e)),n.registerSource(new jk(e)),n.registerSource(new gk(e)),n.registerSource(new Ck(e)),n.registerSource(new _k(e)),n}(e.api,o);return window.editor=a,a.init(),a.addListener("initialized",r.onEditorInitialized),r.state={project:null,parentSceneId:null,editor:a,queryParams:new Map(Object.entries(e.router.query)),settingsContext:{settings:o,updateSetting:r.updateSetting},creatingProject:null,DialogComponent:null,dialogProps:{},modified:!1},r}return(0,u.Z)(n,[{key:"componentDidMount",value:function(){!0===this.props.adminState.get("locations").get("updateNeeded")&&this.props.fetchAdminLocations(),!0===this.props.adminState.get("scenes").get("updateNeeded")&&this.props.fetchAdminScenes(),!0===this.props.adminState.get("locationTypes").get("updateNeeded")&&this.props.fetchLocationTypes();var e=this.state.queryParams,t=e.get("projectId");"new"===t?e.has("template")?this.loadProjectTemplate(e.get("template")):e.has("sceneId")?this.loadScene(e.get("sceneId")):this.loadProjectTemplate(Bt):"tutorial"===t?this.loadProjectTemplate(Ht):this.loadProject(t)}},{key:"componentDidUpdate",value:function(e){if(this.props.router.route!==e.router.route&&!this.state.creatingProject){var t=e.router.query.projectId,n=(0,v.R6)(this.props.router.query);this.setState({queryParams:n});var r=n.get("projectId"),o=null;"new"!==r||n.has("sceneId")?"tutorial"===r&&(o=Ht):o=n.get("template")||Bt,"new"===r||"tutorial"===r?this.loadProjectTemplate(o):"tutorial"!==t&&"new"!==t&&this.loadProject(r)}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize);var e=this.state.editor;e.removeListener("sceneModified",this.onSceneModified),e.removeListener("saveProject",this.onSaveProject),e.removeListener("initialized",this.onEditorInitialized),e.removeListener("error",this.onEditorError),e.removeListener("projectLoaded",this.onProjectLoaded),e.dispose()}},{key:"loadProjectTemplate",value:function(){var e=(0,c.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({project:null,parentSceneId:null}),this.showDialog(kn.i,{title:"Loading Project",message:"Loading project..."}),n=this.state.editor,e.prev=3,e.next=6,n.init();case 6:return t.metadata&&(delete t.metadata.sceneUrl,delete t.metadata.sceneId,delete t.metadata.creatorAttribution,delete t.metadata.allowRemixing,delete t.metadata.allowPromotion),e.next=9,n.loadProject(t);case 9:this.hideDialog(),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),console.error(e.t0),this.showDialog(vn,{title:"Error loading project.",message:e.t0.message||"There was an error when loading the project.",error:e.t0});case 16:case"end":return e.stop()}}),e,this,[[3,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"loadScene",value:function(){var e=(0,c.Z)(s().mark((function e(t){var n,r,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({project:null,parentSceneId:t}),this.showDialog(kn.i,{title:"Loading Project",message:"Loading project..."}),n=this.state.editor,e.prev=3,e.next=6,this.props.api.getScene(t);case 6:return r=e.sent,console.warn("loadScene:scene",r),o=r.data,e.next=11,n.init();case 11:return e.next=13,n.loadProject(o);case 13:this.hideDialog(),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(3),console.error(e.t0),this.showDialog(vn,{title:"Error loading project.",message:e.t0.message||"There was an error when loading the project.",error:e.t0});case 20:case"end":return e.stop()}}),e,this,[[3,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"importProject",value:function(){var e=(0,c.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.state.project,this.setState({project:null,parentSceneId:null}),this.showDialog(kn.i,{title:"Loading Project",message:"Loading project..."}),r=this.state.editor,e.prev=4,e.next=7,r.init();case 7:return e.next=9,r.loadProject(t);case 9:r.sceneModified=!0,this.updateModifiedState(),this.hideDialog(),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),console.error(e.t0),this.showDialog(vn,{title:"Error loading project.",message:e.t0.message||"There was an error when loading the project.",error:e.t0});case 18:return e.prev=18,n&&this.setState({project:n}),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[4,14,18,21]])})));return function(t){return e.apply(this,arguments)}}()},{key:"loadProject",value:function(){var e=(0,c.Z)(s().mark((function e(t){var n,r,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({project:null,parentSceneId:null}),this.showDialog(kn.i,{title:"Loading Project",message:"Loading project..."}),n=this.state.editor,e.prev=3,e.next=6,this.props.api.getProject(t);case 6:return r=e.sent,e.next=9,this.props.api.fetchUrl(r.project_url).then((function(e){return e.json()}));case 9:return o=e.sent,e.next=12,n.init();case 12:return e.next=14,n.loadProject(o);case 14:this.hideDialog(),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(3),console.error(e.t0),this.showDialog(vn,{title:"Error loading project.",message:e.t0.message||"There was an error when loading the project.",error:e.t0});case 21:return e.prev=21,r&&this.setState({project:r}),e.finish(21);case 24:case"end":return e.stop()}}),e,this,[[3,17,21,24]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateModifiedState",value:function(e){var t=this.state.editor.sceneModified&&!this.state.creatingProject;t!==this.state.modified?this.setState({modified:t},e):e&&e()}},{key:"updateSetting",value:function(e,t){var n=Object.assign(this.state.settingsContext.settings,(0,i.Z)({},e,t));localStorage.setItem("editor-settings",JSON.stringify(n));var r=this.state.editor;r.settings=n,r.emit("settingsChanged"),this.setState({settingsContext:LP(LP({},this.state.settingsContext),{},{settings:n})})}},{key:"createProject",value:function(){var e=(0,c.Z)(s().mark((function e(){var t,n,r,o,i,a,c,l=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,n=t.editor,r=t.parentSceneId,this.showDialog(kn.i,{title:"Generating Project Screenshot",message:"Generating project screenshot..."}),e.next=4,new Promise((function(e){return setTimeout(e,5)}));case 4:return e.next=6,n.takeScreenshot(512,320);case 6:return o=e.sent,e.next=9,new Promise((function(e){l.showDialog(Rn,{thumbnailUrl:URL.createObjectURL(o),initialName:n.scene.name,onConfirm:e,onCancel:e})}));case 9:if(i=e.sent){e.next=13;break}return this.hideDialog(),e.abrupt("return",null);case 13:return a=new AbortController,this.showDialog(kn.i,{title:"Saving Project",message:"Saving project...",cancelable:!0,onCancel:function(){a.abort(),l.hideDialog()}}),n.setProperty(n.scene,"name",i.name,!1),n.scene.setMetadata({name:i.name}),e.next=19,this.props.api.createProject(n.scene,r,o,a.signal,this.showDialog,this.hideDialog);case 19:return c=e.sent,n.sceneModified=!1,this.updateModifiedState((function(){l.setState({creatingProject:!0,project:c},(function(){l.props.router.replace("/editor/projects/".concat(c.project_id)),l.setState({creatingProject:!1})}))})),e.abrupt("return",c);case 23:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSceneId",value:function(){var e=this.state,t=e.editor,n=e.project;return n&&n.scene&&n.scene.scene_id||t.scene.metadata&&t.scene.metadata.sceneId}},{key:"render",value:function(){var e,t=this,n=this.state,r=n.DialogComponent,i=n.dialogProps,a=n.modified,s=n.settingsContext,c=n.editor,l=this.generateToolbarMenu(),u=!!this.getSceneId(),f=this.props.adminState.get("locations").get("locations");return f&&f.forEach((function(n){n.sceneId===t.state.queryParams.get("projectId")&&(e=n)})),IP(VP,{id:"editor-container"},IP(nn,{value:s},IP(Jt,{value:c},IP(Yt,{value:this.dialogContext},IP(lt,{backend:zt},IP(Hn,null),l&&IP(cP,{menu:l,editor:c,onPublish:this.onPublishProject,isPublishedScene:u,onOpenScene:this.onOpenScene,queryParams:e}),IP(BP,null,IP(Ep,{axis:"x",initialSizes:[.7,.3],onChange:this.onResize},IP(DP,null),IP(Ep,{axis:"y",initialSizes:[.5,.5]},IP(pp,null),IP(uO,null)))),IP(Ut(),{ariaHideApp:!1,isOpen:!!r,onRequestClose:this.hideDialog,shouldCloseOnOverlayClick:!1,className:"Modal",overlayClassName:"Overlay"},r&&IP(r,(0,o.Z)({onConfirm:this.hideDialog,onCancel:this.hideDialog},i))),IP(m.default,null,IP("title",null,"".concat(a?"*":"").concat(c.scene.name," | ").concat(Wt.Z.longName())),IP("meta",{name:"viewport",content:"width=device-width, initial-scale=1, user-scalable=no"})))))))}}]),n}(y.Component),WP=(0,g.withRouter)((0,Gt.p)((0,AP.$j)((function(e){return{adminState:(0,TP.e)(e)}}),(function(e){return{fetchAdminLocations:(0,b.DE)(_P.T4,e),fetchAdminScenes:(0,b.DE)(_P.Ik,e),fetchLocationTypes:(0,b.DE)(_P.qm,e)}}))(HP)))},78528:function(e,t,n){"use strict";n.d(t,{Z:function(){return I}});var r=n(15194),o=n(87400),i=n(68625),a=n(27878),s=n(10101),c=n(31451),l=n(23868),u=n(81879),f=n(70607),d=a.forwardRef((function(e,t){var n=e.classes,r=e.className,c=e.color,l=void 0===c?"secondary":c,d=e.edge,h=void 0!==d&&d,p=e.size,v=void 0===p?"medium":p,m=(0,i.Z)(e,["classes","className","color","edge","size"]),g=a.createElement("span",{className:n.thumb});return a.createElement("span",{className:(0,s.Z)(n.root,r,{start:n.edgeStart,end:n.edgeEnd}[h],"small"===v&&n["size".concat((0,u.Z)(v))])},a.createElement(f.Z,(0,o.Z)({type:"checkbox",icon:g,checkedIcon:g,classes:{root:(0,s.Z)(n.switchBase,n["color".concat((0,u.Z)(l))]),input:n.input,checked:n.checked,disabled:n.disabled},ref:t},m)),a.createElement("span",{className:n.track}))})),h=(0,c.Z)((function(e){return{root:{display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},edgeStart:{marginLeft:-8},edgeEnd:{marginRight:-8},switchBase:{position:"absolute",top:0,left:0,zIndex:1,color:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[400],transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),"&$checked":{transform:"translateX(20px)"},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{opacity:.5},"&$disabled + $track":{opacity:"light"===e.palette.type?.12:.1}},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,l.U1)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.primary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,l.U1)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.secondary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},sizeSmall:{width:40,height:24,padding:7,"& $thumb":{width:16,height:16},"& $switchBase":{padding:4,"&$checked":{transform:"translateX(16px)"}}},checked:{},disabled:{},input:{left:"-100%",width:"300%"},thumb:{boxShadow:e.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"},track:{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white,opacity:"light"===e.palette.type?.38:.3}}}),{name:"MuiSwitch"})(d),p=n(3841),v=n(64432),m=n(27674),g=n(84135),y=n(57405),b=n(28531),w=n(93433),x=n(59838),S=n(3829),C=n(17144),k=n(52299),O=n(90858),P=n.n(O),M=n(14571),R=n(69744),E=n(50191),Z=n(97410),j=n(25700),D=n(33859),T=n(67577),A=n.n(T),_=a.createElement,I=(0,M.$j)((function(e){return{appState:(0,j.p_)(e),authState:(0,D._)(e),adminState:(0,E.e)(e)}}),(function(e){return{createLocation:(0,R.DE)(Z.ob,e),patchLocation:(0,R.DE)(Z.iB,e),removeLocation:(0,R.DE)(Z.Mv,e)}}))((function(e){var t,n=e.open,o=e.handleClose,i=e.location,s=e.editing,c=e.adminState,l=e.createLocation,u=e.patchLocation,f=e.removeLocation,d=(0,a.useState)(""),O=d[0],M=d[1],R=(0,a.useState)(""),E=R[0],Z=R[1],j=(0,a.useState)(10),D=j[0],T=j[1],I=(0,a.useState)(!1),N=I[0],L=I[1],z=(0,a.useState)(!1),F=z[0],U=z[1],V=(0,a.useState)("private"),B=V[0],H=V[1],W=(c.get("locations").get("locations"),c.get("scenes").get("scenes")),G=c.get("locationTypes").get("locationTypes"),q=function(){var e={name:O,sceneId:E,maxUsersPerInstance:D,location_setting:{locationType:B,instanceMediaChatEnabled:F,videoEnabled:N}};!0===s?u(i.id,e):l(e),o()};return(0,a.useEffect)((function(){!0===s?(M(i.name),Z(i.sceneId||""),T(i.maxUsersPerInstance),L(i.location_setting.videoEnabled),U(i.location_setting.instanceMediaChatEnabled),H(i.location_setting.locationType)):(M(""),Z(""),T(10),L(!1),U(!1),H("private"))}),[i]),_("div",null,_(p.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:A().modal,open:n,onClose:o,closeAfterTransition:!0,BackdropComponent:v.Z,BackdropProps:{timeout:500}},_(m.Z,{in:e.open},_("div",{className:P()((t={},(0,r.Z)(t,A().paper,!0),(0,r.Z)(t,A()["modal-content"],!0),t))},!0===s&&_(g.Z,{variant:"outlined",margin:"normal",fullWidth:!0,id:"id",label:"ID",name:"id",disabled:!0,defaultValue:null===i||void 0===i?void 0:i.id},i.id),_(g.Z,{variant:"outlined",margin:"normal",fullWidth:!0,id:"name",label:"Name",name:"name",required:!0,value:O,onChange:function(e){return M(e.target.value)}}),_(g.Z,{type:"number",variant:"outlined",margin:"normal",fullWidth:!0,id:"maxUsers",label:"Max Users",name:"name",required:!0,value:D,onChange:function(e){return T(parseInt(e.target.value))}}),_(y.Z,null,_(b.Z,{id:"scene"},"Scene"),_(w.Z,{labelId:"scene",id:"scene",value:E,onChange:function(e){return Z(e.target.value)}},W.map((function(e){return _(x.Z,{key:e.sid,value:e.sid},"".concat(e.name," (").concat(e.sid,")"))})))),_(y.Z,null,_(b.Z,{id:"locationType"},"Type"),_(w.Z,{labelId:"locationType",id:"locationType",value:B,onChange:function(e){return H(e.target.value)}},G.map((function(e){return _(x.Z,{key:e.type,value:e.type},e.type)})))),_(S.Z,null,_(y.Z,{style:{color:"black"}},_(C.Z,{color:"primary",control:_(h,{checked:N,onChange:function(e){return L(e.target.checked)},name:"videoEnabled"}),label:"Video Enabled"}))),_(S.Z,null,_(y.Z,{style:{color:"black"}},_(C.Z,{color:"primary",control:_(h,{checked:F,onChange:function(e){return U(e.target.checked)},name:"instanceMediaChatEnabled"}),label:"Global Media Enabled"}))),_(S.Z,{row:!0,className:A().locationModalButtons},!0===s&&_(k.Z,{type:"submit",variant:"contained",color:"primary",onClick:q},"Update"),!0!==s&&_(k.Z,{type:"submit",variant:"contained",color:"primary",onClick:q},"Create"),_(k.Z,{type:"submit",variant:"contained",onClick:o},"Cancel"),!0===s&&_(k.Z,{type:"submit",variant:"contained",color:"secondary",onClick:function(){f(i.id),o()}},"Delete"))))))}))},25700:function(e,t,n){"use strict";n.d(t,{p_:function(){return o},Z_:function(){return i}});var r=n(62151),o=(0,r.P1)([function(e){return e.get("app")}],(function(e){return e})),i=((0,r.P1)([function(e){return e.getIn(["app","loadPercent"])}],(function(e){return e})),(0,r.P1)([function(e){return e.getIn(["app","inVrMode"])}],(function(e){return e})),(0,r.P1)([function(e){return e.getIn(["app","onBoardingStep"])}],(function(e){return e})));(0,r.P1)([function(e){return e.getIn(["app","isTutorial"])}],(function(e){return e}))},88298:function(e,t,n){"use strict";n.d(t,{zy:function(){return o},Uu:function(){return i},C5:function(){return a},lD:function(){return s},gD:function(){return c},Bi:function(){return l},Bd:function(){return u}});var r=n(62575);function o(e){return{type:r.lS,locations:e}}function i(e){return{type:r.Em,location:e}}function a(e){return{type:r.YO,location:e}}function s(e){return{type:r.l3,location:e}}function c(e){return{type:r.Xr,location:e}}function l(){return{type:r.GQ}}function u(){return{type:r.OE}}},83699:function(e){e.exports={statsContainer:"styles_statsContainer__met3I"}}}]);