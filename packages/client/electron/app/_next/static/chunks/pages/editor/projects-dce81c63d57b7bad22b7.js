(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6682,5747],{6361:function(t,n,e){"use strict";e.r(n),e.d(n,{ProjectsSection:function(){return D},ProjectsContainer:function(){return C},ProjectsHeader:function(){return T}});var r=e(48533),o=e.n(r),u=e(58700),l=e(15194),c=e(44807),i=e(27878),a=e(98538),s=e(26739),f=e(55956),p=e(54522),d=e(85689),h=e(92963),g=e(23568),j=e(31542),P=e(14571),m=e(33859),v=e(69744),x=e(24892),w=e(17056),b=e(52546),O=i.createElement;function y(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function k(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?y(Object(e),!0).forEach((function(n){(0,l.Z)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):y(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function _(){var t=(0,c.Z)(["\n\t  margin-bottom: 36px;\n\t  display: flex;\n\t  justify-content: space-between;\n\t  align-items: center;\n"]);return _=function(){return t},t}function Z(){var t=(0,c.Z)(["\n\t  align-items: center;\n\t  & > * {\n\t    text-align: center;\n\t  }\n\t  & > *:not(:first-child) {\n\t    margin-top: 20px;\n\t  }\n\t  h2 {\n\t    max-width: 480px;\n\t  }\n"]);return Z=function(){return t},t}function E(){var t=(0,c.Z)(["\n\t  display: flex;\n\t  flex: 1;\n\t  flex-direction: column;\n\t  margin: 0 auto;\n\t  max-width: 1200px;\n\t  padding: 0 20px;\n"]);return E=function(){return t},t}function S(){var t=(0,c.Z)(["\n\t  padding-bottom: 100px;\n\t  display: flex;\n\t  flex: ",";\n\t\n\t  &:first-child {\n\t    padding-top: 100px;\n\t  }\n\t\n\t  h1 {\n\t    font-size: 36px;\n\t  }\n\t\n\t  h2 {\n\t    font-size: 16px;\n\t  }\n"]);return S=function(){return t},t}var D=a.ZP.section(S(),(function(t){return void 0===t.flex?1:t.flex})),C=a.ZP.div(E()),N=(0,a.ZP)(C)(Z()),T=a.ZP.div(_()),R="project-menu";n.default=(0,g.withRouter)((0,s.p)((0,P.$j)((function(t){return{authState:(0,m._)(t)}}),(function(t){return{doLoginAuto:(0,v.DE)(x.bW,t),logoutUser:(0,v.DE)(x.TX,t)}}))((function(t){var n=t.api,e=(t.history,t.router),r=t.authState,l=t.doLoginAuto,c=t.logoutUser,a=(0,i.useState)([]),s=a[0],g=a[1],P=(0,i.useState)(!1),m=P[0],v=P[1],x=n.isAuthenticated(),y=(0,i.useState)(null),_=y[0],Z=y[1],E=r.get("authUser"),S=r.get("user");(0,i.useEffect)((function(){l(!0),console.warn("PROJECTS PAGE PROPS: ",t),console.log(r)}),[]),(0,i.useEffect)((function(){null!=(null===E||void 0===E?void 0:E.accessToken)&&E.accessToken.length>0&&null!=(null===S||void 0===S?void 0:S.id)&&n.getProjects().then((function(t){g(t.map((function(t){return k(k({},t),{},{url:"/editor/projects/".concat(t.project_id)})}))),v(!1)})).catch((function(t){if(console.error(t),t.response&&401===t.response.status)return e.push("/editor/projects");Z(t),v(!1)}))}),[E,S]);j.N;for(var F=function(){var t=(0,u.Z)(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.deleteProject(e.project_id);case 3:g(s.filter((function(t){return t.project_id!==e.project_id}))),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("Delete project error");case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(n){return t.apply(this,arguments)}}(),L=function(t){return function(){e.push(t)}},A=(0,p.ti)(R)((function(t){return O(i.Fragment,null,O(p.xV,{id:R},O(p.sN,{onClick:function(n){return F(t.trigger.project)}},"Delete Project")))})),z=[],U=0;U<h.Z.length&&U<4;U++)z.push(h.Z[U]);return O(i.Fragment,null,x&&E?O(d.S7,null,O(d.RF,null),O(d.RF,null,O(f.a7,{onClick:function(){return c()}},"Logout"))):O(D,null,O(C,null,O(T,null,O("h1",null,"Please Login")),O(d.h6,null,O(d.DV,null,O(w.Z,null))))),null!=(null===E||void 0===E?void 0:E.accessToken)&&E.accessToken.length>0&&null!=(null===S||void 0===S?void 0:S.id)&&O("main",null,0!==s.length||m?null:O(D,{flex:0},O(N,null,O("h1",null,"Welcome"),O("h2",null,"If you're new here we recommend going through the tutorial. Otherwise, jump right in and create a project from scratch or from one of our templates."),O(f.a7,{onClick:L("/editor/tutorial")},"Start Tutorial"))),O(D,null,O(C,null,O(T,null,O("h1",null,"Locations")),O("div",{className:"mb-5"},O(b.Z,null)),O(T,null,O("h1",null,"Projects")),O(d.h6,null,O(d.S7,null,O(d.RF,null),O(d.RF,null,O(f.zx,{onClick:L("/editor/create")},"New Project"))),O(d.DV,null,_&&O(d.Bc,null,_.message),!_&&O(d.JC,{loading:m,projects:s,newProjectPath:"/editor/create",newProjectLabel:"New Project",contextMenuId:R}))))),O(A,null)))}))))},83663:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/editor/projects",function(){return e(6361)}])},35747:function(t){"use strict";t.exports=fs},40418:function(){}},0,[[83663,2272,9774,2182,4546,1514,3828,6231,9351,1810,8900,3600,6508,6835,5774,5327,4135,8930,9193,9420,2695,5391,1819,7114,9679,3295]]]);