var e=Object.defineProperty,r=Object.defineProperties,t=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,n=(r,t,o)=>t in r?e(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o;import{u as c,r as i,R as l}from"./vendor.40ddfb4b.js";import{h as p,i as f}from"./service.2cb21ce4.js";import{s as u}from"./selector.d1cb6f6a.js";import{ax as m,b,ay as d}from"./_app.e67b0e96.js";import{c as j}from"./feathers.42c2841d.js";import{C as h}from"./Container.8fcf9e42.js";import"./index.b0bd5cc1.js";import"./index.1d867f8f.js";import"./capitalize.f4eb3e2e.js";const g=m(j((e=>({auth:u(e)})),(e=>({loginUserByJwt:b(p,e),refreshConnections:b(f,e)})))((e=>{const{auth:p,loginUserByJwt:f,refreshConnections:u}=e,{t:m}=c(),[b,j]=i.exports.useState({error:"",token:""}),g=new URLSearchParams(d().search);return i.exports.useEffect((()=>{const e=g.get("error"),c=g.get("token"),i=g.get("type"),l=g.get("path"),m=g.get("instanceId");if(!e)if("connection"===i){const e=p.get("user");u(e.id)}else{let e=`${l}`;null!=m&&(e+=`?instanceId=${m}`),f(c,e||"/","/")}var d;j((d=((e,r)=>{for(var t in r||(r={}))a.call(r,t)&&n(e,t,r[t]);if(o)for(var t of o(r))s.call(r,t)&&n(e,t,r[t]);return e})({},b),r(d,t({error:e,token:c}))))}),[]),b.error&&""!==b.error?l.createElement(h,null,m("user:oauth.authFailed",{service:"Facebook"}),l.createElement("br",null),b.error):l.createElement(h,null,m("user:oauth.authenticating"))}))),y=()=>l.createElement(g,null);export{y as FacebookHomePage,y as default};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmFjZWJvb2suOGQ5NzNmNGIuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy91c2VyL2NvbXBvbmVudHMvT2F1dGgvRmFjZWJvb2tDYWxsYmFjay50c3giLCIuLi8uLi9zcmMvcGFnZXMvYXV0aC9vYXV0aC9mYWNlYm9vay50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlTG9jYXRpb24sIHdpdGhSb3V0ZXIgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJ1xuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IGxvZ2luVXNlckJ5Snd0LCByZWZyZXNoQ29ubmVjdGlvbnMgfSBmcm9tICcuLi8uLi9yZWR1Y2Vycy9hdXRoL3NlcnZpY2UnXG5pbXBvcnQgQ29udGFpbmVyIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0NvbnRhaW5lcidcbmltcG9ydCB7IHNlbGVjdEF1dGhTdGF0ZSB9IGZyb20gJy4uLy4uL3JlZHVjZXJzL2F1dGgvc2VsZWN0b3InXG5pbXBvcnQgeyBiaW5kQWN0aW9uQ3JlYXRvcnMsIERpc3BhdGNoIH0gZnJvbSAncmVkdXgnXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnXG5pbXBvcnQgeyB1c2VUcmFuc2xhdGlvbiB9IGZyb20gJ3JlYWN0LWkxOG5leHQnXG5cbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IChzdGF0ZTogYW55KTogYW55ID0+IHtcbiAgcmV0dXJuIHtcbiAgICBhdXRoOiBzZWxlY3RBdXRoU3RhdGUoc3RhdGUpXG4gIH1cbn1cblxuY29uc3QgbWFwRGlzcGF0Y2hUb1Byb3BzID0gKGRpc3BhdGNoOiBEaXNwYXRjaCk6IGFueSA9PiAoe1xuICBsb2dpblVzZXJCeUp3dDogYmluZEFjdGlvbkNyZWF0b3JzKGxvZ2luVXNlckJ5Snd0LCBkaXNwYXRjaCksXG4gIHJlZnJlc2hDb25uZWN0aW9uczogYmluZEFjdGlvbkNyZWF0b3JzKHJlZnJlc2hDb25uZWN0aW9ucywgZGlzcGF0Y2gpXG59KVxuXG5jb25zdCBGYWNlYm9va0NhbGxiYWNrQ29tcG9uZW50ID0gKHByb3BzKTogYW55ID0+IHtcbiAgY29uc3QgeyBhdXRoLCBsb2dpblVzZXJCeUp3dCwgcmVmcmVzaENvbm5lY3Rpb25zIH0gPSBwcm9wc1xuICBjb25zdCB7IHQgfSA9IHVzZVRyYW5zbGF0aW9uKClcblxuICBjb25zdCBpbml0aWFsU3RhdGUgPSB7IGVycm9yOiAnJywgdG9rZW46ICcnIH1cbiAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSB1c2VTdGF0ZShpbml0aWFsU3RhdGUpXG4gIGNvbnN0IHNlYXJjaCA9IG5ldyBVUkxTZWFyY2hQYXJhbXModXNlTG9jYXRpb24oKS5zZWFyY2gpXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBlcnJvciA9IHNlYXJjaC5nZXQoJ2Vycm9yJykgYXMgc3RyaW5nXG4gICAgY29uc3QgdG9rZW4gPSBzZWFyY2guZ2V0KCd0b2tlbicpIGFzIHN0cmluZ1xuICAgIGNvbnN0IHR5cGUgPSBzZWFyY2guZ2V0KCd0eXBlJykgYXMgc3RyaW5nXG4gICAgY29uc3QgcGF0aCA9IHNlYXJjaC5nZXQoJ3BhdGgnKSBhcyBzdHJpbmdcbiAgICBjb25zdCBpbnN0YW5jZUlkID0gc2VhcmNoLmdldCgnaW5zdGFuY2VJZCcpIGFzIHN0cmluZ1xuXG4gICAgaWYgKCFlcnJvcikge1xuICAgICAgaWYgKHR5cGUgPT09ICdjb25uZWN0aW9uJykge1xuICAgICAgICBjb25zdCB1c2VyID0gYXV0aC5nZXQoJ3VzZXInKVxuICAgICAgICByZWZyZXNoQ29ubmVjdGlvbnModXNlci5pZClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCByZWRpcmVjdFN1Y2Nlc3MgPSBgJHtwYXRofWBcbiAgICAgICAgaWYgKGluc3RhbmNlSWQgIT0gbnVsbCkgcmVkaXJlY3RTdWNjZXNzICs9IGA/aW5zdGFuY2VJZD0ke2luc3RhbmNlSWR9YFxuICAgICAgICBsb2dpblVzZXJCeUp3dCh0b2tlbiwgcmVkaXJlY3RTdWNjZXNzIHx8ICcvJywgJy8nKVxuICAgICAgfVxuICAgIH1cblxuICAgIHNldFN0YXRlKHsgLi4uc3RhdGUsIGVycm9yLCB0b2tlbiB9KVxuICB9LCBbXSlcblxuICByZXR1cm4gc3RhdGUuZXJyb3IgJiYgc3RhdGUuZXJyb3IgIT09ICcnID8gKFxuICAgIDxDb250YWluZXI+XG4gICAgICB7dCgndXNlcjpvYXV0aC5hdXRoRmFpbGVkJywgeyBzZXJ2aWNlOiAnRmFjZWJvb2snIH0pfVxuICAgICAgPGJyIC8+XG4gICAgICB7c3RhdGUuZXJyb3J9XG4gICAgPC9Db250YWluZXI+XG4gICkgOiAoXG4gICAgPENvbnRhaW5lcj57dCgndXNlcjpvYXV0aC5hdXRoZW50aWNhdGluZycpfTwvQ29udGFpbmVyPlxuICApXG59XG5cbmV4cG9ydCBjb25zdCBGYWNlYm9va0NhbGxiYWNrID0gd2l0aFJvdXRlcihcbiAgY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykoRmFjZWJvb2tDYWxsYmFja0NvbXBvbmVudClcbikgYXMgYW55XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBGYWNlYm9va0NhbGxiYWNrIH0gZnJvbSAnQHhyZW5naW5lL2NsaWVudC1jb3JlL3NyYy91c2VyL2NvbXBvbmVudHMvT2F1dGgvRmFjZWJvb2tDYWxsYmFjaydcblxuZXhwb3J0IGNvbnN0IEZhY2Vib29rSG9tZVBhZ2UgPSAoKSA9PiA8RmFjZWJvb2tDYWxsYmFjayAvPlxuXG5leHBvcnQgZGVmYXVsdCBGYWNlYm9va0hvbWVQYWdlXG4iXSwibmFtZXMiOlsiRmFjZWJvb2tDYWxsYmFjayIsIndpdGhSb3V0ZXIiLCJjb25uZWN0Iiwic3RhdGUiLCJhdXRoIiwic2VsZWN0QXV0aFN0YXRlIiwiZGlzcGF0Y2giLCJsb2dpblVzZXJCeUp3dCIsImJpbmRBY3Rpb25DcmVhdG9ycyIsInJlZnJlc2hDb25uZWN0aW9ucyIsInByb3BzIiwidCIsInVzZVRyYW5zbGF0aW9uIiwic2V0U3RhdGUiLCJ1c2VTdGF0ZSIsImVycm9yIiwidG9rZW4iLCJzZWFyY2giLCJVUkxTZWFyY2hQYXJhbXMiLCJ1c2VMb2NhdGlvbiIsImdldCIsInR5cGUiLCJwYXRoIiwiaW5zdGFuY2VJZCIsInVzZXIiLCJpZCIsInJlZGlyZWN0U3VjY2VzcyIsIkNvbnRhaW5lciIsInNlcnZpY2UiLCJGYWNlYm9va0hvbWVQYWdlIl0sIm1hcHBpbmdzIjoiMm9CQVNBLE1BbURhQSxFQUFtQkMsRUFDOUJDLEdBcER1QkMsSUFDaEIsQ0FDTEMsS0FBTUMsRUFBZ0JGLE9BSUVHLEtBQzFCQyxlQUFnQkMsRUFBbUJELEVBQWdCRCxHQUNuREcsbUJBQW9CRCxFQUFtQkMsRUFBb0JILE1BNEMzREosRUF6Q2lDUSxVQUMzQk4sS0FBRUEsRUFBTUcsaUJBQWdCRSxzQkFBdUJDLEdBQy9DQyxFQUFFQSxHQUFNQyxLQUdQVCxFQUFPVSxHQUFZQyxtQkFETCxDQUFFQyxNQUFPLEdBQUlDLE1BQU8sS0FFbkNDLEVBQVMsSUFBSUMsZ0JBQWdCQyxJQUFjRixvQ0FFdkMsV0FDRkYsRUFBUUUsRUFBT0csSUFBSSxTQUNuQkosRUFBUUMsRUFBT0csSUFBSSxTQUNuQkMsRUFBT0osRUFBT0csSUFBSSxRQUNsQkUsRUFBT0wsRUFBT0csSUFBSSxRQUNsQkcsRUFBYU4sRUFBT0csSUFBSSxrQkFFekJMLEtBQ1UsZUFBVE0sRUFBdUIsT0FDbkJHLEVBQU9wQixFQUFLZ0IsSUFBSSxVQUNISSxFQUFLQyxRQUNuQixLQUNEQyxFQUFrQixHQUFHSixJQUNQLE1BQWRDLE9BQXVDLGVBQWVBLE9BQzNDUCxFQUFPVSxHQUFtQixJQUFLLHVJQUlwQ3ZCLFNBQUwsQ0FBWVksTUFBQUEsRUFBT0MsTUFBQUEsU0FDM0IsSUFFSWIsRUFBTVksT0FBeUIsS0FBaEJaLEVBQU1ZLHNCQUN6QlksRUFBRCxLQUNHaEIsRUFBRSx3QkFBeUIsQ0FBRWlCLFFBQVMsNkJBQ3RDLEtBQUQsTUFDQ3pCLEVBQU1ZLHVCQUdSWSxFQUFELEtBQVloQixFQUFFLGtDQ3JETGtCLEVBQW1CLG9CQUFPN0IsRUFBRCJ9
