var e=Object.defineProperty,r=Object.defineProperties,t=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,n=(r,t,o)=>t in r?e(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o;import{u as c,r as i,R as l}from"./vendor.40ddfb4b.js";import{h as p,i as f}from"./service.2cb21ce4.js";import{s as u}from"./selector.d1cb6f6a.js";import{ax as m,b,ay as d}from"./_app.e67b0e96.js";import{c as j}from"./feathers.42c2841d.js";import{C as h}from"./Container.8fcf9e42.js";import"./index.b0bd5cc1.js";import"./index.1d867f8f.js";import"./capitalize.f4eb3e2e.js";const g=m(j((e=>({auth:u(e)})),(e=>({loginUserByJwt:b(p,e),refreshConnections:b(f,e)})))((e=>{const{auth:p,loginUserByJwt:f,refreshConnections:u}=e,{t:m}=c(),[b,j]=i.exports.useState({error:"",token:""}),g=new URLSearchParams(d().search);return i.exports.useEffect((()=>{const e=g.get("error"),c=g.get("token"),i=g.get("type"),l=g.get("path"),m=g.get("instanceId");if(!e)if("connection"===i){const e=p.get("user");u(e.id)}else{let e=`${l}`;null!=m&&(e+=`?instanceId=${m}`),f(c,e||"/","/")}var d;j((d=((e,r)=>{for(var t in r||(r={}))s.call(r,t)&&n(e,t,r[t]);if(o)for(var t of o(r))a.call(r,t)&&n(e,t,r[t]);return e})({},b),r(d,t({error:e,token:c}))))}),[]),b.error&&""!==b.error?l.createElement(h,null,m("user:oauth.authFailed",{service:"Google"}),l.createElement("br",null),b.error):l.createElement(h,null,m("user:oauth.authenticating"))}))),y=()=>l.createElement(g,null);export{y as GoogleHomePage,y as default};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ29vZ2xlLjQ1OGU2MWQwLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi9jbGllbnQtY29yZS9zcmMvdXNlci9jb21wb25lbnRzL09hdXRoL0dvb2dsZUNhbGxiYWNrLnRzeCIsIi4uLy4uL3NyYy9wYWdlcy9hdXRoL29hdXRoL2dvb2dsZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlTG9jYXRpb24sIHdpdGhSb3V0ZXIgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJ1xuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IGxvZ2luVXNlckJ5Snd0LCByZWZyZXNoQ29ubmVjdGlvbnMgfSBmcm9tICcuLi8uLi9yZWR1Y2Vycy9hdXRoL3NlcnZpY2UnXG5pbXBvcnQgQ29udGFpbmVyIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0NvbnRhaW5lcidcbmltcG9ydCB7IHNlbGVjdEF1dGhTdGF0ZSB9IGZyb20gJy4uLy4uL3JlZHVjZXJzL2F1dGgvc2VsZWN0b3InXG5pbXBvcnQgeyBiaW5kQWN0aW9uQ3JlYXRvcnMsIERpc3BhdGNoIH0gZnJvbSAncmVkdXgnXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnXG5pbXBvcnQgeyB1c2VUcmFuc2xhdGlvbiB9IGZyb20gJ3JlYWN0LWkxOG5leHQnXG5cbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IChzdGF0ZTogYW55KTogYW55ID0+IHtcbiAgcmV0dXJuIHsgYXV0aDogc2VsZWN0QXV0aFN0YXRlKHN0YXRlKSB9XG59XG5cbmNvbnN0IG1hcERpc3BhdGNoVG9Qcm9wcyA9IChkaXNwYXRjaDogRGlzcGF0Y2gpOiBhbnkgPT4gKHtcbiAgbG9naW5Vc2VyQnlKd3Q6IGJpbmRBY3Rpb25DcmVhdG9ycyhsb2dpblVzZXJCeUp3dCwgZGlzcGF0Y2gpLFxuICByZWZyZXNoQ29ubmVjdGlvbnM6IGJpbmRBY3Rpb25DcmVhdG9ycyhyZWZyZXNoQ29ubmVjdGlvbnMsIGRpc3BhdGNoKVxufSlcblxuY29uc3QgR29vZ2xlQ2FsbGJhY2tDb21wb25lbnQgPSAocHJvcHMpOiBhbnkgPT4ge1xuICBjb25zdCB7IGF1dGgsIGxvZ2luVXNlckJ5Snd0LCByZWZyZXNoQ29ubmVjdGlvbnMgfSA9IHByb3BzXG4gIGNvbnN0IHsgdCB9ID0gdXNlVHJhbnNsYXRpb24oKVxuXG4gIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHsgZXJyb3I6ICcnLCB0b2tlbjogJycgfVxuICBjb25zdCBbc3RhdGUsIHNldFN0YXRlXSA9IHVzZVN0YXRlKGluaXRpYWxTdGF0ZSlcbiAgY29uc3Qgc2VhcmNoID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh1c2VMb2NhdGlvbigpLnNlYXJjaClcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGVycm9yID0gc2VhcmNoLmdldCgnZXJyb3InKSBhcyBzdHJpbmdcbiAgICBjb25zdCB0b2tlbiA9IHNlYXJjaC5nZXQoJ3Rva2VuJykgYXMgc3RyaW5nXG4gICAgY29uc3QgdHlwZSA9IHNlYXJjaC5nZXQoJ3R5cGUnKSBhcyBzdHJpbmdcbiAgICBjb25zdCBwYXRoID0gc2VhcmNoLmdldCgncGF0aCcpIGFzIHN0cmluZ1xuICAgIGNvbnN0IGluc3RhbmNlSWQgPSBzZWFyY2guZ2V0KCdpbnN0YW5jZUlkJykgYXMgc3RyaW5nXG5cbiAgICBpZiAoIWVycm9yKSB7XG4gICAgICBpZiAodHlwZSA9PT0gJ2Nvbm5lY3Rpb24nKSB7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBhdXRoLmdldCgndXNlcicpXG4gICAgICAgIHJlZnJlc2hDb25uZWN0aW9ucyh1c2VyLmlkKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IHJlZGlyZWN0U3VjY2VzcyA9IGAke3BhdGh9YFxuICAgICAgICBpZiAoaW5zdGFuY2VJZCAhPSBudWxsKSByZWRpcmVjdFN1Y2Nlc3MgKz0gYD9pbnN0YW5jZUlkPSR7aW5zdGFuY2VJZH1gXG4gICAgICAgIGxvZ2luVXNlckJ5Snd0KHRva2VuLCByZWRpcmVjdFN1Y2Nlc3MgfHwgJy8nLCAnLycpXG4gICAgICB9XG4gICAgfVxuXG4gICAgc2V0U3RhdGUoeyAuLi5zdGF0ZSwgZXJyb3IsIHRva2VuIH0pXG4gIH0sIFtdKVxuXG4gIHJldHVybiBzdGF0ZS5lcnJvciAmJiBzdGF0ZS5lcnJvciAhPT0gJycgPyAoXG4gICAgPENvbnRhaW5lcj5cbiAgICAgIHt0KCd1c2VyOm9hdXRoLmF1dGhGYWlsZWQnLCB7IHNlcnZpY2U6ICdHb29nbGUnIH0pfVxuICAgICAgPGJyIC8+XG4gICAgICB7c3RhdGUuZXJyb3J9XG4gICAgPC9Db250YWluZXI+XG4gICkgOiAoXG4gICAgPENvbnRhaW5lcj57dCgndXNlcjpvYXV0aC5hdXRoZW50aWNhdGluZycpfTwvQ29udGFpbmVyPlxuICApXG59XG5cbmV4cG9ydCBjb25zdCBHb29nbGVDYWxsYmFjayA9IHdpdGhSb3V0ZXIoY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykoR29vZ2xlQ2FsbGJhY2tDb21wb25lbnQpKSBhcyBhbnlcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHsgR29vZ2xlQ2FsbGJhY2sgfSBmcm9tICdAeHJlbmdpbmUvY2xpZW50LWNvcmUvc3JjL3VzZXIvY29tcG9uZW50cy9PYXV0aC9Hb29nbGVDYWxsYmFjaydcblxuZXhwb3J0IGNvbnN0IEdvb2dsZUhvbWVQYWdlID0gKCkgPT4gPEdvb2dsZUNhbGxiYWNrIC8+XG5cbmV4cG9ydCBkZWZhdWx0IEdvb2dsZUhvbWVQYWdlXG4iXSwibmFtZXMiOlsiR29vZ2xlQ2FsbGJhY2siLCJ3aXRoUm91dGVyIiwiY29ubmVjdCIsInN0YXRlIiwiYXV0aCIsInNlbGVjdEF1dGhTdGF0ZSIsImRpc3BhdGNoIiwibG9naW5Vc2VyQnlKd3QiLCJiaW5kQWN0aW9uQ3JlYXRvcnMiLCJyZWZyZXNoQ29ubmVjdGlvbnMiLCJwcm9wcyIsInQiLCJ1c2VUcmFuc2xhdGlvbiIsInNldFN0YXRlIiwidXNlU3RhdGUiLCJlcnJvciIsInRva2VuIiwic2VhcmNoIiwiVVJMU2VhcmNoUGFyYW1zIiwidXNlTG9jYXRpb24iLCJnZXQiLCJ0eXBlIiwicGF0aCIsImluc3RhbmNlSWQiLCJ1c2VyIiwiaWQiLCJyZWRpcmVjdFN1Y2Nlc3MiLCJDb250YWluZXIiLCJzZXJ2aWNlIiwiR29vZ2xlSG9tZVBhZ2UiXSwibWFwcGluZ3MiOiIyb0JBU0EsTUFpRGFBLEVBQWlCQyxFQUFXQyxHQWpEaEJDLElBQ2hCLENBQUVDLEtBQU1DLEVBQWdCRixPQUdMRyxLQUMxQkMsZUFBZ0JDLEVBQW1CRCxFQUFnQkQsR0FDbkRHLG1CQUFvQkQsRUFBbUJDLEVBQW9CSCxNQTJDcEJKLEVBeENSUSxVQUN6Qk4sS0FBRUEsRUFBTUcsaUJBQWdCRSxzQkFBdUJDLEdBQy9DQyxFQUFFQSxHQUFNQyxLQUdQVCxFQUFPVSxHQUFZQyxtQkFETCxDQUFFQyxNQUFPLEdBQUlDLE1BQU8sS0FFbkNDLEVBQVMsSUFBSUMsZ0JBQWdCQyxJQUFjRixvQ0FFdkMsV0FDRkYsRUFBUUUsRUFBT0csSUFBSSxTQUNuQkosRUFBUUMsRUFBT0csSUFBSSxTQUNuQkMsRUFBT0osRUFBT0csSUFBSSxRQUNsQkUsRUFBT0wsRUFBT0csSUFBSSxRQUNsQkcsRUFBYU4sRUFBT0csSUFBSSxrQkFFekJMLEtBQ1UsZUFBVE0sRUFBdUIsT0FDbkJHLEVBQU9wQixFQUFLZ0IsSUFBSSxVQUNISSxFQUFLQyxRQUNuQixLQUNEQyxFQUFrQixHQUFHSixJQUNQLE1BQWRDLE9BQXVDLGVBQWVBLE9BQzNDUCxFQUFPVSxHQUFtQixJQUFLLHVJQUlwQ3ZCLFNBQUwsQ0FBWVksTUFBQUEsRUFBT0MsTUFBQUEsU0FDM0IsSUFFSWIsRUFBTVksT0FBeUIsS0FBaEJaLEVBQU1ZLHNCQUN6QlksRUFBRCxLQUNHaEIsRUFBRSx3QkFBeUIsQ0FBRWlCLFFBQVMsMkJBQ3RDLEtBQUQsTUFDQ3pCLEVBQU1ZLHVCQUdSWSxFQUFELEtBQVloQixFQUFFLGtDQ2xETGtCLEVBQWlCLG9CQUFPN0IsRUFBRCJ9
