/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/node-fetch/browser.js":
/*!********************************************!*\
  !*** ./node_modules/node-fetch/browser.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n// ref: https://github.com/tc39/proposal-global\nvar getGlobal = function () {\n\t// the only reliable means to get the global object is\n\t// `Function('return this')()`\n\t// However, this causes CSP violations in Chrome apps.\n\tif (typeof self !== 'undefined') { return self; }\n\tif (typeof window !== 'undefined') { return window; }\n\tif (typeof global !== 'undefined') { return global; }\n\tthrow new Error('unable to locate global object');\n}\n\nvar global = getGlobal();\n\nmodule.exports = exports = global.fetch;\n\n// Needed for TypeScript and Webpack.\nexports.default = global.fetch.bind(global);\n\nexports.Headers = global.Headers;\nexports.Request = global.Request;\nexports.Response = global.Response;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbm9kZS1mZXRjaC9icm93c2VyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL25vZGUtZmV0Y2gvYnJvd3Nlci5qcz9hMThmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vLyByZWY6IGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLWdsb2JhbFxudmFyIGdldEdsb2JhbCA9IGZ1bmN0aW9uICgpIHtcblx0Ly8gdGhlIG9ubHkgcmVsaWFibGUgbWVhbnMgdG8gZ2V0IHRoZSBnbG9iYWwgb2JqZWN0IGlzXG5cdC8vIGBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpYFxuXHQvLyBIb3dldmVyLCB0aGlzIGNhdXNlcyBDU1AgdmlvbGF0aW9ucyBpbiBDaHJvbWUgYXBwcy5cblx0aWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJykgeyByZXR1cm4gc2VsZjsgfVxuXHRpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHsgcmV0dXJuIHdpbmRvdzsgfVxuXHRpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHsgcmV0dXJuIGdsb2JhbDsgfVxuXHR0aHJvdyBuZXcgRXJyb3IoJ3VuYWJsZSB0byBsb2NhdGUgZ2xvYmFsIG9iamVjdCcpO1xufVxuXG52YXIgZ2xvYmFsID0gZ2V0R2xvYmFsKCk7XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IGdsb2JhbC5mZXRjaDtcblxuLy8gTmVlZGVkIGZvciBUeXBlU2NyaXB0IGFuZCBXZWJwYWNrLlxuZXhwb3J0cy5kZWZhdWx0ID0gZ2xvYmFsLmZldGNoLmJpbmQoZ2xvYmFsKTtcblxuZXhwb3J0cy5IZWFkZXJzID0gZ2xvYmFsLkhlYWRlcnM7XG5leHBvcnRzLlJlcXVlc3QgPSBnbG9iYWwuUmVxdWVzdDtcbmV4cG9ydHMuUmVzcG9uc2UgPSBnbG9iYWwuUmVzcG9uc2U7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/node-fetch/browser.js\n");

/***/ }),

/***/ "./node_modules/ring-buffer-ts/dist/index.js":
/*!***************************************************!*\
  !*** ./node_modules/ring-buffer-ts/dist/index.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("!function(e,t){if(true)module.exports=t();else { var i, r; }}(this,(function(){return function(e){var t={};function r(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var s in e)r.d(i,s,function(t){return e[t]}.bind(null,s));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=0)}([function(e,t,r){\"use strict\";r.r(t);class i{constructor(e){if(this.buffer=[],this.pos=0,e<0)throw new RangeError(\"The size does not allow negative values.\");this.size=e}static fromArray(e,t=0){const r=new i(t);return r.fromArray(e,0===t),r}getSize(){return this.size}getPos(){return this.pos}getBufferLength(){return this.buffer.length}add(...e){e.forEach(e=>{this.buffer[this.pos]=e,this.pos=(this.pos+1)%this.size})}get(e){if(e<0&&(e+=this.buffer.length),!(e<0||e>this.buffer.length))return this.buffer.length<this.size?this.buffer[e]:this.buffer[(this.pos+e)%this.size]}getFirst(){return this.get(0)}getLast(){return this.get(-1)}remove(e,t=1){if(e<0&&(e+=this.buffer.length),e<0||e>this.buffer.length)return[];const r=this.toArray(),i=r.splice(e,t);return this.fromArray(r),i}removeFirst(){return this.remove(0)[0]}removeLast(){return this.remove(-1)[0]}toArray(){return this.buffer.slice(this.pos).concat(this.buffer.slice(0,this.pos))}fromArray(e,t=!1){if(!Array.isArray(e))throw new TypeError(\"Input value is not an array.\");t&&this.resize(e.length),0!==this.size&&(this.buffer=e.slice(-this.size),this.pos=this.buffer.length%this.size)}clear(){this.buffer=[],this.pos=0}resize(e){if(e<0)throw new RangeError(\"The size does not allow negative values.\");if(0===e)this.clear();else if(e!==this.size){const t=this.toArray();this.fromArray(t.slice(-e)),this.pos=this.buffer.length%e}this.size=e}isFull(){return this.buffer.length===this.size}isEmpty(){return 0===this.buffer.length}}r.d(t,\"RingBuffer\",(function(){return i}))}])}));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmluZy1idWZmZXItdHMvZGlzdC9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yaW5nLWJ1ZmZlci10cy9kaXN0L2luZGV4LmpzPzY1NGMiXSwic291cmNlc0NvbnRlbnQiOlsiIWZ1bmN0aW9uKGUsdCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9dCgpO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSx0KTtlbHNle3ZhciByPXQoKTtmb3IodmFyIGkgaW4gcikoXCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0czplKVtpXT1yW2ldfX0odGhpcywoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9e307ZnVuY3Rpb24gcihpKXtpZih0W2ldKXJldHVybiB0W2ldLmV4cG9ydHM7dmFyIHM9dFtpXT17aTppLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIGVbaV0uY2FsbChzLmV4cG9ydHMscyxzLmV4cG9ydHMscikscy5sPSEwLHMuZXhwb3J0c31yZXR1cm4gci5tPWUsci5jPXQsci5kPWZ1bmN0aW9uKGUsdCxpKXtyLm8oZSx0KXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6aX0pfSxyLnI9ZnVuY3Rpb24oZSl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sci50PWZ1bmN0aW9uKGUsdCl7aWYoMSZ0JiYoZT1yKGUpKSw4JnQpcmV0dXJuIGU7aWYoNCZ0JiZcIm9iamVjdFwiPT10eXBlb2YgZSYmZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciBpPU9iamVjdC5jcmVhdGUobnVsbCk7aWYoci5yKGkpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOmV9KSwyJnQmJlwic3RyaW5nXCIhPXR5cGVvZiBlKWZvcih2YXIgcyBpbiBlKXIuZChpLHMsZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19LmJpbmQobnVsbCxzKSk7cmV0dXJuIGl9LHIubj1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4gci5kKHQsXCJhXCIsdCksdH0sci5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxyLnA9XCJcIixyKHIucz0wKX0oW2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtyLnIodCk7Y2xhc3MgaXtjb25zdHJ1Y3RvcihlKXtpZih0aGlzLmJ1ZmZlcj1bXSx0aGlzLnBvcz0wLGU8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlRoZSBzaXplIGRvZXMgbm90IGFsbG93IG5lZ2F0aXZlIHZhbHVlcy5cIik7dGhpcy5zaXplPWV9c3RhdGljIGZyb21BcnJheShlLHQ9MCl7Y29uc3Qgcj1uZXcgaSh0KTtyZXR1cm4gci5mcm9tQXJyYXkoZSwwPT09dCkscn1nZXRTaXplKCl7cmV0dXJuIHRoaXMuc2l6ZX1nZXRQb3MoKXtyZXR1cm4gdGhpcy5wb3N9Z2V0QnVmZmVyTGVuZ3RoKCl7cmV0dXJuIHRoaXMuYnVmZmVyLmxlbmd0aH1hZGQoLi4uZSl7ZS5mb3JFYWNoKGU9Pnt0aGlzLmJ1ZmZlclt0aGlzLnBvc109ZSx0aGlzLnBvcz0odGhpcy5wb3MrMSkldGhpcy5zaXplfSl9Z2V0KGUpe2lmKGU8MCYmKGUrPXRoaXMuYnVmZmVyLmxlbmd0aCksIShlPDB8fGU+dGhpcy5idWZmZXIubGVuZ3RoKSlyZXR1cm4gdGhpcy5idWZmZXIubGVuZ3RoPHRoaXMuc2l6ZT90aGlzLmJ1ZmZlcltlXTp0aGlzLmJ1ZmZlclsodGhpcy5wb3MrZSkldGhpcy5zaXplXX1nZXRGaXJzdCgpe3JldHVybiB0aGlzLmdldCgwKX1nZXRMYXN0KCl7cmV0dXJuIHRoaXMuZ2V0KC0xKX1yZW1vdmUoZSx0PTEpe2lmKGU8MCYmKGUrPXRoaXMuYnVmZmVyLmxlbmd0aCksZTwwfHxlPnRoaXMuYnVmZmVyLmxlbmd0aClyZXR1cm5bXTtjb25zdCByPXRoaXMudG9BcnJheSgpLGk9ci5zcGxpY2UoZSx0KTtyZXR1cm4gdGhpcy5mcm9tQXJyYXkociksaX1yZW1vdmVGaXJzdCgpe3JldHVybiB0aGlzLnJlbW92ZSgwKVswXX1yZW1vdmVMYXN0KCl7cmV0dXJuIHRoaXMucmVtb3ZlKC0xKVswXX10b0FycmF5KCl7cmV0dXJuIHRoaXMuYnVmZmVyLnNsaWNlKHRoaXMucG9zKS5jb25jYXQodGhpcy5idWZmZXIuc2xpY2UoMCx0aGlzLnBvcykpfWZyb21BcnJheShlLHQ9ITEpe2lmKCFBcnJheS5pc0FycmF5KGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnB1dCB2YWx1ZSBpcyBub3QgYW4gYXJyYXkuXCIpO3QmJnRoaXMucmVzaXplKGUubGVuZ3RoKSwwIT09dGhpcy5zaXplJiYodGhpcy5idWZmZXI9ZS5zbGljZSgtdGhpcy5zaXplKSx0aGlzLnBvcz10aGlzLmJ1ZmZlci5sZW5ndGgldGhpcy5zaXplKX1jbGVhcigpe3RoaXMuYnVmZmVyPVtdLHRoaXMucG9zPTB9cmVzaXplKGUpe2lmKGU8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlRoZSBzaXplIGRvZXMgbm90IGFsbG93IG5lZ2F0aXZlIHZhbHVlcy5cIik7aWYoMD09PWUpdGhpcy5jbGVhcigpO2Vsc2UgaWYoZSE9PXRoaXMuc2l6ZSl7Y29uc3QgdD10aGlzLnRvQXJyYXkoKTt0aGlzLmZyb21BcnJheSh0LnNsaWNlKC1lKSksdGhpcy5wb3M9dGhpcy5idWZmZXIubGVuZ3RoJWV9dGhpcy5zaXplPWV9aXNGdWxsKCl7cmV0dXJuIHRoaXMuYnVmZmVyLmxlbmd0aD09PXRoaXMuc2l6ZX1pc0VtcHR5KCl7cmV0dXJuIDA9PT10aGlzLmJ1ZmZlci5sZW5ndGh9fXIuZCh0LFwiUmluZ0J1ZmZlclwiLChmdW5jdGlvbigpe3JldHVybiBpfSkpfV0pfSkpOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/ring-buffer-ts/dist/index.js\n");

/***/ }),

/***/ "./src/Enums.ts":
/*!**********************!*\
  !*** ./src/Enums.ts ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MessageType = void 0;\nvar MessageType;\n(function (MessageType) {\n    MessageType[MessageType[\"InitializationRequest\"] = 0] = \"InitializationRequest\";\n    MessageType[MessageType[\"InitializationResponse\"] = 1] = \"InitializationResponse\";\n    MessageType[MessageType[\"DataRequest\"] = 2] = \"DataRequest\";\n    MessageType[MessageType[\"DataResponse\"] = 3] = \"DataResponse\";\n    MessageType[MessageType[\"SetLoopRequest\"] = 4] = \"SetLoopRequest\";\n    MessageType[MessageType[\"SetStartFrameRequest\"] = 5] = \"SetStartFrameRequest\";\n    MessageType[MessageType[\"SetEndFrameRequest\"] = 6] = \"SetEndFrameRequest\";\n})(MessageType = exports.MessageType || (exports.MessageType = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvRW51bXMudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0VudW1zLnRzPzVlNjEiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGVudW0gTWVzc2FnZVR5cGUge1xuICAgIEluaXRpYWxpemF0aW9uUmVxdWVzdCxcbiAgICBJbml0aWFsaXphdGlvblJlc3BvbnNlLFxuICAgIERhdGFSZXF1ZXN0LFxuICAgIERhdGFSZXNwb25zZSxcbiAgICBTZXRMb29wUmVxdWVzdCxcbiAgICBTZXRTdGFydEZyYW1lUmVxdWVzdCxcbiAgICBTZXRFbmRGcmFtZVJlcXVlc3QsXG59XG5cbiJdLCJtYXBwaW5ncyI6Ijs7O0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Enums.ts\n");

/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ring_buffer_ts_1 = __webpack_require__(/*! ring-buffer-ts */ \"./node_modules/ring-buffer-ts/dist/index.js\");\nconst Enums_1 = __webpack_require__(/*! ./Enums */ \"./src/Enums.ts\");\nconst fetch = __webpack_require__(/*! node-fetch */ \"./node_modules/node-fetch/browser.js\");\nlet fileHeader;\nlet isInitialized = false;\nconst bufferSize = 100;\nlet tempBufferObject;\nlet readStreamOffset = 0;\nlet startFrame = 0;\nlet endFrame = 0;\nlet loop = true;\nlet message;\nself.addEventListener('message', (event) => {\n    const data = event.data;\n    const type = event.data.type;\n    switch (type) {\n        case Enums_1.MessageType.InitializationRequest:\n            initialize(data);\n            break;\n        case Enums_1.MessageType.DataRequest:\n            fetchData(event.data);\n            break;\n        case Enums_1.MessageType.SetLoopRequest:\n            loop = data.value;\n            break;\n        case Enums_1.MessageType.SetStartFrameRequest:\n            startFrame = data.values.startFrame;\n            break;\n        case Enums_1.MessageType.SetEndFrameRequest:\n            endFrame = data.values.endFrame;\n            break;\n        default:\n            console.error(data.action + ' was not understood by the worker');\n    }\n});\nfunction initialize(data) {\n    if (isInitialized)\n        return console.error('Worker has already been initialized for file ' + data.filePath);\n    isInitialized = true;\n    fileHeader = data.fileHeader;\n    endFrame = data.endFrame;\n    startFrame = data.startFrame;\n    loop = data.loop;\n    readStreamOffset = data.readStreamOffset;\n    //@ts-ignore\n    postMessage({\n        type: Enums_1.MessageType.InitializationResponse,\n        isInitialized: isInitialized,\n    });\n}\nasync function fetchData(data) {\n    // Clear Ring Buffer\n    // ringBuffer.clear();\n    const ringBuffer = new ring_buffer_ts_1.RingBuffer(data.framesToFetch.length);\n    // Make a list of buffers to transfer\n    let transferableBuffers = [];\n    let lastFrame = -1;\n    let endOfRangeReached = false;\n    tempBufferObject = {\n        frameNumber: 1,\n        bufferGeometry: null,\n        compressedTexture: null,\n    };\n    let count = 0;\n    // Iterate over values in ascending order...\n    data.framesToFetch.forEach((frame) => {\n        //  If this frame > end frame...\n        // ... warn the dev, since this might be unexpected\n        if (frame > endFrame) {\n            console.warn('Frame fetched outside of loop range');\n            // If loop is off, flag end reached\n            if (!loop) {\n                endOfRangeReached = true;\n                return;\n            }\n            // If loop is on, make sure the frame request fits within start and end frame range\n            frame %= endFrame;\n            // If the start frame is not zero, add to the current frame number\n            if (frame < startFrame)\n                frame += startFrame;\n        }\n        const body = {\n            startByte: readStreamOffset + fileHeader.frameData[frame].startBytePosition,\n            meshLength: fileHeader.frameData[frame].meshLength,\n            textureLength: fileHeader.frameData[frame].textureLength,\n        };\n        fetch('http://localhost:8000/dracosis-stream', {\n            method: 'POST',\n            body: JSON.stringify(body),\n            headers: { 'Content-Type': 'application/json' },\n        })\n            .then((res) => {\n            // @ts-ignore\n            return res.arrayBuffer();\n        })\n            .then((buffer) => {\n            const bufferGeom = buffer.slice(0, fileHeader.frameData[frame].meshLength);\n            const bufferTex = buffer.slice(fileHeader.frameData[frame].meshLength);\n            tempBufferObject.frameNumber = frame;\n            tempBufferObject.bufferGeometry = bufferGeom;\n            tempBufferObject.compressedTexture = bufferTex;\n            ringBuffer.add(tempBufferObject);\n            // Add buffers to transferableBuffers\n            transferableBuffers.push(tempBufferObject.bufferGeometry);\n            transferableBuffers.push(tempBufferObject.compressedTexture);\n            tempBufferObject = {\n                frameNumber: 0,\n                bufferGeometry: null,\n                compressedTexture: null,\n            };\n            count++;\n            // Set whether end was reached\n            if (count == ringBuffer.getSize()) {\n                // Post message\n                message = {\n                    type: Enums_1.MessageType.DataResponse,\n                    buffers: ringBuffer.toArray(),\n                    endReached: endOfRangeReached,\n                };\n                // postMessage(message);\n                postMessage(message);\n            }\n        });\n        lastFrame = frame;\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXgudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2luZGV4LnRzP2M2YWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgSUZpbGVIZWFkZXIsXG4gIFdvcmtlckRhdGFSZXF1ZXN0LFxuICBJQnVmZmVyLFxuICBXb3JrZXJEYXRhUmVzcG9uc2UsXG4gIFdvcmtlckluaXRpYWxpemF0aW9uUmVzcG9uc2UsXG4gIFdvcmtlckluaXRpYWxpemF0aW9uUmVxdWVzdCxcbn0gZnJvbSAnLi9JbnRlcmZhY2VzJztcbmltcG9ydCB7IFJpbmdCdWZmZXIgfSBmcm9tICdyaW5nLWJ1ZmZlci10cyc7XG5pbXBvcnQgeyBNZXNzYWdlVHlwZSB9IGZyb20gJy4vRW51bXMnO1xuY29uc3QgZmV0Y2ggPSByZXF1aXJlKCdub2RlLWZldGNoJyk7XG5cbmxldCBmaWxlSGVhZGVyOiBJRmlsZUhlYWRlcjtcbmxldCBpc0luaXRpYWxpemVkID0gZmFsc2U7XG5jb25zdCBidWZmZXJTaXplID0gMTAwO1xubGV0IHRlbXBCdWZmZXJPYmplY3Q6IElCdWZmZXI7XG5sZXQgcmVhZFN0cmVhbU9mZnNldCA9IDA7XG5cbmxldCBzdGFydEZyYW1lID0gMDtcbmxldCBlbmRGcmFtZSA9IDA7XG5sZXQgbG9vcCA9IHRydWU7XG5sZXQgbWVzc2FnZTogV29ya2VyRGF0YVJlc3BvbnNlO1xuXG5zZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCAoZXZlbnQpID0+IHtcbiAgY29uc3QgZGF0YSA9ICg8YW55PmV2ZW50KS5kYXRhO1xuICBjb25zdCB0eXBlID0gKDxhbnk+ZXZlbnQpLmRhdGEudHlwZTtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBNZXNzYWdlVHlwZS5Jbml0aWFsaXphdGlvblJlcXVlc3Q6XG4gICAgICBpbml0aWFsaXplKGRhdGEpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBNZXNzYWdlVHlwZS5EYXRhUmVxdWVzdDpcbiAgICAgIGZldGNoRGF0YShldmVudC5kYXRhKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgTWVzc2FnZVR5cGUuU2V0TG9vcFJlcXVlc3Q6XG4gICAgICBsb29wID0gZGF0YS52YWx1ZTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgTWVzc2FnZVR5cGUuU2V0U3RhcnRGcmFtZVJlcXVlc3Q6XG4gICAgICBzdGFydEZyYW1lID0gZGF0YS52YWx1ZXMuc3RhcnRGcmFtZTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgTWVzc2FnZVR5cGUuU2V0RW5kRnJhbWVSZXF1ZXN0OlxuICAgICAgZW5kRnJhbWUgPSBkYXRhLnZhbHVlcy5lbmRGcmFtZTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBjb25zb2xlLmVycm9yKGRhdGEuYWN0aW9uICsgJyB3YXMgbm90IHVuZGVyc3Rvb2QgYnkgdGhlIHdvcmtlcicpO1xuICB9XG59KTtcblxuZnVuY3Rpb24gaW5pdGlhbGl6ZShkYXRhOiBXb3JrZXJJbml0aWFsaXphdGlvblJlcXVlc3QpOiB2b2lkIHtcbiAgaWYgKGlzSW5pdGlhbGl6ZWQpXG4gICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoXG4gICAgICAnV29ya2VyIGhhcyBhbHJlYWR5IGJlZW4gaW5pdGlhbGl6ZWQgZm9yIGZpbGUgJyArIGRhdGEuZmlsZVBhdGhcbiAgICApO1xuXG4gIGlzSW5pdGlhbGl6ZWQgPSB0cnVlO1xuICBmaWxlSGVhZGVyID0gZGF0YS5maWxlSGVhZGVyO1xuICBlbmRGcmFtZSA9IGRhdGEuZW5kRnJhbWU7XG4gIHN0YXJ0RnJhbWUgPSBkYXRhLnN0YXJ0RnJhbWU7XG4gIGxvb3AgPSBkYXRhLmxvb3A7XG4gIHJlYWRTdHJlYW1PZmZzZXQgPSBkYXRhLnJlYWRTdHJlYW1PZmZzZXQ7XG5cbiAgLy9AdHMtaWdub3JlXG4gIHBvc3RNZXNzYWdlKHtcbiAgICB0eXBlOiBNZXNzYWdlVHlwZS5Jbml0aWFsaXphdGlvblJlc3BvbnNlLFxuICAgIGlzSW5pdGlhbGl6ZWQ6IGlzSW5pdGlhbGl6ZWQsXG4gIH0gYXMgV29ya2VySW5pdGlhbGl6YXRpb25SZXNwb25zZSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGZldGNoRGF0YShkYXRhOiBXb3JrZXJEYXRhUmVxdWVzdCk6IFByb21pc2U8dm9pZD4ge1xuICAvLyBDbGVhciBSaW5nIEJ1ZmZlclxuICAvLyByaW5nQnVmZmVyLmNsZWFyKCk7XG4gIGNvbnN0IHJpbmdCdWZmZXIgPSBuZXcgUmluZ0J1ZmZlcjxJQnVmZmVyPihkYXRhLmZyYW1lc1RvRmV0Y2gubGVuZ3RoKTtcblxuICAvLyBNYWtlIGEgbGlzdCBvZiBidWZmZXJzIHRvIHRyYW5zZmVyXG4gIGxldCB0cmFuc2ZlcmFibGVCdWZmZXJzOiBCdWZmZXJbXSA9IFtdO1xuICBsZXQgbGFzdEZyYW1lID0gLTE7XG4gIGxldCBlbmRPZlJhbmdlUmVhY2hlZCA9IGZhbHNlO1xuXG4gIHRlbXBCdWZmZXJPYmplY3QgPSB7XG4gICAgZnJhbWVOdW1iZXI6IDEsXG4gICAgYnVmZmVyR2VvbWV0cnk6IG51bGwsXG4gICAgY29tcHJlc3NlZFRleHR1cmU6IG51bGwsXG4gIH07XG5cbiAgbGV0IGNvdW50ID0gMDtcblxuICAvLyBJdGVyYXRlIG92ZXIgdmFsdWVzIGluIGFzY2VuZGluZyBvcmRlci4uLlxuICBkYXRhLmZyYW1lc1RvRmV0Y2guZm9yRWFjaCgoZnJhbWUpID0+IHtcbiAgICAvLyAgSWYgdGhpcyBmcmFtZSA+IGVuZCBmcmFtZS4uLlxuICAgIC8vIC4uLiB3YXJuIHRoZSBkZXYsIHNpbmNlIHRoaXMgbWlnaHQgYmUgdW5leHBlY3RlZFxuXG4gICAgaWYgKGZyYW1lID4gZW5kRnJhbWUpIHtcbiAgICAgIGNvbnNvbGUud2FybignRnJhbWUgZmV0Y2hlZCBvdXRzaWRlIG9mIGxvb3AgcmFuZ2UnKTtcbiAgICAgIC8vIElmIGxvb3AgaXMgb2ZmLCBmbGFnIGVuZCByZWFjaGVkXG4gICAgICBpZiAoIWxvb3ApIHtcbiAgICAgICAgZW5kT2ZSYW5nZVJlYWNoZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBJZiBsb29wIGlzIG9uLCBtYWtlIHN1cmUgdGhlIGZyYW1lIHJlcXVlc3QgZml0cyB3aXRoaW4gc3RhcnQgYW5kIGVuZCBmcmFtZSByYW5nZVxuICAgICAgZnJhbWUgJT0gZW5kRnJhbWU7XG4gICAgICAvLyBJZiB0aGUgc3RhcnQgZnJhbWUgaXMgbm90IHplcm8sIGFkZCB0byB0aGUgY3VycmVudCBmcmFtZSBudW1iZXJcbiAgICAgIGlmIChmcmFtZSA8IHN0YXJ0RnJhbWUpIGZyYW1lICs9IHN0YXJ0RnJhbWU7XG4gICAgfVxuXG4gICAgY29uc3QgYm9keSA9IHtcbiAgICAgIHN0YXJ0Qnl0ZTpcbiAgICAgICAgcmVhZFN0cmVhbU9mZnNldCArIGZpbGVIZWFkZXIuZnJhbWVEYXRhW2ZyYW1lXS5zdGFydEJ5dGVQb3NpdGlvbixcbiAgICAgIG1lc2hMZW5ndGg6IGZpbGVIZWFkZXIuZnJhbWVEYXRhW2ZyYW1lXS5tZXNoTGVuZ3RoLFxuICAgICAgdGV4dHVyZUxlbmd0aDogZmlsZUhlYWRlci5mcmFtZURhdGFbZnJhbWVdLnRleHR1cmVMZW5ndGgsXG4gICAgfTtcblxuICAgIGZldGNoKCdodHRwOi8vbG9jYWxob3N0OjgwMDAvZHJhY29zaXMtc3RyZWFtJywge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgcmV0dXJuIHJlcy5hcnJheUJ1ZmZlcigpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKChidWZmZXIpID0+IHtcblxuICAgICAgICBjb25zdCBidWZmZXJHZW9tID0gYnVmZmVyLnNsaWNlKFxuICAgICAgICAgIDAsXG4gICAgICAgICAgZmlsZUhlYWRlci5mcmFtZURhdGFbZnJhbWVdLm1lc2hMZW5ndGhcbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBidWZmZXJUZXggPSBidWZmZXIuc2xpY2UoXG4gICAgICAgICAgZmlsZUhlYWRlci5mcmFtZURhdGFbZnJhbWVdLm1lc2hMZW5ndGhcbiAgICAgICAgKTtcblxuICAgICAgICB0ZW1wQnVmZmVyT2JqZWN0LmZyYW1lTnVtYmVyID0gZnJhbWU7XG4gICAgICAgIHRlbXBCdWZmZXJPYmplY3QuYnVmZmVyR2VvbWV0cnkgPSBidWZmZXJHZW9tO1xuICAgICAgICB0ZW1wQnVmZmVyT2JqZWN0LmNvbXByZXNzZWRUZXh0dXJlID0gYnVmZmVyVGV4O1xuXG4gICAgICAgIHJpbmdCdWZmZXIuYWRkKHRlbXBCdWZmZXJPYmplY3QpO1xuXG4gICAgICAgIC8vIEFkZCBidWZmZXJzIHRvIHRyYW5zZmVyYWJsZUJ1ZmZlcnNcbiAgICAgICAgdHJhbnNmZXJhYmxlQnVmZmVycy5wdXNoKHRlbXBCdWZmZXJPYmplY3QuYnVmZmVyR2VvbWV0cnkpO1xuICAgICAgICB0cmFuc2ZlcmFibGVCdWZmZXJzLnB1c2godGVtcEJ1ZmZlck9iamVjdC5jb21wcmVzc2VkVGV4dHVyZSk7XG5cbiAgICAgICAgdGVtcEJ1ZmZlck9iamVjdCA9IHtcbiAgICAgICAgICBmcmFtZU51bWJlcjogMCxcbiAgICAgICAgICBidWZmZXJHZW9tZXRyeTogbnVsbCxcbiAgICAgICAgICBjb21wcmVzc2VkVGV4dHVyZTogbnVsbCxcbiAgICAgICAgfTtcblxuICAgICAgICBjb3VudCsrO1xuXG4gICAgICAgIC8vIFNldCB3aGV0aGVyIGVuZCB3YXMgcmVhY2hlZFxuICAgICAgICBpZiAoY291bnQgPT0gcmluZ0J1ZmZlci5nZXRTaXplKCkpIHtcbiAgICAgICAgICAvLyBQb3N0IG1lc3NhZ2VcbiAgICAgICAgICBtZXNzYWdlID0ge1xuICAgICAgICAgICAgdHlwZTogTWVzc2FnZVR5cGUuRGF0YVJlc3BvbnNlLFxuICAgICAgICAgICAgYnVmZmVyczogcmluZ0J1ZmZlci50b0FycmF5KCksXG4gICAgICAgICAgICBlbmRSZWFjaGVkOiBlbmRPZlJhbmdlUmVhY2hlZCxcbiAgICAgICAgICB9O1xuICAgICAgICAgIC8vIHBvc3RNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICAgIHBvc3RNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIGxhc3RGcmFtZSA9IGZyYW1lO1xuICB9KTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7QUFRQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/index.ts\n");

/***/ })

/******/ });